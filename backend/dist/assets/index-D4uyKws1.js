var A3=Object.defineProperty;var E3=(t,e,n)=>e in t?A3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gt=(t,e,n)=>E3(t,typeof e!="symbol"?e+"":e,n);function M3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var r5={exports:{}},om={},i5={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=Symbol.for("react.element"),D3=Symbol.for("react.portal"),I3=Symbol.for("react.fragment"),R3=Symbol.for("react.strict_mode"),F3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),z3=Symbol.for("react.context"),U3=Symbol.for("react.forward_ref"),W3=Symbol.for("react.suspense"),H3=Symbol.for("react.memo"),q3=Symbol.for("react.lazy"),Sx=Symbol.iterator;function V3(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var s5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o5=Object.assign,a5={};function Tu(t,e,n){this.props=t,this.context=e,this.refs=a5,this.updater=n||s5}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l5(){}l5.prototype=Tu.prototype;function D1(t,e,n){this.props=t,this.context=e,this.refs=a5,this.updater=n||s5}var I1=D1.prototype=new l5;I1.constructor=D1;o5(I1,Tu.prototype);I1.isPureReactComponent=!0;var kx=Array.isArray,c5=Object.prototype.hasOwnProperty,R1={current:null},u5={key:!0,ref:!0,__self:!0,__source:!0};function d5(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)c5.call(e,r)&&!u5.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Lh,type:t,key:s,ref:a,props:i,_owner:R1.current}}function $3(t,e){return{$$typeof:Lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lh}function Y3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cx=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y3(""+t.key):e.toString(36)}function rp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Lh:case D3:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zm(a,0):r,kx(i)?(n="",t!=null&&(n=t.replace(Cx,"$&/")+"/"),rp(i,e,n,"",function(h){return h})):i!=null&&(F1(i)&&(i=$3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Cx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",kx(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+Zm(s,c);a+=rp(s,e,n,u,i)}else if(u=V3(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+Zm(s,c++),a+=rp(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sf(t,e,n){if(t==null)return t;var r=[],i=0;return rp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Z3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},ip={transition:null},K3={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:ip,ReactCurrentOwner:R1};function h5(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:sf,forEach:function(t,e,n){sf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sf(t,function(){e++}),e},toArray:function(t){return sf(t,function(e){return e})||[]},only:function(t){if(!F1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=Tu;qt.Fragment=I3;qt.Profiler=F3;qt.PureComponent=D1;qt.StrictMode=R3;qt.Suspense=W3;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K3;qt.act=h5;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=R1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)c5.call(e,u)&&!u5.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Lh,type:t.type,key:i,ref:s,props:r,_owner:a}};qt.createContext=function(t){return t={$$typeof:z3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B3,_context:t},t.Consumer=t};qt.createElement=d5;qt.createFactory=function(t){var e=d5.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:U3,render:t}};qt.isValidElement=F1;qt.lazy=function(t){return{$$typeof:q3,_payload:{_status:-1,_result:t},_init:Z3}};qt.memo=function(t,e){return{$$typeof:H3,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=ip.transition;ip.transition={};try{t()}finally{ip.transition=e}};qt.unstable_act=h5;qt.useCallback=function(t,e){return ci.current.useCallback(t,e)};qt.useContext=function(t){return ci.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};qt.useEffect=function(t,e){return ci.current.useEffect(t,e)};qt.useId=function(){return ci.current.useId()};qt.useImperativeHandle=function(t,e,n){return ci.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return ci.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return ci.current.useReducer(t,e,n)};qt.useRef=function(t){return ci.current.useRef(t)};qt.useState=function(t){return ci.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return ci.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return ci.current.useTransition()};qt.version="18.3.1";i5.exports=qt;var O=i5.exports;const ki=T3(O),G3=M3({__proto__:null,default:ki},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3=O,J3=Symbol.for("react.element"),Q3=Symbol.for("react.fragment"),e6=Object.prototype.hasOwnProperty,t6=X3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n6={key:!0,ref:!0,__self:!0,__source:!0};function f5(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)e6.call(e,r)&&!n6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:J3,type:t,key:s,ref:a,props:i,_owner:t6.current}}om.Fragment=Q3;om.jsx=f5;om.jsxs=f5;r5.exports=om;var o=r5.exports,o0={},p5={exports:{}},qi={},m5={exports:{}},g5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,q){var ee=H.length;H.push(q);e:for(;0<ee;){var te=ee-1>>>1,M=H[te];if(0<i(M,q))H[te]=q,H[ee]=M,ee=te;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],ee=H.pop();if(ee!==q){H[0]=ee;e:for(var te=0,M=H.length,B=M>>>1;te<B;){var G=2*(te+1)-1,$=H[G],ne=G+1,he=H[ne];if(0>i($,ee))ne<M&&0>i(he,$)?(H[te]=he,H[ne]=ee,te=ne):(H[te]=$,H[G]=ee,te=G);else if(ne<M&&0>i(he,ee))H[te]=he,H[ne]=ee,te=ne;else break e}}return q}function i(H,q){var ee=H.sortIndex-q.sortIndex;return ee!==0?ee:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],f=1,m=null,x=3,g=!1,b=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=H)r(h),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(h)}}function E(H){if(N=!1,j(H),!b)if(n(u)!==null)b=!0,Q(T);else{var q=n(h);q!==null&&Z(E,q.startTime-H)}}function T(H,q){b=!1,N&&(N=!1,v(P),P=-1),g=!0;var ee=x;try{for(j(q),m=n(u);m!==null&&(!(m.expirationTime>q)||H&&!I());){var te=m.callback;if(typeof te=="function"){m.callback=null,x=m.priorityLevel;var M=te(m.expirationTime<=q);q=t.unstable_now(),typeof M=="function"?m.callback=M:m===n(u)&&r(u),j(q)}else r(u);m=n(u)}if(m!==null)var B=!0;else{var G=n(h);G!==null&&Z(E,G.startTime-q),B=!1}return B}finally{m=null,x=ee,g=!1}}var F=!1,D=null,P=-1,Y=5,V=-1;function I(){return!(t.unstable_now()-V<Y)}function R(){if(D!==null){var H=t.unstable_now();V=H;var q=!0;try{q=D(!0,H)}finally{q?K():(F=!1,D=null)}}else F=!1}var K;if(typeof w=="function")K=function(){w(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=R,K=function(){le.postMessage(null)}}else K=function(){k(R,0)};function Q(H){D=H,F||(F=!0,K())}function Z(H,q){P=k(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Q(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var ee=x;x=q;try{return H()}finally{x=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=x;x=H;try{return q()}finally{x=ee}},t.unstable_scheduleCallback=function(H,q,ee){var te=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?te+ee:te):ee=te,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ee+M,H={id:f++,callback:q,priorityLevel:H,startTime:ee,expirationTime:M,sortIndex:-1},ee>te?(H.sortIndex=ee,e(h,H),n(u)===null&&H===n(h)&&(N?(v(P),P=-1):N=!0,Z(E,ee-te))):(H.sortIndex=M,e(u,H),b||g||(b=!0,Q(T))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var q=x;return function(){var ee=x;x=q;try{return H.apply(this,arguments)}finally{x=ee}}}})(g5);m5.exports=g5;var r6=m5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6=O,Hi=r6;function Xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x5=new Set,Jd={};function gc(t,e){_u(t,e),_u(t+"Capture",e)}function _u(t,e){for(Jd[t]=e,t=0;t<e.length;t++)x5.add(e[t])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=Object.prototype.hasOwnProperty,s6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Px={},Lx={};function o6(t){return a0.call(Lx,t)?!0:a0.call(Px,t)?!1:s6.test(t)?Lx[t]=!0:(Px[t]=!0,!1)}function a6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l6(t,e,n,r){if(e===null||typeof e>"u"||a6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var B1=/[\-:]([a-z])/g;function z1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B1,z1);Cr[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B1,z1);Cr[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B1,z1);Cr[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function U1(t,e,n,r){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l6(e,n,i,r)&&(n=null),r||i===null?o6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ta=i6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),Qc=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),y5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),q1=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),b5=Symbol.for("react.offscreen"),Ax=Symbol.iterator;function td(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var In=Object.assign,Km;function Nd(t){if(Km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Km=e&&e[1]||""}return`
`+Km+t}var Gm=!1;function Xm(t,e){if(!t||Gm)return"";Gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nd(t):""}function c6(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=Xm(t.type,!1),t;case 11:return t=Xm(t.type.render,!1),t;case 1:return t=Xm(t.type,!0),t;default:return""}}function d0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eu:return"Fragment";case Qc:return"Portal";case l0:return"Profiler";case W1:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v5:return(t.displayName||"Context")+".Consumer";case y5:return(t._context.displayName||"Context")+".Provider";case H1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q1:return e=t.displayName||null,e!==null?e:d0(t.type)||"Memo";case Da:e=t._payload,t=t._init;try{return d0(t(e))}catch{}}return null}function u6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(e);case 8:return e===W1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d6(t){var e=_5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function af(t){t._valueTracker||(t._valueTracker=d6(t))}function w5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _p(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h0(t,e){var n=e.checked;return In({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N5(t,e){e=e.checked,e!=null&&U1(t,"checked",e,!1)}function f0(t,e){N5(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p0(t,e.type,n):e.hasOwnProperty("defaultValue")&&p0(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p0(t,e,n){(e!=="number"||_p(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jd=Array.isArray;function hu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function m0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return In({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Xe(92));if(jd(n)){if(1<n.length)throw Error(Xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function j5(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ox(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lf,k5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h6=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(t){h6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Md[e]=Md[t]})});function C5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Md.hasOwnProperty(t)&&Md[t]?(""+e).trim():e+"px"}function P5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var f6=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x0(t,e){if(e){if(f6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function y0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v0=null;function V1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b0=null,fu=null,pu=null;function Dx(t){if(t=Mh(t)){if(typeof b0!="function")throw Error(Xe(280));var e=t.stateNode;e&&(e=dm(e),b0(t.stateNode,t.type,e))}}function L5(t){fu?pu?pu.push(t):pu=[t]:fu=t}function A5(){if(fu){var t=fu,e=pu;if(pu=fu=null,Dx(t),e)for(t=0;t<e.length;t++)Dx(e[t])}}function E5(t,e){return t(e)}function M5(){}var Jm=!1;function T5(t,e,n){if(Jm)return t(e,n);Jm=!0;try{return E5(t,e,n)}finally{Jm=!1,(fu!==null||pu!==null)&&(M5(),A5())}}function eh(t,e){var n=t.stateNode;if(n===null)return null;var r=dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Xe(231,e,typeof n));return n}var _0=!1;if(Xo)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){_0=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{_0=!1}function p6(t,e,n,r,i,s,a,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Td=!1,wp=null,Np=!1,w0=null,m6={onError:function(t){Td=!0,wp=t}};function g6(t,e,n,r,i,s,a,c,u){Td=!1,wp=null,p6.apply(m6,arguments)}function x6(t,e,n,r,i,s,a,c,u){if(g6.apply(this,arguments),Td){if(Td){var h=wp;Td=!1,wp=null}else throw Error(Xe(198));Np||(Np=!0,w0=h)}}function xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ix(t){if(xc(t)!==t)throw Error(Xe(188))}function y6(t){var e=t.alternate;if(!e){if(e=xc(t),e===null)throw Error(Xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ix(i),t;if(s===r)return Ix(i),e;s=s.sibling}throw Error(Xe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(Xe(189))}}if(n.alternate!==r)throw Error(Xe(190))}if(n.tag!==3)throw Error(Xe(188));return n.stateNode.current===n?t:e}function D5(t){return t=y6(t),t!==null?I5(t):null}function I5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I5(t);if(e!==null)return e;t=t.sibling}return null}var R5=Hi.unstable_scheduleCallback,Rx=Hi.unstable_cancelCallback,v6=Hi.unstable_shouldYield,b6=Hi.unstable_requestPaint,Yn=Hi.unstable_now,_6=Hi.unstable_getCurrentPriorityLevel,$1=Hi.unstable_ImmediatePriority,F5=Hi.unstable_UserBlockingPriority,jp=Hi.unstable_NormalPriority,w6=Hi.unstable_LowPriority,B5=Hi.unstable_IdlePriority,am=null,so=null;function N6(t){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(am,t,void 0,(t.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:k6,j6=Math.log,S6=Math.LN2;function k6(t){return t>>>=0,t===0?32:31-(j6(t)/S6|0)|0}var cf=64,uf=4194304;function Sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Sd(c):(s&=a,s!==0&&(r=Sd(s)))}else a=n&~i,a!==0?r=Sd(a):s!==0&&(r=Sd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ts(e),i=1<<n,r|=t[n],e&=~i;return r}function C6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ts(s),c=1<<a,u=i[a];u===-1?(!(c&n)||c&r)&&(i[a]=C6(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function N0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z5(){var t=cf;return cf<<=1,!(cf&4194240)&&(cf=64),t}function Qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ah(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ts(e),t[e]=n}function L6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ts(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Y1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ts(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var hn=0;function U5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W5,Z1,H5,q5,V5,j0=!1,df=[],Ya=null,Za=null,Ka=null,th=new Map,nh=new Map,Ra=[],A6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fx(t,e){switch(t){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":th.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(e.pointerId)}}function rd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mh(e),e!==null&&Z1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E6(t,e,n,r,i){switch(e){case"focusin":return Ya=rd(Ya,t,e,n,r,i),!0;case"dragenter":return Za=rd(Za,t,e,n,r,i),!0;case"mouseover":return Ka=rd(Ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return th.set(s,rd(th.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nh.set(s,rd(nh.get(s)||null,t,e,n,r,i)),!0}return!1}function $5(t){var e=Yl(t.target);if(e!==null){var n=xc(e);if(n!==null){if(e=n.tag,e===13){if(e=O5(n),e!==null){t.blockedOn=e,V5(t.priority,function(){H5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=S0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v0=r,n.target.dispatchEvent(r),v0=null}else return e=Mh(n),e!==null&&Z1(e),t.blockedOn=n,!1;e.shift()}return!0}function Bx(t,e,n){sp(t)&&n.delete(e)}function M6(){j0=!1,Ya!==null&&sp(Ya)&&(Ya=null),Za!==null&&sp(Za)&&(Za=null),Ka!==null&&sp(Ka)&&(Ka=null),th.forEach(Bx),nh.forEach(Bx)}function id(t,e){t.blockedOn===e&&(t.blockedOn=null,j0||(j0=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,M6)))}function rh(t){function e(i){return id(i,t)}if(0<df.length){id(df[0],t);for(var n=1;n<df.length;n++){var r=df[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ya!==null&&id(Ya,t),Za!==null&&id(Za,t),Ka!==null&&id(Ka,t),th.forEach(e),nh.forEach(e),n=0;n<Ra.length;n++)r=Ra[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ra.length&&(n=Ra[0],n.blockedOn===null);)$5(n),n.blockedOn===null&&Ra.shift()}var mu=ta.ReactCurrentBatchConfig,kp=!0;function T6(t,e,n,r){var i=hn,s=mu.transition;mu.transition=null;try{hn=1,K1(t,e,n,r)}finally{hn=i,mu.transition=s}}function O6(t,e,n,r){var i=hn,s=mu.transition;mu.transition=null;try{hn=4,K1(t,e,n,r)}finally{hn=i,mu.transition=s}}function K1(t,e,n,r){if(kp){var i=S0(t,e,n,r);if(i===null)cg(t,e,r,Cp,n),Fx(t,r);else if(E6(i,t,e,n,r))r.stopPropagation();else if(Fx(t,r),e&4&&-1<A6.indexOf(t)){for(;i!==null;){var s=Mh(i);if(s!==null&&W5(s),s=S0(t,e,n,r),s===null&&cg(t,e,r,Cp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cg(t,e,r,null,n)}}var Cp=null;function S0(t,e,n,r){if(Cp=null,t=V1(r),t=Yl(t),t!==null)if(e=xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cp=t,null}function Y5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_6()){case $1:return 1;case F5:return 4;case jp:case w6:return 16;case B5:return 536870912;default:return 16}default:return 16}}var za=null,G1=null,op=null;function Z5(){if(op)return op;var t,e=G1,n=e.length,r,i="value"in za?za.value:za.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return op=i.slice(t,1<r?1-r:void 0)}function ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hf(){return!0}function zx(){return!1}function Vi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hf:zx,this.isPropagationStopped=zx,this}return In(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X1=Vi(Ou),Eh=In({},Ou,{view:0,detail:0}),D6=Vi(Eh),eg,tg,sd,lm=In({},Eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sd&&(sd&&t.type==="mousemove"?(eg=t.screenX-sd.screenX,tg=t.screenY-sd.screenY):tg=eg=0,sd=t),eg)},movementY:function(t){return"movementY"in t?t.movementY:tg}}),Ux=Vi(lm),I6=In({},lm,{dataTransfer:0}),R6=Vi(I6),F6=In({},Eh,{relatedTarget:0}),ng=Vi(F6),B6=In({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),z6=Vi(B6),U6=In({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W6=Vi(U6),H6=In({},Ou,{data:0}),Wx=Vi(H6),q6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$6[t])?!!e[t]:!1}function J1(){return Y6}var Z6=In({},Eh,{key:function(t){if(t.key){var e=q6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J1,charCode:function(t){return t.type==="keypress"?ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K6=Vi(Z6),G6=In({},lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hx=Vi(G6),X6=In({},Eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J1}),J6=Vi(X6),Q6=In({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=Vi(Q6),tN=In({},lm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nN=Vi(tN),rN=[9,13,27,32],Q1=Xo&&"CompositionEvent"in window,Od=null;Xo&&"documentMode"in document&&(Od=document.documentMode);var iN=Xo&&"TextEvent"in window&&!Od,K5=Xo&&(!Q1||Od&&8<Od&&11>=Od),qx=" ",Vx=!1;function G5(t,e){switch(t){case"keyup":return rN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tu=!1;function sN(t,e){switch(t){case"compositionend":return X5(e);case"keypress":return e.which!==32?null:(Vx=!0,qx);case"textInput":return t=e.data,t===qx&&Vx?null:t;default:return null}}function oN(t,e){if(tu)return t==="compositionend"||!Q1&&G5(t,e)?(t=Z5(),op=G1=za=null,tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K5&&e.locale!=="ko"?null:e.data;default:return null}}var aN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aN[t.type]:e==="textarea"}function J5(t,e,n,r){L5(r),e=Pp(e,"onChange"),0<e.length&&(n=new X1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dd=null,ih=null;function lN(t){c_(t,0)}function cm(t){var e=iu(t);if(w5(e))return t}function cN(t,e){if(t==="change")return e}var Q5=!1;if(Xo){var rg;if(Xo){var ig="oninput"in document;if(!ig){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),ig=typeof Yx.oninput=="function"}rg=ig}else rg=!1;Q5=rg&&(!document.documentMode||9<document.documentMode)}function Zx(){Dd&&(Dd.detachEvent("onpropertychange",e_),ih=Dd=null)}function e_(t){if(t.propertyName==="value"&&cm(ih)){var e=[];J5(e,ih,t,V1(t)),T5(lN,e)}}function uN(t,e,n){t==="focusin"?(Zx(),Dd=e,ih=n,Dd.attachEvent("onpropertychange",e_)):t==="focusout"&&Zx()}function dN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cm(ih)}function hN(t,e){if(t==="click")return cm(e)}function fN(t,e){if(t==="input"||t==="change")return cm(e)}function pN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ds=typeof Object.is=="function"?Object.is:pN;function sh(t,e){if(Ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!a0.call(e,i)||!Ds(t[i],e[i]))return!1}return!0}function Kx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gx(t,e){var n=Kx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kx(n)}}function t_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n_(){for(var t=window,e=_p();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_p(t.document)}return e}function e2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mN(t){var e=n_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&t_(n.ownerDocument.documentElement,n)){if(r!==null&&e2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Gx(n,s);var a=Gx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gN=Xo&&"documentMode"in document&&11>=document.documentMode,nu=null,k0=null,Id=null,C0=!1;function Xx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C0||nu==null||nu!==_p(r)||(r=nu,"selectionStart"in r&&e2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Id&&sh(Id,r)||(Id=r,r=Pp(k0,"onSelect"),0<r.length&&(e=new X1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nu)))}function ff(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ru={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},sg={},r_={};Xo&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function um(t){if(sg[t])return sg[t];if(!ru[t])return t;var e=ru[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r_)return sg[t]=e[n];return t}var i_=um("animationend"),s_=um("animationiteration"),o_=um("animationstart"),a_=um("transitionend"),l_=new Map,Jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cl(t,e){l_.set(t,e),gc(e,[t])}for(var og=0;og<Jx.length;og++){var ag=Jx[og],xN=ag.toLowerCase(),yN=ag[0].toUpperCase()+ag.slice(1);cl(xN,"on"+yN)}cl(i_,"onAnimationEnd");cl(s_,"onAnimationIteration");cl(o_,"onAnimationStart");cl("dblclick","onDoubleClick");cl("focusin","onFocus");cl("focusout","onBlur");cl(a_,"onTransitionEnd");_u("onMouseEnter",["mouseout","mouseover"]);_u("onMouseLeave",["mouseout","mouseover"]);_u("onPointerEnter",["pointerout","pointerover"]);_u("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vN=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function Qx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,x6(r,e,void 0,t),t.currentTarget=null}function c_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;Qx(i,c,h),s=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,h=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;Qx(i,c,h),s=u}}}if(Np)throw t=w0,Np=!1,w0=null,t}function Nn(t,e){var n=e[M0];n===void 0&&(n=e[M0]=new Set);var r=t+"__bubble";n.has(r)||(u_(e,t,2,!1),n.add(r))}function lg(t,e,n){var r=0;e&&(r|=4),u_(n,t,r,e)}var pf="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[pf]){t[pf]=!0,x5.forEach(function(n){n!=="selectionchange"&&(vN.has(n)||lg(n,!1,t),lg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pf]||(e[pf]=!0,lg("selectionchange",!1,e))}}function u_(t,e,n,r){switch(Y5(e)){case 1:var i=T6;break;case 4:i=O6;break;default:i=K1}n=i.bind(null,e,n,t),i=void 0,!_0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Yl(c),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}c=c.parentNode}}r=r.return}T5(function(){var h=s,f=V1(n),m=[];e:{var x=l_.get(t);if(x!==void 0){var g=X1,b=t;switch(t){case"keypress":if(ap(n)===0)break e;case"keydown":case"keyup":g=K6;break;case"focusin":b="focus",g=ng;break;case"focusout":b="blur",g=ng;break;case"beforeblur":case"afterblur":g=ng;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=R6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=J6;break;case i_:case s_:case o_:g=z6;break;case a_:g=eN;break;case"scroll":g=D6;break;case"wheel":g=nN;break;case"copy":case"cut":case"paste":g=W6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Hx}var N=(e&4)!==0,k=!N&&t==="scroll",v=N?x!==null?x+"Capture":null:x;N=[];for(var w=h,j;w!==null;){j=w;var E=j.stateNode;if(j.tag===5&&E!==null&&(j=E,v!==null&&(E=eh(w,v),E!=null&&N.push(ah(w,E,j)))),k)break;w=w.return}0<N.length&&(x=new g(x,b,null,n,f),m.push({event:x,listeners:N}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",x&&n!==v0&&(b=n.relatedTarget||n.fromElement)&&(Yl(b)||b[Jo]))break e;if((g||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=h,b=b?Yl(b):null,b!==null&&(k=xc(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=h),g!==b)){if(N=Ux,E="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(N=Hx,E="onPointerLeave",v="onPointerEnter",w="pointer"),k=g==null?x:iu(g),j=b==null?x:iu(b),x=new N(E,w+"leave",g,n,f),x.target=k,x.relatedTarget=j,E=null,Yl(f)===h&&(N=new N(v,w+"enter",b,n,f),N.target=j,N.relatedTarget=k,E=N),k=E,g&&b)t:{for(N=g,v=b,w=0,j=N;j;j=Uc(j))w++;for(j=0,E=v;E;E=Uc(E))j++;for(;0<w-j;)N=Uc(N),w--;for(;0<j-w;)v=Uc(v),j--;for(;w--;){if(N===v||v!==null&&N===v.alternate)break t;N=Uc(N),v=Uc(v)}N=null}else N=null;g!==null&&ey(m,x,g,N,!1),b!==null&&k!==null&&ey(m,k,b,N,!0)}}e:{if(x=h?iu(h):window,g=x.nodeName&&x.nodeName.toLowerCase(),g==="select"||g==="input"&&x.type==="file")var T=cN;else if($x(x))if(Q5)T=fN;else{T=dN;var F=uN}else(g=x.nodeName)&&g.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(T=hN);if(T&&(T=T(t,h))){J5(m,T,n,f);break e}F&&F(t,x,h),t==="focusout"&&(F=x._wrapperState)&&F.controlled&&x.type==="number"&&p0(x,"number",x.value)}switch(F=h?iu(h):window,t){case"focusin":($x(F)||F.contentEditable==="true")&&(nu=F,k0=h,Id=null);break;case"focusout":Id=k0=nu=null;break;case"mousedown":C0=!0;break;case"contextmenu":case"mouseup":case"dragend":C0=!1,Xx(m,n,f);break;case"selectionchange":if(gN)break;case"keydown":case"keyup":Xx(m,n,f)}var D;if(Q1)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else tu?G5(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(K5&&n.locale!=="ko"&&(tu||P!=="onCompositionStart"?P==="onCompositionEnd"&&tu&&(D=Z5()):(za=f,G1="value"in za?za.value:za.textContent,tu=!0)),F=Pp(h,P),0<F.length&&(P=new Wx(P,t,null,n,f),m.push({event:P,listeners:F}),D?P.data=D:(D=X5(n),D!==null&&(P.data=D)))),(D=iN?sN(t,n):oN(t,n))&&(h=Pp(h,"onBeforeInput"),0<h.length&&(f=new Wx("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=D))}c_(m,e)})}function ah(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=eh(t,n),s!=null&&r.unshift(ah(t,s,i)),s=eh(t,e),s!=null&&r.push(ah(t,s,i))),t=t.return}return r}function Uc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ey(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,i?(u=eh(n,s),u!=null&&a.unshift(ah(n,u,c))):i||(u=eh(n,s),u!=null&&a.push(ah(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var bN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(bN,`
`).replace(_N,"")}function mf(t,e,n){if(e=ty(e),ty(t)!==e&&n)throw Error(Xe(425))}function Lp(){}var P0=null,L0=null;function A0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E0=typeof setTimeout=="function"?setTimeout:void 0,wN=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,NN=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(jN)}:E0;function jN(t){setTimeout(function(){throw t})}function ug(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rh(e)}function Ga(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ry(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Du=Math.random().toString(36).slice(2),ro="__reactFiber$"+Du,lh="__reactProps$"+Du,Jo="__reactContainer$"+Du,M0="__reactEvents$"+Du,SN="__reactListeners$"+Du,kN="__reactHandles$"+Du;function Yl(t){var e=t[ro];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[ro]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ry(t);t!==null;){if(n=t[ro])return n;t=ry(t)}return e}t=n,n=t.parentNode}return null}function Mh(t){return t=t[ro]||t[Jo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Xe(33))}function dm(t){return t[lh]||null}var T0=[],su=-1;function ul(t){return{current:t}}function kn(t){0>su||(t.current=T0[su],T0[su]=null,su--)}function vn(t,e){su++,T0[su]=t.current,t.current=e}var sl={},Yr=ul(sl),Ci=ul(!1),ac=sl;function wu(t,e){var n=t.type.contextTypes;if(!n)return sl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pi(t){return t=t.childContextTypes,t!=null}function Ap(){kn(Ci),kn(Yr)}function iy(t,e,n){if(Yr.current!==sl)throw Error(Xe(168));vn(Yr,e),vn(Ci,n)}function d_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Xe(108,u6(t)||"Unknown",i));return In({},n,r)}function Ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sl,ac=Yr.current,vn(Yr,t),vn(Ci,Ci.current),!0}function sy(t,e,n){var r=t.stateNode;if(!r)throw Error(Xe(169));n?(t=d_(t,e,ac),r.__reactInternalMemoizedMergedChildContext=t,kn(Ci),kn(Yr),vn(Yr,t)):kn(Ci),vn(Ci,n)}var Vo=null,hm=!1,dg=!1;function h_(t){Vo===null?Vo=[t]:Vo.push(t)}function CN(t){hm=!0,h_(t)}function dl(){if(!dg&&Vo!==null){dg=!0;var t=0,e=hn;try{var n=Vo;for(hn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vo=null,hm=!1}catch(i){throw Vo!==null&&(Vo=Vo.slice(t+1)),R5($1,dl),i}finally{hn=e,dg=!1}}return null}var ou=[],au=0,Mp=null,Tp=0,rs=[],is=0,lc=null,Yo=1,Zo="";function Wl(t,e){ou[au++]=Tp,ou[au++]=Mp,Mp=t,Tp=e}function f_(t,e,n){rs[is++]=Yo,rs[is++]=Zo,rs[is++]=lc,lc=t;var r=Yo;t=Zo;var i=32-Ts(r)-1;r&=~(1<<i),n+=1;var s=32-Ts(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yo=1<<32-Ts(e)+i|n<<i|r,Zo=s+t}else Yo=1<<s|n<<i|r,Zo=t}function t2(t){t.return!==null&&(Wl(t,1),f_(t,1,0))}function n2(t){for(;t===Mp;)Mp=ou[--au],ou[au]=null,Tp=ou[--au],ou[au]=null;for(;t===lc;)lc=rs[--is],rs[is]=null,Zo=rs[--is],rs[is]=null,Yo=rs[--is],rs[is]=null}var Wi=null,Ui=null,Ln=!1,Ms=null;function p_(t,e){var n=os(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wi=t,Ui=Ga(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lc!==null?{id:Yo,overflow:Zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=os(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wi=t,Ui=null,!0):!1;default:return!1}}function O0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D0(t){if(Ln){var e=Ui;if(e){var n=e;if(!oy(t,e)){if(O0(t))throw Error(Xe(418));e=Ga(n.nextSibling);var r=Wi;e&&oy(t,e)?p_(r,n):(t.flags=t.flags&-4097|2,Ln=!1,Wi=t)}}else{if(O0(t))throw Error(Xe(418));t.flags=t.flags&-4097|2,Ln=!1,Wi=t}}}function ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wi=t}function gf(t){if(t!==Wi)return!1;if(!Ln)return ay(t),Ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A0(t.type,t.memoizedProps)),e&&(e=Ui)){if(O0(t))throw m_(),Error(Xe(418));for(;e;)p_(t,e),e=Ga(e.nextSibling)}if(ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=Ga(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Wi?Ga(t.stateNode.nextSibling):null;return!0}function m_(){for(var t=Ui;t;)t=Ga(t.nextSibling)}function Nu(){Ui=Wi=null,Ln=!1}function r2(t){Ms===null?Ms=[t]:Ms.push(t)}var PN=ta.ReactCurrentBatchConfig;function od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Xe(309));var r=n.stateNode}if(!r)throw Error(Xe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Xe(284));if(!n._owner)throw Error(Xe(290,t))}return t}function xf(t,e){throw t=Object.prototype.toString.call(e),Error(Xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ly(t){var e=t._init;return e(t._payload)}function g_(t){function e(v,w){if(t){var j=v.deletions;j===null?(v.deletions=[w],v.flags|=16):j.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=el(v,w),v.index=0,v.sibling=null,v}function s(v,w,j){return v.index=j,t?(j=v.alternate,j!==null?(j=j.index,j<w?(v.flags|=2,w):j):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,w,j,E){return w===null||w.tag!==6?(w=yg(j,v.mode,E),w.return=v,w):(w=i(w,j),w.return=v,w)}function u(v,w,j,E){var T=j.type;return T===eu?f(v,w,j.props.children,E,j.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Da&&ly(T)===w.type)?(E=i(w,j.props),E.ref=od(v,w,j),E.return=v,E):(E=pp(j.type,j.key,j.props,null,v.mode,E),E.ref=od(v,w,j),E.return=v,E)}function h(v,w,j,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=vg(j,v.mode,E),w.return=v,w):(w=i(w,j.children||[]),w.return=v,w)}function f(v,w,j,E,T){return w===null||w.tag!==7?(w=ec(j,v.mode,E,T),w.return=v,w):(w=i(w,j),w.return=v,w)}function m(v,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yg(""+w,v.mode,j),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case of:return j=pp(w.type,w.key,w.props,null,v.mode,j),j.ref=od(v,null,w),j.return=v,j;case Qc:return w=vg(w,v.mode,j),w.return=v,w;case Da:var E=w._init;return m(v,E(w._payload),j)}if(jd(w)||td(w))return w=ec(w,v.mode,j,null),w.return=v,w;xf(v,w)}return null}function x(v,w,j,E){var T=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return T!==null?null:c(v,w,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case of:return j.key===T?u(v,w,j,E):null;case Qc:return j.key===T?h(v,w,j,E):null;case Da:return T=j._init,x(v,w,T(j._payload),E)}if(jd(j)||td(j))return T!==null?null:f(v,w,j,E,null);xf(v,j)}return null}function g(v,w,j,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(j)||null,c(w,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case of:return v=v.get(E.key===null?j:E.key)||null,u(w,v,E,T);case Qc:return v=v.get(E.key===null?j:E.key)||null,h(w,v,E,T);case Da:var F=E._init;return g(v,w,j,F(E._payload),T)}if(jd(E)||td(E))return v=v.get(j)||null,f(w,v,E,T,null);xf(w,E)}return null}function b(v,w,j,E){for(var T=null,F=null,D=w,P=w=0,Y=null;D!==null&&P<j.length;P++){D.index>P?(Y=D,D=null):Y=D.sibling;var V=x(v,D,j[P],E);if(V===null){D===null&&(D=Y);break}t&&D&&V.alternate===null&&e(v,D),w=s(V,w,P),F===null?T=V:F.sibling=V,F=V,D=Y}if(P===j.length)return n(v,D),Ln&&Wl(v,P),T;if(D===null){for(;P<j.length;P++)D=m(v,j[P],E),D!==null&&(w=s(D,w,P),F===null?T=D:F.sibling=D,F=D);return Ln&&Wl(v,P),T}for(D=r(v,D);P<j.length;P++)Y=g(D,v,P,j[P],E),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?P:Y.key),w=s(Y,w,P),F===null?T=Y:F.sibling=Y,F=Y);return t&&D.forEach(function(I){return e(v,I)}),Ln&&Wl(v,P),T}function N(v,w,j,E){var T=td(j);if(typeof T!="function")throw Error(Xe(150));if(j=T.call(j),j==null)throw Error(Xe(151));for(var F=T=null,D=w,P=w=0,Y=null,V=j.next();D!==null&&!V.done;P++,V=j.next()){D.index>P?(Y=D,D=null):Y=D.sibling;var I=x(v,D,V.value,E);if(I===null){D===null&&(D=Y);break}t&&D&&I.alternate===null&&e(v,D),w=s(I,w,P),F===null?T=I:F.sibling=I,F=I,D=Y}if(V.done)return n(v,D),Ln&&Wl(v,P),T;if(D===null){for(;!V.done;P++,V=j.next())V=m(v,V.value,E),V!==null&&(w=s(V,w,P),F===null?T=V:F.sibling=V,F=V);return Ln&&Wl(v,P),T}for(D=r(v,D);!V.done;P++,V=j.next())V=g(D,v,P,V.value,E),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?P:V.key),w=s(V,w,P),F===null?T=V:F.sibling=V,F=V);return t&&D.forEach(function(R){return e(v,R)}),Ln&&Wl(v,P),T}function k(v,w,j,E){if(typeof j=="object"&&j!==null&&j.type===eu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case of:e:{for(var T=j.key,F=w;F!==null;){if(F.key===T){if(T=j.type,T===eu){if(F.tag===7){n(v,F.sibling),w=i(F,j.props.children),w.return=v,v=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Da&&ly(T)===F.type){n(v,F.sibling),w=i(F,j.props),w.ref=od(v,F,j),w.return=v,v=w;break e}n(v,F);break}else e(v,F);F=F.sibling}j.type===eu?(w=ec(j.props.children,v.mode,E,j.key),w.return=v,v=w):(E=pp(j.type,j.key,j.props,null,v.mode,E),E.ref=od(v,w,j),E.return=v,v=E)}return a(v);case Qc:e:{for(F=j.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(v,w.sibling),w=i(w,j.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=vg(j,v.mode,E),w.return=v,v=w}return a(v);case Da:return F=j._init,k(v,w,F(j._payload),E)}if(jd(j))return b(v,w,j,E);if(td(j))return N(v,w,j,E);xf(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,j),w.return=v,v=w):(n(v,w),w=yg(j,v.mode,E),w.return=v,v=w),a(v)):n(v,w)}return k}var ju=g_(!0),x_=g_(!1),Op=ul(null),Dp=null,lu=null,i2=null;function s2(){i2=lu=Dp=null}function o2(t){var e=Op.current;kn(Op),t._currentValue=e}function I0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gu(t,e){Dp=t,i2=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ji=!0),t.firstContext=null)}function cs(t){var e=t._currentValue;if(i2!==t)if(t={context:t,memoizedValue:e,next:null},lu===null){if(Dp===null)throw Error(Xe(308));lu=t,Dp.dependencies={lanes:0,firstContext:t}}else lu=lu.next=t;return e}var Zl=null;function a2(t){Zl===null?Zl=[t]:Zl.push(t)}function y_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,a2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ia=!1;function l2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,a2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y1(t,n)}}function cy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ip(t,e,n,r){var i=t.updateQueue;Ia=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,f=h=u=null,c=s;do{var x=c.lane,g=c.eventTime;if((r&x)===x){f!==null&&(f=f.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,N=c;switch(x=e,g=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(g,m,x);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,x=typeof b=="function"?b.call(g,m,x):b,x==null)break e;m=In({},m,x);break e;case 2:Ia=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,x=i.effects,x===null?i.effects=[c]:x.push(c))}else g={eventTime:g,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=g,u=m):f=f.next=g,a|=x;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;x=c,c=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uc|=a,t.lanes=a,t.memoizedState=m}}function uy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Xe(191,i));i.call(r)}}}var Th={},oo=ul(Th),ch=ul(Th),uh=ul(Th);function Kl(t){if(t===Th)throw Error(Xe(174));return t}function c2(t,e){switch(vn(uh,e),vn(ch,t),vn(oo,Th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g0(e,t)}kn(oo),vn(oo,e)}function Su(){kn(oo),kn(ch),kn(uh)}function b_(t){Kl(uh.current);var e=Kl(oo.current),n=g0(e,t.type);e!==n&&(vn(ch,t),vn(oo,n))}function u2(t){ch.current===t&&(kn(oo),kn(ch))}var Tn=ul(0);function Rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hg=[];function d2(){for(var t=0;t<hg.length;t++)hg[t]._workInProgressVersionPrimary=null;hg.length=0}var cp=ta.ReactCurrentDispatcher,fg=ta.ReactCurrentBatchConfig,cc=0,On=null,ar=null,yr=null,Fp=!1,Rd=!1,dh=0,LN=0;function Rr(){throw Error(Xe(321))}function h2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ds(t[n],e[n]))return!1;return!0}function f2(t,e,n,r,i,s){if(cc=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cp.current=t===null||t.memoizedState===null?TN:ON,t=n(r,i),Rd){s=0;do{if(Rd=!1,dh=0,25<=s)throw Error(Xe(301));s+=1,yr=ar=null,e.updateQueue=null,cp.current=DN,t=n(r,i)}while(Rd)}if(cp.current=Bp,e=ar!==null&&ar.next!==null,cc=0,yr=ar=On=null,Fp=!1,e)throw Error(Xe(300));return t}function p2(){var t=dh!==0;return dh=0,t}function eo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?On.memoizedState=yr=t:yr=yr.next=t,yr}function us(){if(ar===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=yr===null?On.memoizedState:yr.next;if(e!==null)yr=e,ar=t;else{if(t===null)throw Error(Xe(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},yr===null?On.memoizedState=yr=t:yr=yr.next=t}return yr}function hh(t,e){return typeof e=="function"?e(t):e}function pg(t){var e=us(),n=e.queue;if(n===null)throw Error(Xe(311));n.lastRenderedReducer=t;var r=ar,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,u=null,h=s;do{var f=h.lane;if((cc&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=m,a=r):u=u.next=m,On.lanes|=f,uc|=f}h=h.next}while(h!==null&&h!==s);u===null?a=r:u.next=c,Ds(r,e.memoizedState)||(ji=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,On.lanes|=s,uc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mg(t){var e=us(),n=e.queue;if(n===null)throw Error(Xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ds(s,e.memoizedState)||(ji=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function __(){}function w_(t,e){var n=On,r=us(),i=e(),s=!Ds(r.memoizedState,i);if(s&&(r.memoizedState=i,ji=!0),r=r.queue,m2(S_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(n.flags|=2048,fh(9,j_.bind(null,n,r,i,e),void 0,null),vr===null)throw Error(Xe(349));cc&30||N_(n,e,i)}return i}function N_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j_(t,e,n,r){e.value=n,e.getSnapshot=r,k_(e)&&C_(t)}function S_(t,e,n){return n(function(){k_(e)&&C_(t)})}function k_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ds(t,n)}catch{return!0}}function C_(t){var e=Qo(t,1);e!==null&&Os(e,t,1,-1)}function dy(t){var e=eo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:t},e.queue=t,t=t.dispatch=MN.bind(null,On,t),[e.memoizedState,t]}function fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P_(){return us().memoizedState}function up(t,e,n,r){var i=eo();On.flags|=t,i.memoizedState=fh(1|e,n,void 0,r===void 0?null:r)}function fm(t,e,n,r){var i=us();r=r===void 0?null:r;var s=void 0;if(ar!==null){var a=ar.memoizedState;if(s=a.destroy,r!==null&&h2(r,a.deps)){i.memoizedState=fh(e,n,s,r);return}}On.flags|=t,i.memoizedState=fh(1|e,n,s,r)}function hy(t,e){return up(8390656,8,t,e)}function m2(t,e){return fm(2048,8,t,e)}function L_(t,e){return fm(4,2,t,e)}function A_(t,e){return fm(4,4,t,e)}function E_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M_(t,e,n){return n=n!=null?n.concat([t]):null,fm(4,4,E_.bind(null,e,t),n)}function g2(){}function T_(t,e){var n=us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O_(t,e){var n=us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function D_(t,e,n){return cc&21?(Ds(n,e)||(n=z5(),On.lanes|=n,uc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ji=!0),t.memoizedState=n)}function AN(t,e){var n=hn;hn=n!==0&&4>n?n:4,t(!0);var r=fg.transition;fg.transition={};try{t(!1),e()}finally{hn=n,fg.transition=r}}function I_(){return us().memoizedState}function EN(t,e,n){var r=Qa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R_(t))F_(e,n);else if(n=y_(t,e,n,r),n!==null){var i=li();Os(n,t,r,i),B_(n,e,r)}}function MN(t,e,n){var r=Qa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R_(t))F_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,Ds(c,a)){var u=e.interleaved;u===null?(i.next=i,a2(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=y_(t,e,i,r),n!==null&&(i=li(),Os(n,t,r,i),B_(n,e,r))}}function R_(t){var e=t.alternate;return t===On||e!==null&&e===On}function F_(t,e){Rd=Fp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y1(t,n)}}var Bp={readContext:cs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},TN={readContext:cs,useCallback:function(t,e){return eo().memoizedState=[t,e===void 0?null:e],t},useContext:cs,useEffect:hy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,up(4194308,4,E_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return up(4194308,4,t,e)},useInsertionEffect:function(t,e){return up(4,2,t,e)},useMemo:function(t,e){var n=eo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=eo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EN.bind(null,On,t),[r.memoizedState,t]},useRef:function(t){var e=eo();return t={current:t},e.memoizedState=t},useState:dy,useDebugValue:g2,useDeferredValue:function(t){return eo().memoizedState=t},useTransition:function(){var t=dy(!1),e=t[0];return t=AN.bind(null,t[1]),eo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=On,i=eo();if(Ln){if(n===void 0)throw Error(Xe(407));n=n()}else{if(n=e(),vr===null)throw Error(Xe(349));cc&30||N_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hy(S_.bind(null,r,s,t),[t]),r.flags|=2048,fh(9,j_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=eo(),e=vr.identifierPrefix;if(Ln){var n=Zo,r=Yo;n=(r&~(1<<32-Ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ON={readContext:cs,useCallback:T_,useContext:cs,useEffect:m2,useImperativeHandle:M_,useInsertionEffect:L_,useLayoutEffect:A_,useMemo:O_,useReducer:pg,useRef:P_,useState:function(){return pg(hh)},useDebugValue:g2,useDeferredValue:function(t){var e=us();return D_(e,ar.memoizedState,t)},useTransition:function(){var t=pg(hh)[0],e=us().memoizedState;return[t,e]},useMutableSource:__,useSyncExternalStore:w_,useId:I_,unstable_isNewReconciler:!1},DN={readContext:cs,useCallback:T_,useContext:cs,useEffect:m2,useImperativeHandle:M_,useInsertionEffect:L_,useLayoutEffect:A_,useMemo:O_,useReducer:mg,useRef:P_,useState:function(){return mg(hh)},useDebugValue:g2,useDeferredValue:function(t){var e=us();return ar===null?e.memoizedState=t:D_(e,ar.memoizedState,t)},useTransition:function(){var t=mg(hh)[0],e=us().memoizedState;return[t,e]},useMutableSource:__,useSyncExternalStore:w_,useId:I_,unstable_isNewReconciler:!1};function Ls(t,e){if(t&&t.defaultProps){e=In({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function R0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:In({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pm={isMounted:function(t){return(t=t._reactInternals)?xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=li(),i=Qa(t),s=Go(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(Os(e,t,i,r),lp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=li(),i=Qa(t),s=Go(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(Os(e,t,i,r),lp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=li(),r=Qa(t),i=Go(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(Os(e,t,r,n),lp(e,t,r))}};function fy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!sh(n,r)||!sh(i,s):!0}function z_(t,e,n){var r=!1,i=sl,s=e.contextType;return typeof s=="object"&&s!==null?s=cs(s):(i=Pi(e)?ac:Yr.current,r=e.contextTypes,s=(r=r!=null)?wu(t,i):sl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pm.enqueueReplaceState(e,e.state,null)}function F0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},l2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cs(s):(s=Pi(e)?ac:Yr.current,i.context=wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(R0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pm.enqueueReplaceState(i,i.state,null),Ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ku(t,e){try{var n="",r=e;do n+=c6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function B0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IN=typeof WeakMap=="function"?WeakMap:Map;function U_(t,e,n){n=Go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Up||(Up=!0,K0=r),B0(t,e)},n}function W_(t,e,n){n=Go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){B0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){B0(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function my(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GN.bind(null,t,e,n),e.then(t,t))}function gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Go(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var RN=ta.ReactCurrentOwner,ji=!1;function oi(t,e,n,r){e.child=t===null?x_(e,null,n,r):ju(e,t.child,n,r)}function yy(t,e,n,r,i){n=n.render;var s=e.ref;return gu(e,i),r=f2(t,e,n,r,s,i),n=p2(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(Ln&&n&&t2(e),e.flags|=1,oi(t,e,r,i),e.child)}function vy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!j2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H_(t,e,s,r,i)):(t=pp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:sh,n(a,r)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=el(s,r),t.ref=e.ref,t.return=e,e.child=t}function H_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sh(s,r)&&t.ref===e.ref)if(ji=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ji=!0);else return e.lanes=t.lanes,ea(t,e,i)}return z0(t,e,n,r,i)}function q_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(uu,zi),zi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vn(uu,zi),zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vn(uu,zi),zi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,vn(uu,zi),zi|=r;return oi(t,e,i,n),e.child}function V_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z0(t,e,n,r,i){var s=Pi(n)?ac:Yr.current;return s=wu(e,s),gu(e,i),n=f2(t,e,n,r,s,i),r=p2(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(Ln&&r&&t2(e),e.flags|=1,oi(t,e,n,i),e.child)}function by(t,e,n,r,i){if(Pi(n)){var s=!0;Ep(e)}else s=!1;if(gu(e,i),e.stateNode===null)dp(t,e),z_(e,n,r),F0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=cs(h):(h=Pi(n)?ac:Yr.current,h=wu(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==h)&&py(e,a,r,h),Ia=!1;var x=e.memoizedState;a.state=x,Ip(e,r,a,i),u=e.memoizedState,c!==r||x!==u||Ci.current||Ia?(typeof f=="function"&&(R0(e,n,f,r),u=e.memoizedState),(c=Ia||fy(e,n,c,r,x,u,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,v_(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:Ls(e.type,c),a.props=h,m=e.pendingProps,x=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=cs(u):(u=Pi(n)?ac:Yr.current,u=wu(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||x!==u)&&py(e,a,r,u),Ia=!1,x=e.memoizedState,a.state=x,Ip(e,r,a,i);var b=e.memoizedState;c!==m||x!==b||Ci.current||Ia?(typeof g=="function"&&(R0(e,n,g,r),b=e.memoizedState),(h=Ia||fy(e,n,h,r,x,b,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),r=!1)}return U0(t,e,n,r,s,i)}function U0(t,e,n,r,i,s){V_(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&sy(e,n,!1),ea(t,e,s);r=e.stateNode,RN.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ju(e,t.child,null,s),e.child=ju(e,null,c,s)):oi(t,e,c,s),e.memoizedState=r.state,i&&sy(e,n,!0),e.child}function $_(t){var e=t.stateNode;e.pendingContext?iy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iy(t,e.context,!1),c2(t,e.containerInfo)}function _y(t,e,n,r,i){return Nu(),r2(i),e.flags|=256,oi(t,e,n,r),e.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function H0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y_(t,e,n){var r=e.pendingProps,i=Tn.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vn(Tn,i&1),t===null)return D0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xm(a,r,0,null),t=ec(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=H0(n),e.memoizedState=W0,t):x2(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return FN(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=el(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=el(c,s):(s=ec(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?H0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=W0,r}return s=t.child,t=s.sibling,r=el(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x2(t,e){return e=xm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yf(t,e,n,r){return r!==null&&r2(r),ju(e,t.child,null,n),t=x2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FN(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=gg(Error(Xe(422))),yf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xm({mode:"visible",children:r.children},i,0,null),s=ec(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ju(e,t.child,null,a),e.child.memoizedState=H0(a),e.memoizedState=W0,s);if(!(e.mode&1))return yf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(Xe(419)),r=gg(s,r,void 0),yf(t,e,a,r)}if(c=(a&t.childLanes)!==0,ji||c){if(r=vr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qo(t,i),Os(r,t,i,-1))}return N2(),r=gg(Error(Xe(421))),yf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ui=Ga(i.nextSibling),Wi=e,Ln=!0,Ms=null,t!==null&&(rs[is++]=Yo,rs[is++]=Zo,rs[is++]=lc,Yo=t.id,Zo=t.overflow,lc=e),e=x2(e,r.children),e.flags|=4096,e)}function wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),I0(t.return,e,n)}function xg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Z_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(oi(t,e,r.children,n),r=Tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,n,e);else if(t.tag===19)wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vn(Tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xg(e,!0,n,null,s);break;case"together":xg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ea(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Xe(153));if(e.child!==null){for(t=e.child,n=el(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=el(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BN(t,e,n){switch(e.tag){case 3:$_(e),Nu();break;case 5:b_(e);break;case 1:Pi(e.type)&&Ep(e);break;case 4:c2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vn(Op,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vn(Tn,Tn.current&1),e.flags|=128,null):n&e.child.childLanes?Y_(t,e,n):(vn(Tn,Tn.current&1),t=ea(t,e,n),t!==null?t.sibling:null);vn(Tn,Tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Z_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(Tn,Tn.current),r)break;return null;case 22:case 23:return e.lanes=0,q_(t,e,n)}return ea(t,e,n)}var K_,q0,G_,X_;K_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};G_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kl(oo.current);var s=null;switch(n){case"input":i=h0(t,i),r=h0(t,r),s=[];break;case"select":i=In({},i,{value:void 0}),r=In({},r,{value:void 0}),s=[];break;case"textarea":i=m0(t,i),r=m0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lp)}x0(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Jd.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Jd.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Nn("scroll",t),s||c===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};X_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ad(t,e){if(!Ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zN(t,e,n){var r=e.pendingProps;switch(n2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return Pi(e.type)&&Ap(),Fr(e),null;case 3:return r=e.stateNode,Su(),kn(Ci),kn(Yr),d2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ms!==null&&(J0(Ms),Ms=null))),q0(t,e),Fr(e),null;case 5:u2(e);var i=Kl(uh.current);if(n=e.type,t!==null&&e.stateNode!=null)G_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Xe(166));return Fr(e),null}if(t=Kl(oo.current),gf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ro]=e,r[lh]=s,t=(e.mode&1)!==0,n){case"dialog":Nn("cancel",r),Nn("close",r);break;case"iframe":case"object":case"embed":Nn("load",r);break;case"video":case"audio":for(i=0;i<kd.length;i++)Nn(kd[i],r);break;case"source":Nn("error",r);break;case"img":case"image":case"link":Nn("error",r),Nn("load",r);break;case"details":Nn("toggle",r);break;case"input":Ex(r,s),Nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nn("invalid",r);break;case"textarea":Tx(r,s),Nn("invalid",r)}x0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&mf(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&mf(r.textContent,c,t),i=["children",""+c]):Jd.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Nn("scroll",r)}switch(n){case"input":af(r),Mx(r,s,!0);break;case"textarea":af(r),Ox(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ro]=e,t[lh]=r,K_(t,e,!1,!1),e.stateNode=t;e:{switch(a=y0(n,r),n){case"dialog":Nn("cancel",t),Nn("close",t),i=r;break;case"iframe":case"object":case"embed":Nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<kd.length;i++)Nn(kd[i],t);i=r;break;case"source":Nn("error",t),i=r;break;case"img":case"image":case"link":Nn("error",t),Nn("load",t),i=r;break;case"details":Nn("toggle",t),i=r;break;case"input":Ex(t,r),i=h0(t,r),Nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=In({},r,{value:void 0}),Nn("invalid",t);break;case"textarea":Tx(t,r),i=m0(t,r),Nn("invalid",t);break;default:i=r}x0(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?P5(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&k5(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Qd(t,u):typeof u=="number"&&Qd(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Nn("scroll",t):u!=null&&U1(t,s,u,a))}switch(n){case"input":af(t),Mx(t,r,!1);break;case"textarea":af(t),Ox(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hu(t,!!r.multiple,s,!1):r.defaultValue!=null&&hu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)X_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Xe(166));if(n=Kl(uh.current),Kl(oo.current),gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ro]=e,(s=r.nodeValue!==n)&&(t=Wi,t!==null))switch(t.tag){case 3:mf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ro]=e,e.stateNode=r}return Fr(e),null;case 13:if(kn(Tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ln&&Ui!==null&&e.mode&1&&!(e.flags&128))m_(),Nu(),e.flags|=98560,s=!1;else if(s=gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Xe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Xe(317));s[ro]=e}else Nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),s=!1}else Ms!==null&&(J0(Ms),Ms=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Tn.current&1?ur===0&&(ur=3):N2())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return Su(),q0(t,e),t===null&&oh(e.stateNode.containerInfo),Fr(e),null;case 10:return o2(e.type._context),Fr(e),null;case 17:return Pi(e.type)&&Ap(),Fr(e),null;case 19:if(kn(Tn),s=e.memoizedState,s===null)return Fr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ad(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Rp(t),a!==null){for(e.flags|=128,ad(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vn(Tn,Tn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yn()>Cu&&(e.flags|=128,r=!0,ad(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ln)return Fr(e),null}else 2*Yn()-s.renderingStartTime>Cu&&n!==1073741824&&(e.flags|=128,r=!0,ad(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yn(),e.sibling=null,n=Tn.current,vn(Tn,r?n&1|2:n&1),e):(Fr(e),null);case 22:case 23:return w2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zi&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function UN(t,e){switch(n2(e),e.tag){case 1:return Pi(e.type)&&Ap(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Su(),kn(Ci),kn(Yr),d2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u2(e),null;case 13:if(kn(Tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));Nu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kn(Tn),null;case 4:return Su(),null;case 10:return o2(e.type._context),null;case 22:case 23:return w2(),null;case 24:return null;default:return null}}var vf=!1,qr=!1,WN=typeof WeakSet=="function"?WeakSet:Set,ft=null;function cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zn(t,e,r)}else n.current=null}function V0(t,e,n){try{n()}catch(r){zn(t,e,r)}}var Ny=!1;function HN(t,e){if(P0=kp,t=n_(),e2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,h=0,f=0,m=t,x=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)x=m,m=g;for(;;){if(m===t)break t;if(x===n&&++h===i&&(c=a),x===s&&++f===r&&(u=a),(g=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=g}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(L0={focusedElem:t,selectionRange:n},kp=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,k=b.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?N:Ls(e.type,N),k);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(E){zn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return b=Ny,Ny=!1,b}function Fd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&V0(e,n,s)}i=i.next}while(i!==r)}}function mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J_(t){var e=t.alternate;e!==null&&(t.alternate=null,J_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ro],delete e[lh],delete e[M0],delete e[SN],delete e[kN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q_(t){return t.tag===5||t.tag===3||t.tag===4}function jy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lp));else if(r!==4&&(t=t.child,t!==null))for(Y0(t,e,n),t=t.sibling;t!==null;)Y0(t,e,n),t=t.sibling}function Z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Z0(t,e,n),t=t.sibling;t!==null;)Z0(t,e,n),t=t.sibling}var Sr=null,As=!1;function Pa(t,e,n){for(n=n.child;n!==null;)ew(t,e,n),n=n.sibling}function ew(t,e,n){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(am,n)}catch{}switch(n.tag){case 5:qr||cu(n,e);case 6:var r=Sr,i=As;Sr=null,Pa(t,e,n),Sr=r,As=i,Sr!==null&&(As?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(As?(t=Sr,n=n.stateNode,t.nodeType===8?ug(t.parentNode,n):t.nodeType===1&&ug(t,n),rh(t)):ug(Sr,n.stateNode));break;case 4:r=Sr,i=As,Sr=n.stateNode.containerInfo,As=!0,Pa(t,e,n),Sr=r,As=i;break;case 0:case 11:case 14:case 15:if(!qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&V0(n,e,a),i=i.next}while(i!==r)}Pa(t,e,n);break;case 1:if(!qr&&(cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){zn(n,e,c)}Pa(t,e,n);break;case 21:Pa(t,e,n);break;case 22:n.mode&1?(qr=(r=qr)||n.memoizedState!==null,Pa(t,e,n),qr=r):Pa(t,e,n);break;default:Pa(t,e,n)}}function Sy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WN),e.forEach(function(r){var i=JN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Sr=c.stateNode,As=!1;break e;case 3:Sr=c.stateNode.containerInfo,As=!0;break e;case 4:Sr=c.stateNode.containerInfo,As=!0;break e}c=c.return}if(Sr===null)throw Error(Xe(160));ew(s,a,i),Sr=null,As=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){zn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tw(e,t),e=e.sibling}function tw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ss(e,t),Gs(t),r&4){try{Fd(3,t,t.return),mm(3,t)}catch(N){zn(t,t.return,N)}try{Fd(5,t,t.return)}catch(N){zn(t,t.return,N)}}break;case 1:Ss(e,t),Gs(t),r&512&&n!==null&&cu(n,n.return);break;case 5:if(Ss(e,t),Gs(t),r&512&&n!==null&&cu(n,n.return),t.flags&32){var i=t.stateNode;try{Qd(i,"")}catch(N){zn(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&N5(i,s),y0(c,a);var h=y0(c,s);for(a=0;a<u.length;a+=2){var f=u[a],m=u[a+1];f==="style"?P5(i,m):f==="dangerouslySetInnerHTML"?k5(i,m):f==="children"?Qd(i,m):U1(i,f,m,h)}switch(c){case"input":f0(i,s);break;case"textarea":j5(i,s);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?hu(i,!!s.multiple,g,!1):x!==!!s.multiple&&(s.defaultValue!=null?hu(i,!!s.multiple,s.defaultValue,!0):hu(i,!!s.multiple,s.multiple?[]:"",!1))}i[lh]=s}catch(N){zn(t,t.return,N)}}break;case 6:if(Ss(e,t),Gs(t),r&4){if(t.stateNode===null)throw Error(Xe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){zn(t,t.return,N)}}break;case 3:if(Ss(e,t),Gs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rh(e.containerInfo)}catch(N){zn(t,t.return,N)}break;case 4:Ss(e,t),Gs(t);break;case 13:Ss(e,t),Gs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(b2=Yn())),r&4&&Sy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(qr=(h=qr)||f,Ss(e,t),qr=h):Ss(e,t),Gs(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ft=t,f=t.child;f!==null;){for(m=ft=f;ft!==null;){switch(x=ft,g=x.child,x.tag){case 0:case 11:case 14:case 15:Fd(4,x,x.return);break;case 1:cu(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){r=x,n=x.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){zn(r,n,N)}}break;case 5:cu(x,x.return);break;case 22:if(x.memoizedState!==null){Cy(m);continue}}g!==null?(g.return=x,ft=g):Cy(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=C5("display",a))}catch(N){zn(t,t.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(N){zn(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ss(e,t),Gs(t),r&4&&Sy(t);break;case 21:break;default:Ss(e,t),Gs(t)}}function Gs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q_(n)){var r=n;break e}n=n.return}throw Error(Xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qd(i,""),r.flags&=-33);var s=jy(t);Z0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=jy(t);Y0(t,c,a);break;default:throw Error(Xe(161))}}catch(u){zn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qN(t,e,n){ft=t,nw(t)}function nw(t,e,n){for(var r=(t.mode&1)!==0;ft!==null;){var i=ft,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vf;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||qr;c=vf;var h=qr;if(vf=a,(qr=u)&&!h)for(ft=i;ft!==null;)a=ft,u=a.child,a.tag===22&&a.memoizedState!==null?Py(i):u!==null?(u.return=a,ft=u):Py(i);for(;s!==null;)ft=s,nw(s),s=s.sibling;ft=i,vf=c,qr=h}ky(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ft=s):ky(t)}}function ky(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ls(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uy(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&rh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}qr||e.flags&512&&$0(e)}catch(x){zn(e,e.return,x)}}if(e===t){ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,ft=n;break}ft=e.return}}function Cy(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ft=n;break}ft=e.return}}function Py(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mm(4,e)}catch(u){zn(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){zn(e,i,u)}}var s=e.return;try{$0(e)}catch(u){zn(e,s,u)}break;case 5:var a=e.return;try{$0(e)}catch(u){zn(e,a,u)}}}catch(u){zn(e,e.return,u)}if(e===t){ft=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ft=c;break}ft=e.return}}var VN=Math.ceil,zp=ta.ReactCurrentDispatcher,y2=ta.ReactCurrentOwner,ls=ta.ReactCurrentBatchConfig,Qt=0,vr=null,er=null,kr=0,zi=0,uu=ul(0),ur=0,ph=null,uc=0,gm=0,v2=0,Bd=null,wi=null,b2=0,Cu=1/0,qo=null,Up=!1,K0=null,Ja=null,bf=!1,Ua=null,Wp=0,zd=0,G0=null,hp=-1,fp=0;function li(){return Qt&6?Yn():hp!==-1?hp:hp=Yn()}function Qa(t){return t.mode&1?Qt&2&&kr!==0?kr&-kr:PN.transition!==null?(fp===0&&(fp=z5()),fp):(t=hn,t!==0||(t=window.event,t=t===void 0?16:Y5(t.type)),t):1}function Os(t,e,n,r){if(50<zd)throw zd=0,G0=null,Error(Xe(185));Ah(t,n,r),(!(Qt&2)||t!==vr)&&(t===vr&&(!(Qt&2)&&(gm|=n),ur===4&&Fa(t,kr)),Li(t,r),n===1&&Qt===0&&!(e.mode&1)&&(Cu=Yn()+500,hm&&dl()))}function Li(t,e){var n=t.callbackNode;P6(t,e);var r=Sp(t,t===vr?kr:0);if(r===0)n!==null&&Rx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rx(n),e===1)t.tag===0?CN(Ly.bind(null,t)):h_(Ly.bind(null,t)),NN(function(){!(Qt&6)&&dl()}),n=null;else{switch(U5(r)){case 1:n=$1;break;case 4:n=F5;break;case 16:n=jp;break;case 536870912:n=B5;break;default:n=jp}n=uw(n,rw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rw(t,e){if(hp=-1,fp=0,Qt&6)throw Error(Xe(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=Sp(t,t===vr?kr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hp(t,r);else{e=r;var i=Qt;Qt|=2;var s=sw();(vr!==t||kr!==e)&&(qo=null,Cu=Yn()+500,Ql(t,e));do try{ZN();break}catch(c){iw(t,c)}while(!0);s2(),zp.current=s,Qt=i,er!==null?e=0:(vr=null,kr=0,e=ur)}if(e!==0){if(e===2&&(i=N0(t),i!==0&&(r=i,e=X0(t,i))),e===1)throw n=ph,Ql(t,0),Fa(t,r),Li(t,Yn()),n;if(e===6)Fa(t,r);else{if(i=t.current.alternate,!(r&30)&&!$N(i)&&(e=Hp(t,r),e===2&&(s=N0(t),s!==0&&(r=s,e=X0(t,s))),e===1))throw n=ph,Ql(t,0),Fa(t,r),Li(t,Yn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Xe(345));case 2:Hl(t,wi,qo);break;case 3:if(Fa(t,r),(r&130023424)===r&&(e=b2+500-Yn(),10<e)){if(Sp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){li(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E0(Hl.bind(null,t,wi,qo),e);break}Hl(t,wi,qo);break;case 4:if(Fa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ts(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VN(r/1960))-r,10<r){t.timeoutHandle=E0(Hl.bind(null,t,wi,qo),r);break}Hl(t,wi,qo);break;case 5:Hl(t,wi,qo);break;default:throw Error(Xe(329))}}}return Li(t,Yn()),t.callbackNode===n?rw.bind(null,t):null}function X0(t,e){var n=Bd;return t.current.memoizedState.isDehydrated&&(Ql(t,e).flags|=256),t=Hp(t,e),t!==2&&(e=wi,wi=n,e!==null&&J0(e)),t}function J0(t){wi===null?wi=t:wi.push.apply(wi,t)}function $N(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ds(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fa(t,e){for(e&=~v2,e&=~gm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ts(e),r=1<<n;t[n]=-1,e&=~r}}function Ly(t){if(Qt&6)throw Error(Xe(327));xu();var e=Sp(t,0);if(!(e&1))return Li(t,Yn()),null;var n=Hp(t,e);if(t.tag!==0&&n===2){var r=N0(t);r!==0&&(e=r,n=X0(t,r))}if(n===1)throw n=ph,Ql(t,0),Fa(t,e),Li(t,Yn()),n;if(n===6)throw Error(Xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hl(t,wi,qo),Li(t,Yn()),null}function _2(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(Cu=Yn()+500,hm&&dl())}}function dc(t){Ua!==null&&Ua.tag===0&&!(Qt&6)&&xu();var e=Qt;Qt|=1;var n=ls.transition,r=hn;try{if(ls.transition=null,hn=1,t)return t()}finally{hn=r,ls.transition=n,Qt=e,!(Qt&6)&&dl()}}function w2(){zi=uu.current,kn(uu)}function Ql(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wN(n)),er!==null)for(n=er.return;n!==null;){var r=n;switch(n2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ap();break;case 3:Su(),kn(Ci),kn(Yr),d2();break;case 5:u2(r);break;case 4:Su();break;case 13:kn(Tn);break;case 19:kn(Tn);break;case 10:o2(r.type._context);break;case 22:case 23:w2()}n=n.return}if(vr=t,er=t=el(t.current,null),kr=zi=e,ur=0,ph=null,v2=gm=uc=0,wi=Bd=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Zl=null}return t}function iw(t,e){do{var n=er;try{if(s2(),cp.current=Bp,Fp){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fp=!1}if(cc=0,yr=ar=On=null,Rd=!1,dh=0,y2.current=null,n===null||n.return===null){ur=1,ph=e,er=null;break}e:{var s=t,a=n.return,c=n,u=e;if(e=kr,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=gy(a);if(g!==null){g.flags&=-257,xy(g,a,c,s,e),g.mode&1&&my(s,h,e),e=g,u=h;var b=e.updateQueue;if(b===null){var N=new Set;N.add(u),e.updateQueue=N}else b.add(u);break e}else{if(!(e&1)){my(s,h,e),N2();break e}u=Error(Xe(426))}}else if(Ln&&c.mode&1){var k=gy(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),xy(k,a,c,s,e),r2(ku(u,c));break e}}s=u=ku(u,c),ur!==4&&(ur=2),Bd===null?Bd=[s]:Bd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=U_(s,u,e);cy(s,v);break e;case 1:c=u;var w=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ja===null||!Ja.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=W_(s,c,e);cy(s,E);break e}}s=s.return}while(s!==null)}aw(n)}catch(T){e=T,er===n&&n!==null&&(er=n=n.return);continue}break}while(!0)}function sw(){var t=zp.current;return zp.current=Bp,t===null?Bp:t}function N2(){(ur===0||ur===3||ur===2)&&(ur=4),vr===null||!(uc&268435455)&&!(gm&268435455)||Fa(vr,kr)}function Hp(t,e){var n=Qt;Qt|=2;var r=sw();(vr!==t||kr!==e)&&(qo=null,Ql(t,e));do try{YN();break}catch(i){iw(t,i)}while(!0);if(s2(),Qt=n,zp.current=r,er!==null)throw Error(Xe(261));return vr=null,kr=0,ur}function YN(){for(;er!==null;)ow(er)}function ZN(){for(;er!==null&&!v6();)ow(er)}function ow(t){var e=cw(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?aw(t):er=e,y2.current=null}function aw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UN(n,e),n!==null){n.flags&=32767,er=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,er=null;return}}else if(n=zN(n,e,zi),n!==null){er=n;return}if(e=e.sibling,e!==null){er=e;return}er=e=t}while(e!==null);ur===0&&(ur=5)}function Hl(t,e,n){var r=hn,i=ls.transition;try{ls.transition=null,hn=1,KN(t,e,n,r)}finally{ls.transition=i,hn=r}return null}function KN(t,e,n,r){do xu();while(Ua!==null);if(Qt&6)throw Error(Xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Xe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(L6(t,s),t===vr&&(er=vr=null,kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bf||(bf=!0,uw(jp,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var a=hn;hn=1;var c=Qt;Qt|=4,y2.current=null,HN(t,n),tw(n,t),mN(L0),kp=!!P0,L0=P0=null,t.current=n,qN(n),b6(),Qt=c,hn=a,ls.transition=s}else t.current=n;if(bf&&(bf=!1,Ua=t,Wp=i),s=t.pendingLanes,s===0&&(Ja=null),N6(n.stateNode),Li(t,Yn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Up)throw Up=!1,t=K0,K0=null,t;return Wp&1&&t.tag!==0&&xu(),s=t.pendingLanes,s&1?t===G0?zd++:(zd=0,G0=t):zd=0,dl(),null}function xu(){if(Ua!==null){var t=U5(Wp),e=ls.transition,n=hn;try{if(ls.transition=null,hn=16>t?16:t,Ua===null)var r=!1;else{if(t=Ua,Ua=null,Wp=0,Qt&6)throw Error(Xe(331));var i=Qt;for(Qt|=4,ft=t.current;ft!==null;){var s=ft,a=s.child;if(ft.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(ft=h;ft!==null;){var f=ft;switch(f.tag){case 0:case 11:case 15:Fd(8,f,s)}var m=f.child;if(m!==null)m.return=f,ft=m;else for(;ft!==null;){f=ft;var x=f.sibling,g=f.return;if(J_(f),f===h){ft=null;break}if(x!==null){x.return=g,ft=x;break}ft=g}}}var b=s.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var k=N.sibling;N.sibling=null,N=k}while(N!==null)}}ft=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ft=a;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ft=v;break e}ft=s.return}}var w=t.current;for(ft=w;ft!==null;){a=ft;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,ft=j;else e:for(a=w;ft!==null;){if(c=ft,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:mm(9,c)}}catch(T){zn(c,c.return,T)}if(c===a){ft=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,ft=E;break e}ft=c.return}}if(Qt=i,dl(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(am,t)}catch{}r=!0}return r}finally{hn=n,ls.transition=e}}return!1}function Ay(t,e,n){e=ku(n,e),e=U_(t,e,1),t=Xa(t,e,1),e=li(),t!==null&&(Ah(t,1,e),Li(t,e))}function zn(t,e,n){if(t.tag===3)Ay(t,t,n);else for(;e!==null;){if(e.tag===3){Ay(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=ku(n,t),t=W_(e,t,1),e=Xa(e,t,1),t=li(),e!==null&&(Ah(e,1,t),Li(e,t));break}}e=e.return}}function GN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=li(),t.pingedLanes|=t.suspendedLanes&n,vr===t&&(kr&n)===n&&(ur===4||ur===3&&(kr&130023424)===kr&&500>Yn()-b2?Ql(t,0):v2|=n),Li(t,e)}function lw(t,e){e===0&&(t.mode&1?(e=uf,uf<<=1,!(uf&130023424)&&(uf=4194304)):e=1);var n=li();t=Qo(t,e),t!==null&&(Ah(t,e,n),Li(t,n))}function XN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lw(t,n)}function JN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Xe(314))}r!==null&&r.delete(e),lw(t,n)}var cw;cw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ci.current)ji=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ji=!1,BN(t,e,n);ji=!!(t.flags&131072)}else ji=!1,Ln&&e.flags&1048576&&f_(e,Tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dp(t,e),t=e.pendingProps;var i=wu(e,Yr.current);gu(e,n),i=f2(null,e,r,t,i,n);var s=p2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(r)?(s=!0,Ep(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l2(e),i.updater=pm,e.stateNode=i,i._reactInternals=e,F0(e,r,t,n),e=U0(null,e,r,!0,s,n)):(e.tag=0,Ln&&s&&t2(e),oi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ej(r),t=Ls(r,t),i){case 0:e=z0(null,e,r,t,n);break e;case 1:e=by(null,e,r,t,n);break e;case 11:e=yy(null,e,r,t,n);break e;case 14:e=vy(null,e,r,Ls(r.type,t),n);break e}throw Error(Xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),z0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),by(t,e,r,i,n);case 3:e:{if($_(e),t===null)throw Error(Xe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,v_(t,e),Ip(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ku(Error(Xe(423)),e),e=_y(t,e,r,n,i);break e}else if(r!==i){i=ku(Error(Xe(424)),e),e=_y(t,e,r,n,i);break e}else for(Ui=Ga(e.stateNode.containerInfo.firstChild),Wi=e,Ln=!0,Ms=null,n=x_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nu(),r===i){e=ea(t,e,n);break e}oi(t,e,r,n)}e=e.child}return e;case 5:return b_(e),t===null&&D0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,A0(r,i)?a=null:s!==null&&A0(r,s)&&(e.flags|=32),V_(t,e),oi(t,e,a,n),e.child;case 6:return t===null&&D0(e),null;case 13:return Y_(t,e,n);case 4:return c2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ju(e,null,r,n):oi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),yy(t,e,r,i,n);case 7:return oi(t,e,e.pendingProps,n),e.child;case 8:return oi(t,e,e.pendingProps.children,n),e.child;case 12:return oi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,vn(Op,r._currentValue),r._currentValue=a,s!==null)if(Ds(s.value,a)){if(s.children===i.children&&!Ci.current){e=ea(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Go(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),I0(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Xe(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),I0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}oi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gu(e,n),i=cs(i),r=r(i),e.flags|=1,oi(t,e,r,n),e.child;case 14:return r=e.type,i=Ls(r,e.pendingProps),i=Ls(r.type,i),vy(t,e,r,i,n);case 15:return H_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),dp(t,e),e.tag=1,Pi(r)?(t=!0,Ep(e)):t=!1,gu(e,n),z_(e,r,i),F0(e,r,i,n),U0(null,e,r,!0,t,n);case 19:return Z_(t,e,n);case 22:return q_(t,e,n)}throw Error(Xe(156,e.tag))};function uw(t,e){return R5(t,e)}function QN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(t,e,n,r){return new QN(t,e,n,r)}function j2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ej(t){if(typeof t=="function")return j2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===H1)return 11;if(t===q1)return 14}return 2}function el(t,e){var n=t.alternate;return n===null?(n=os(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pp(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")j2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case eu:return ec(n.children,i,s,e);case W1:a=8,i|=8;break;case l0:return t=os(12,n,e,i|2),t.elementType=l0,t.lanes=s,t;case c0:return t=os(13,n,e,i),t.elementType=c0,t.lanes=s,t;case u0:return t=os(19,n,e,i),t.elementType=u0,t.lanes=s,t;case b5:return xm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y5:a=10;break e;case v5:a=9;break e;case H1:a=11;break e;case q1:a=14;break e;case Da:a=16,r=null;break e}throw Error(Xe(130,t==null?t:typeof t,""))}return e=os(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ec(t,e,n,r){return t=os(7,t,r,e),t.lanes=n,t}function xm(t,e,n,r){return t=os(22,t,r,e),t.elementType=b5,t.lanes=n,t.stateNode={isHidden:!1},t}function yg(t,e,n){return t=os(6,t,null,e),t.lanes=n,t}function vg(t,e,n){return e=os(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function S2(t,e,n,r,i,s,a,c,u){return t=new tj(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=os(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l2(s),t}function nj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dw(t){if(!t)return sl;t=t._reactInternals;e:{if(xc(t)!==t||t.tag!==1)throw Error(Xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(t.tag===1){var n=t.type;if(Pi(n))return d_(t,n,e)}return e}function hw(t,e,n,r,i,s,a,c,u){return t=S2(n,r,!0,t,i,s,a,c,u),t.context=dw(null),n=t.current,r=li(),i=Qa(n),s=Go(r,i),s.callback=e??null,Xa(n,s,i),t.current.lanes=i,Ah(t,i,r),Li(t,r),t}function ym(t,e,n,r){var i=e.current,s=li(),a=Qa(i);return n=dw(n),e.context===null?e.context=n:e.pendingContext=n,e=Go(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,a),t!==null&&(Os(t,i,a,s),lp(t,i,a)),a}function qp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function k2(t,e){Ey(t,e),(t=t.alternate)&&Ey(t,e)}function rj(){return null}var fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function C2(t){this._internalRoot=t}vm.prototype.render=C2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Xe(409));ym(t,e,null,null)};vm.prototype.unmount=C2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dc(function(){ym(null,t,null,null)}),e[Jo]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=q5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ra.length&&e!==0&&e<Ra[n].priority;n++);Ra.splice(n,0,t),n===0&&$5(t)}};function P2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function My(){}function ij(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=qp(a);s.call(h)}}var a=hw(e,r,t,0,null,!1,!1,"",My);return t._reactRootContainer=a,t[Jo]=a.current,oh(t.nodeType===8?t.parentNode:t),dc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=qp(u);c.call(h)}}var u=S2(t,0,!1,null,null,!1,!1,"",My);return t._reactRootContainer=u,t[Jo]=u.current,oh(t.nodeType===8?t.parentNode:t),dc(function(){ym(e,u,n,r)}),u}function _m(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var u=qp(a);c.call(u)}}ym(e,a,t,i)}else a=ij(n,e,t,i,r);return qp(a)}W5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sd(e.pendingLanes);n!==0&&(Y1(e,n|1),Li(e,Yn()),!(Qt&6)&&(Cu=Yn()+500,dl()))}break;case 13:dc(function(){var r=Qo(t,1);if(r!==null){var i=li();Os(r,t,1,i)}}),k2(t,1)}};Z1=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=li();Os(e,t,134217728,n)}k2(t,134217728)}};H5=function(t){if(t.tag===13){var e=Qa(t),n=Qo(t,e);if(n!==null){var r=li();Os(n,t,e,r)}k2(t,e)}};q5=function(){return hn};V5=function(t,e){var n=hn;try{return hn=t,e()}finally{hn=n}};b0=function(t,e,n){switch(e){case"input":if(f0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dm(r);if(!i)throw Error(Xe(90));w5(r),f0(r,i)}}}break;case"textarea":j5(t,n);break;case"select":e=n.value,e!=null&&hu(t,!!n.multiple,e,!1)}};E5=_2;M5=dc;var sj={usingClientEntryPoint:!1,Events:[Mh,iu,dm,L5,A5,_2]},ld={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oj={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D5(t),t===null?null:t.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{am=_f.inject(oj),so=_f}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sj;qi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P2(e))throw Error(Xe(200));return nj(t,e,null,n)};qi.createRoot=function(t,e){if(!P2(t))throw Error(Xe(299));var n=!1,r="",i=fw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=S2(t,1,!1,null,null,n,!1,r,i),t[Jo]=e.current,oh(t.nodeType===8?t.parentNode:t),new C2(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Xe(188)):(t=Object.keys(t).join(","),Error(Xe(268,t)));return t=D5(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return dc(t)};qi.hydrate=function(t,e,n){if(!bm(e))throw Error(Xe(200));return _m(null,t,e,!0,n)};qi.hydrateRoot=function(t,e,n){if(!P2(t))throw Error(Xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=fw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=hw(e,null,t,1,n??null,i,!1,s,a),t[Jo]=e.current,oh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vm(e)};qi.render=function(t,e,n){if(!bm(e))throw Error(Xe(200));return _m(null,t,e,!1,n)};qi.unmountComponentAtNode=function(t){if(!bm(t))throw Error(Xe(40));return t._reactRootContainer?(dc(function(){_m(null,null,t,!1,function(){t._reactRootContainer=null,t[Jo]=null})}),!0):!1};qi.unstable_batchedUpdates=_2;qi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bm(n))throw Error(Xe(200));if(t==null||t._reactInternals===void 0)throw Error(Xe(38));return _m(t,e,n,!1,r)};qi.version="18.3.1-next-f1338f8080-20240426";function pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pw)}catch(t){console.error(t)}}pw(),p5.exports=qi;var aj=p5.exports,Ty=aj;o0.createRoot=Ty.createRoot,o0.hydrateRoot=Ty.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const Oy="popstate";function lj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return Q0("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vp(i)}return uj(e,n,null,t)}function Dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cj(){return Math.random().toString(36).substr(2,8)}function Dy(t,e){return{usr:t.state,key:t.key,idx:e}}function Q0(t,e,n,r){return n===void 0&&(n=null),mh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Iu(e):e,{state:n,key:e&&e.key||r||cj()})}function Vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Wa.Pop,u=null,h=f();h==null&&(h=0,a.replaceState(mh({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function m(){c=Wa.Pop;let k=f(),v=k==null?null:k-h;h=k,u&&u({action:c,location:N.location,delta:v})}function x(k,v){c=Wa.Push;let w=Q0(N.location,k,v);h=f()+1;let j=Dy(w,h),E=N.createHref(w);try{a.pushState(j,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&u&&u({action:c,location:N.location,delta:1})}function g(k,v){c=Wa.Replace;let w=Q0(N.location,k,v);h=f();let j=Dy(w,h),E=N.createHref(w);a.replaceState(j,"",E),s&&u&&u({action:c,location:N.location,delta:0})}function b(k){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof k=="string"?k:Vp(k);return w=w.replace(/ $/,"%20"),Dn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let N={get action(){return c},get location(){return t(i,a)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Oy,m),u=k,()=>{i.removeEventListener(Oy,m),u=null}},createHref(k){return e(i,k)},createURL:b,encodeLocation(k){let v=b(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:x,replace:g,go(k){return a.go(k)}};return N}var Iy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Iy||(Iy={}));function dj(t,e,n){return n===void 0&&(n="/"),hj(t,e,n,!1)}function hj(t,e,n,r){let i=typeof e=="string"?Iu(e):e,s=Pu(i.pathname||"/",n);if(s==null)return null;let a=gw(t);fj(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=jj(s);c=wj(a[u],h,r)}return c}function gw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Dn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=tl([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Dn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),gw(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:bj(h,s.index),routesMeta:f})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of xw(s.path))i(s,a,u)}),e}function xw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=xw(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function fj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_j(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pj=/^:[\w-]+$/,mj=3,gj=2,xj=1,yj=10,vj=-2,Ry=t=>t==="*";function bj(t,e){let n=t.split("/"),r=n.length;return n.some(Ry)&&(r+=vj),e&&(r+=gj),n.filter(i=>!Ry(i)).reduce((i,s)=>i+(pj.test(s)?mj:s===""?xj:yj),r)}function _j(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wj(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=$p({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),x=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=$p({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:tl([s,m.pathname]),pathnameBase:Pj(tl([s,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(s=tl([s,m.pathnameBase]))}return a}function $p(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:x,isOptional:g}=f;if(x==="*"){let N=c[m]||"";a=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const b=c[m];return g&&!b?h[x]=void 0:h[x]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function Nj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Iu(t):t;return{pathname:n?n.startsWith("/")?n:kj(n,e):e,search:Lj(r),hash:Aj(i)}}function kj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L2(t,e){let n=Cj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function A2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Iu(t):(i=mh({},t),Dn(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}c=m>=0?e[m]:"/"}let u=Sj(i,c),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const tl=t=>t.join("/").replace(/\/\/+/g,"/"),Pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Aj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ej(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yw=["post","put","patch","delete"];new Set(yw);const Mj=["get",...yw];new Set(Mj);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}const wm=O.createContext(null),vw=O.createContext(null),na=O.createContext(null),Nm=O.createContext(null),po=O.createContext({outlet:null,matches:[],isDataRoute:!1}),bw=O.createContext(null);function Tj(t,e){let{relative:n}=e===void 0?{}:e;Ru()||Dn(!1);let{basename:r,navigator:i}=O.useContext(na),{hash:s,pathname:a,search:c}=jm(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:tl([r,a])),i.createHref({pathname:u,search:c,hash:s})}function Ru(){return O.useContext(Nm)!=null}function br(){return Ru()||Dn(!1),O.useContext(Nm).location}function _w(t){O.useContext(na).static||O.useLayoutEffect(t)}function Cn(){let{isDataRoute:t}=O.useContext(po);return t?Zj():Oj()}function Oj(){Ru()||Dn(!1);let t=O.useContext(wm),{basename:e,future:n,navigator:r}=O.useContext(na),{matches:i}=O.useContext(po),{pathname:s}=br(),a=JSON.stringify(L2(i,n.v7_relativeSplatPath)),c=O.useRef(!1);return _w(()=>{c.current=!0}),O.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=A2(h,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:tl([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,a,s,t])}const Dj=O.createContext(null);function Ij(t){let e=O.useContext(po).outlet;return e&&O.createElement(Dj.Provider,{value:t},e)}function Oh(){let{matches:t}=O.useContext(po),e=t[t.length-1];return e?e.params:{}}function jm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(na),{matches:i}=O.useContext(po),{pathname:s}=br(),a=JSON.stringify(L2(i,r.v7_relativeSplatPath));return O.useMemo(()=>A2(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Rj(t,e){return Fj(t,e)}function Fj(t,e,n,r){Ru()||Dn(!1);let{navigator:i}=O.useContext(na),{matches:s}=O.useContext(po),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=br(),f;if(e){var m;let k=typeof e=="string"?Iu(e):e;u==="/"||(m=k.pathname)!=null&&m.startsWith(u)||Dn(!1),f=k}else f=h;let x=f.pathname||"/",g=x;if(u!=="/"){let k=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=dj(t,{pathname:g}),N=Hj(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:tl([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:tl([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&N?O.createElement(Nm.Provider,{value:{location:gh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wa.Pop}},N):N}function Bj(){let t=Yj(),e=Ej(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const zj=O.createElement(Bj,null);class Uj extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(po.Provider,{value:this.props.routeContext},O.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wj(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(wm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(po.Provider,{value:e},r)}function Hj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||Dn(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:x,errors:g}=n,b=m.route.loader&&x[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,x)=>{let g,b=!1,N=null,k=null;n&&(g=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||zj,u&&(h<0&&x===0?(b=!0,k=null):h===x&&(b=!0,k=m.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,x+1)),w=()=>{let j;return g?j=N:b?j=k:m.route.Component?j=O.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=f,O.createElement(Wj,{match:m,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?O.createElement(Uj,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var ww=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ww||{}),Yp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yp||{});function qj(t){let e=O.useContext(wm);return e||Dn(!1),e}function Vj(t){let e=O.useContext(vw);return e||Dn(!1),e}function $j(t){let e=O.useContext(po);return e||Dn(!1),e}function Nw(t){let e=$j(),n=e.matches[e.matches.length-1];return n.route.id||Dn(!1),n.route.id}function Yj(){var t;let e=O.useContext(bw),n=Vj(Yp.UseRouteError),r=Nw(Yp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Zj(){let{router:t}=qj(ww.UseNavigateStable),e=Nw(Yp.UseNavigateStable),n=O.useRef(!1);return _w(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gh({fromRouteId:e},s)))},[t,e])}function Kc(t){let{to:e,replace:n,state:r,relative:i}=t;Ru()||Dn(!1);let{future:s,static:a}=O.useContext(na),{matches:c}=O.useContext(po),{pathname:u}=br(),h=Cn(),f=A2(e,L2(c,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(f);return O.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function Kj(t){return Ij(t.context)}function xt(t){Dn(!1)}function Gj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wa.Pop,navigator:s,static:a=!1,future:c}=t;Ru()&&Dn(!1);let u=e.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:s,static:a,future:gh({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof r=="string"&&(r=Iu(r));let{pathname:f="/",search:m="",hash:x="",state:g=null,key:b="default"}=r,N=O.useMemo(()=>{let k=Pu(f,u);return k==null?null:{location:{pathname:k,search:m,hash:x,state:g,key:b},navigationType:i}},[u,f,m,x,g,b,i]);return N==null?null:O.createElement(na.Provider,{value:h},O.createElement(Nm.Provider,{children:n,value:N}))}function Xj(t){let{children:e,location:n}=t;return Rj(e1(e),n)}new Promise(()=>{});function e1(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,e1(r.props.children,s));return}r.type!==xt&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=e1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function jw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qj(t,e){return t.button===0&&(!e||e==="_self")&&!Jj(t)}const eS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tS=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],nS="6";try{window.__reactRouterVersion=nS}catch{}const rS=O.createContext({isTransitioning:!1}),iS="startTransition",Fy=G3[iS];function sS(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=lj({window:i,v5Compat:!0}));let a=s.current,[c,u]=O.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},f=O.useCallback(m=>{h&&Fy?Fy(()=>u(m)):u(m)},[u,h]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(Gj,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ao=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:h,preventScrollReset:f,unstable_viewTransition:m}=e,x=jw(e,eS),{basename:g}=O.useContext(na),b,N=!1;if(typeof h=="string"&&aS.test(h)&&(b=h,oS))try{let j=new URL(window.location.href),E=h.startsWith("//")?new URL(j.protocol+h):new URL(h),T=Pu(E.pathname,g);E.origin===j.origin&&T!=null?h=T+E.search+E.hash:N=!0}catch{}let k=Tj(h,{relative:i}),v=cS(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:m});function w(j){r&&r(j),j.defaultPrevented||v(j)}return O.createElement("a",Zp({},x,{href:b||k,onClick:N||s?r:w,ref:n,target:u}))}),Sm=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:u,unstable_viewTransition:h,children:f}=e,m=jw(e,tS),x=jm(u,{relative:m.relative}),g=br(),b=O.useContext(vw),{navigator:N,basename:k}=O.useContext(na),v=b!=null&&uS(x)&&h===!0,w=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,j=g.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(j=j.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&k&&(E=Pu(E,k)||E);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=j===w||!a&&j.startsWith(w)&&j.charAt(T)==="/",D=E!=null&&(E===w||!a&&E.startsWith(w)&&E.charAt(w.length)==="/"),P={isActive:F,isPending:D,isTransitioning:v},Y=F?r:void 0,V;typeof s=="function"?V=s(P):V=[s,F?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(P):c;return O.createElement(ao,Zp({},m,{"aria-current":Y,className:V,ref:n,style:I,to:u,unstable_viewTransition:h}),typeof f=="function"?f(P):f)});var t1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t1||(t1={}));var By;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(By||(By={}));function lS(t){let e=O.useContext(wm);return e||Dn(!1),e}function cS(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,u=Cn(),h=br(),f=jm(t,{relative:a});return O.useCallback(m=>{if(Qj(m,n)){m.preventDefault();let x=r!==void 0?r:Vp(h)===Vp(f);u(t,{replace:x,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[h,u,f,r,i,n,t,s,a,c])}function uS(t,e){e===void 0&&(e={});let n=O.useContext(rS);n==null&&Dn(!1);let{basename:r}=lS(t1.useViewTransitionState),i=jm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Pu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Pu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $p(i.pathname,a)!=null||$p(i.pathname,s)!=null}const fo=Object.create(null);fo.open="0";fo.close="1";fo.ping="2";fo.pong="3";fo.message="4";fo.upgrade="5";fo.noop="6";const mp=Object.create(null);Object.keys(fo).forEach(t=>{mp[fo[t]]=t});const n1={type:"error",data:"parser error"},Sw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kw=typeof ArrayBuffer=="function",Cw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,E2=({type:t,data:e},n,r)=>Sw&&e instanceof Blob?n?r(e):zy(e,r):kw&&(e instanceof ArrayBuffer||Cw(e))?n?r(e):zy(new Blob([e]),r):r(fo[t]+(e||"")),zy=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Uy(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let _g;function dS(t,e){if(Sw&&t.data instanceof Blob)return t.data.arrayBuffer().then(Uy).then(e);if(kw&&(t.data instanceof ArrayBuffer||Cw(t.data)))return e(Uy(t.data));E2(t,!1,n=>{_g||(_g=new TextEncoder),e(_g.encode(n))})}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Wy.length;t++)Cd[Wy.charCodeAt(t)]=t;const hS=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),f=new Uint8Array(h);for(r=0;r<n;r+=4)s=Cd[t.charCodeAt(r)],a=Cd[t.charCodeAt(r+1)],c=Cd[t.charCodeAt(r+2)],u=Cd[t.charCodeAt(r+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|c>>2,f[i++]=(c&3)<<6|u&63;return h},fS=typeof ArrayBuffer=="function",M2=(t,e)=>{if(typeof t!="string")return{type:"message",data:Pw(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:pS(t.substring(1),e)}:mp[n]?t.length>1?{type:mp[n],data:t.substring(1)}:{type:mp[n]}:n1},pS=(t,e)=>{if(fS){const n=hS(t);return Pw(n,e)}else return{base64:!0,data:t}},Pw=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Lw="",mS=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{E2(s,!1,c=>{r[a]=c,++i===n&&e(r.join(Lw))})})},gS=(t,e)=>{const n=t.split(Lw),r=[];for(let i=0;i<n.length;i++){const s=M2(n[i],e);if(r.push(s),s.type==="error")break}return r};function xS(){return new TransformStream({transform(t,e){dS(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let wg;function wf(t){return t.reduce((e,n)=>e+n.length,0)}function Nf(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function yS(t,e){wg||(wg=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(r===0){if(wf(n)<1)break;const u=Nf(n,1);s=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(wf(n)<2)break;const u=Nf(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(wf(n)<8)break;const u=Nf(n,8),h=new DataView(u.buffer,u.byteOffset,u.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(n1);break}i=f*Math.pow(2,32)+h.getUint32(4),r=3}else{if(wf(n)<i)break;const u=Nf(n,i);c.enqueue(M2(s?u:wg.decode(u),e)),r=0}if(i===0||i>t){c.enqueue(n1);break}}}})}const Aw=4;function tr(t){if(t)return vS(t)}function vS(t){for(var e in tr.prototype)t[e]=tr.prototype[e];return t}tr.prototype.on=tr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};tr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};tr.prototype.off=tr.prototype.removeListener=tr.prototype.removeAllListeners=tr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};tr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};tr.prototype.emitReserved=tr.prototype.emit;tr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};tr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ss=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ew(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const bS=ss.setTimeout,_S=ss.clearTimeout;function km(t,e){e.useNativeTimers?(t.setTimeoutFn=bS.bind(ss),t.clearTimeoutFn=_S.bind(ss)):(t.setTimeoutFn=ss.setTimeout.bind(ss),t.clearTimeoutFn=ss.clearTimeout.bind(ss))}const wS=1.33;function NS(t){return typeof t=="string"?jS(t):Math.ceil((t.byteLength||t.size)*wS)}function jS(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function SS(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function kS(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class CS extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class T2 extends tr{constructor(e){super(),this.writable=!1,km(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new CS(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=M2(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=SS(e);return n.length?"?"+n:""}}const Mw="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r1=64,PS={};let Hy=0,jf=0,qy;function Vy(t){let e="";do e=Mw[t%r1]+e,t=Math.floor(t/r1);while(t>0);return e}function Tw(){const t=Vy(+new Date);return t!==qy?(Hy=0,qy=t):t+"."+Vy(Hy++)}for(;jf<r1;jf++)PS[Mw[jf]]=jf;let Ow=!1;try{Ow=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const LS=Ow;function Dw(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||LS))return new XMLHttpRequest}catch{}if(!e)try{return new ss[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function AS(){}const ES=function(){return new Dw({xdomain:!1}).responseType!=null}();class MS extends T2{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const n=e&&e.forceBase64;this.supportsBinary=ES&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};gS(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,mS(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Tw()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new lo(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class lo extends tr{constructor(e,n){super(),km(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=Ew(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Dw(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=lo.requestsCount++,lo.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=AS,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete lo.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}lo.requestsCount=0;lo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$y);else if(typeof addEventListener=="function"){const t="onpagehide"in ss?"pagehide":"unload";addEventListener(t,$y,!1)}}function $y(){for(let t in lo.requests)lo.requests.hasOwnProperty(t)&&lo.requests[t].abort()}const O2=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Sf=ss.WebSocket||ss.MozWebSocket,Yy=!0,TS="arraybuffer",Zy=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class OS extends T2{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=Zy?{}:Ew(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Yy&&!Zy?n?new Sf(e,n):new Sf(e):new Sf(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;E2(r,this.supportsBinary,s=>{const a={};try{Yy&&this.ws.send(s)}catch{}i&&O2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Tw()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Sf}}class DS extends T2{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=yS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=xS();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const s=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),s())}).catch(c=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this.writer.write(r).then(()=>{i&&O2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const IS={websocket:OS,webtransport:DS,polling:MS},RS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function i1(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=RS.exec(t||""),s={},a=14;for(;a--;)s[FS[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=BS(s,s.path),s.queryKey=zS(s,s.query),s}function BS(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function zS(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let Iw=class Gc extends tr{constructor(e,n={}){super(),this.binaryType=TS,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=i1(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=i1(n.host).host),km(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kS(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Aw,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new IS[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Gc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;Gc.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Gc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const a=m=>{const x=new Error("probe error: "+m);x.transport=n.name,s(),this.emitReserved("upgradeError",x)};function c(){a("transport closed")}function u(){a("socket closed")}function h(m){n&&m.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",c),this.off("close",u),this.off("upgrading",h)};n.once("open",i),n.once("error",a),n.once("close",c),this.once("close",u),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Gc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=NS(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Gc.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};Iw.protocol=Aw;function US(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=i1(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const WS=typeof ArrayBuffer=="function",HS=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Rw=Object.prototype.toString,qS=typeof Blob=="function"||typeof Blob<"u"&&Rw.call(Blob)==="[object BlobConstructor]",VS=typeof File=="function"||typeof File<"u"&&Rw.call(File)==="[object FileConstructor]";function D2(t){return WS&&(t instanceof ArrayBuffer||HS(t))||qS&&t instanceof Blob||VS&&t instanceof File}function gp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(gp(t[n]))return!0;return!1}if(D2(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return gp(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&gp(t[n]))return!0;return!1}function $S(t){const e=[],n=t.data,r=t;return r.data=s1(n,e),r.attachments=e.length,{packet:r,buffers:e}}function s1(t,e){if(!t)return t;if(D2(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=s1(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=s1(t[r],e));return n}return t}function YS(t,e){return t.data=o1(t.data,e),delete t.attachments,t}function o1(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=o1(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=o1(t[n],e));return t}const ZS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],KS=5;var Kt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Kt||(Kt={}));class GS{constructor(e){this.replacer=e}encode(e){return(e.type===Kt.EVENT||e.type===Kt.ACK)&&gp(e)?this.encodeAsBinary({type:e.type===Kt.EVENT?Kt.BINARY_EVENT:Kt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Kt.BINARY_EVENT||e.type===Kt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=$S(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Ky(t){return Object.prototype.toString.call(t)==="[object Object]"}class I2 extends tr{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Kt.BINARY_EVENT;r||n.type===Kt.BINARY_ACK?(n.type=r?Kt.EVENT:Kt.ACK,this.reconstructor=new XS(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(D2(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Kt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Kt.BINARY_EVENT||r.type===Kt.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(I2.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Kt.CONNECT:return Ky(n);case Kt.DISCONNECT:return n===void 0;case Kt.CONNECT_ERROR:return typeof n=="string"||Ky(n);case Kt.EVENT:case Kt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ZS.indexOf(n[0])===-1);case Kt.ACK:case Kt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class XS{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=YS(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const JS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:I2,Encoder:GS,get PacketType(){return Kt},protocol:KS},Symbol.toStringTag,{value:"Module"}));function Es(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const QS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fw extends tr{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Es(e,"open",this.onopen.bind(this)),Es(e,"packet",this.onpacket.bind(this)),Es(e,"error",this.onerror.bind(this)),Es(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(QS.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Kt.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,c=n.pop();this._registerAckCallback(a,c),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),a=(...c)=>{this.io.clearTimeoutFn(s),n.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,c)=>a?i(a):r(c);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Kt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Kt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Kt.EVENT:case Kt.BINARY_EVENT:this.onevent(e);break;case Kt.ACK:case Kt.BINARY_ACK:this.onack(e);break;case Kt.DISCONNECT:this.ondisconnect();break;case Kt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Kt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Kt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Fu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Fu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Fu.prototype.reset=function(){this.attempts=0};Fu.prototype.setMin=function(t){this.ms=t};Fu.prototype.setMax=function(t){this.max=t};Fu.prototype.setJitter=function(t){this.jitter=t};class a1 extends tr{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,km(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Fu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||JS;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Iw(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Es(n,"open",function(){r.onopen(),e&&e()}),s=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=Es(n,"error",s);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Es(e,"ping",this.onping.bind(this)),Es(e,"data",this.ondata.bind(this)),Es(e,"error",this.onerror.bind(this)),Es(e,"close",this.onclose.bind(this)),Es(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){O2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Fw(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cd={};function co(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=US(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=cd[i]&&s in cd[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let u;return c?u=new a1(r,e):(cd[i]||(cd[i]=new a1(r,e)),u=cd[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(co,{Manager:a1,Socket:Fw,io:co,connect:co});const Ng="AgriTayoAPIKey2024";function Gy(){const[t,e]=O.useState([]),[n,r]=O.useState({id:"",name:"",city:""}),[i,s]=O.useState(!1);O.useEffect(()=>{a()},[]);const a=async()=>{try{const m=await fetch("/api/data/sample/",{headers:{"x-api-key":Ng}});if(!m.ok)throw new Error("Network response was not ok");const x=await m.json();e(x)}catch(m){console.error("Error fetching data:",m)}},c=m=>{const{name:x,value:g}=m.target;r({...n,[x]:g})},u=async m=>{m.preventDefault();const x=i?`/api/data/sample/${n.id}`:"/api/data/sample",g=i?"PUT":"POST";try{if(!(await fetch(x,{method:g,headers:{"Content-Type":"application/json","x-api-key":Ng},body:JSON.stringify(n)})).ok)throw new Error("Network response was not ok");a(),r({id:"",name:"",city:""}),s(!1)}catch(b){console.error("Error submitting form:",b)}},h=m=>{r(m),s(!0)},f=async m=>{try{if(!(await fetch(`/api/data/sample/${m}`,{method:"DELETE",headers:{"x-api-key":Ng}})).ok)throw new Error("Network response was not ok");a()}catch(x){console.error("Error deleting record:",x)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Data from SQL Server"}),o.jsxs("form",{onSubmit:u,children:[o.jsx("input",{type:"text",name:"id",value:n.id,onChange:c,placeholder:"ID",required:!0,disabled:i}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:c,placeholder:"Name",required:!0}),o.jsx("input",{type:"text",name:"city",value:n.city,onChange:c,placeholder:"City",required:!0}),o.jsx("button",{type:"submit",children:i?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Name"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"City"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map((m,x)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.name}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.city}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>h(m),children:"Edit"}),o.jsx("button",{onClick:()=>f(m.id),children:"Delete"})]})]},x))})]})]})}var Bw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xy=ki.createContext&&ki.createContext(Bw),ek=["attr","size","title"];function tk(t,e){if(t==null)return{};var n=nk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(this,arguments)}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(n),!0).forEach(function(r){rk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rk(t,e,n){return e=ik(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ik(t){var e=sk(t,"string");return typeof e=="symbol"?e:e+""}function sk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zw(t){return t&&t.map((e,n)=>ki.createElement(e.tag,Gp({key:n},e.attr),zw(e.child)))}function St(t){return e=>ki.createElement(ok,Kp({attr:Gp({},t.attr)},e),zw(t.child))}function ok(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=tk(t,ek),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ki.createElement("svg",Kp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Gp(Gp({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&ki.createElement("title",null,s),t.children)};return Xy!==void 0?ki.createElement(Xy.Consumer,null,n=>e(n)):e(Bw)}function Qy(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.9 120.9l9.1-15.7c5.6-9.8 18.1-13.1 27.9-7.5 9.8 5.6 13.1 18.1 7.5 27.9l-87.5 151.5h63.3c20.5 0 32 24.1 23.1 40.8H113.8c-11.3 0-20.4-9.1-20.4-20.4 0-11.3 9.1-20.4 20.4-20.4h52l66.6-115.4-20.8-36.1c-5.6-9.8-2.3-22.2 7.5-27.9 9.8-5.6 22.2-2.3 27.9 7.5l8.9 15.7zm-78.7 218l-19.6 34c-5.6 9.8-18.1 13.1-27.9 7.5-9.8-5.6-13.1-18.1-7.5-27.9l14.6-25.2c16.4-5.1 29.8-1.2 40.4 11.6zm168.9-61.7h53.1c11.3 0 20.4 9.1 20.4 20.4 0 11.3-9.1 20.4-20.4 20.4h-29.5l19.9 34.5c5.6 9.8 2.3 22.2-7.5 27.9-9.8 5.6-22.2 2.3-27.9-7.5-33.5-58.1-58.7-101.6-75.4-130.6-17.1-29.5-4.9-59.1 7.2-69.1 13.4 23 33.4 57.7 60.1 104zM256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm216 248c0 118.7-96.1 216-216 216-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216 118.7 0 216 96.1 216 216z"},child:[]}]})(t)}function ev(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"},child:[]}]})(t)}function ak(t){return St({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function lk(t){return St({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(t)}function Uw(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function ck(t){return St({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function uk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function dk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function hk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function tv(t){return St({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function fk(t){return St({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Ww(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function pk(t){return St({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function mk(t){return St({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function gk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function xk(t){return St({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function nv(t){return St({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function yk(t){return St({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(t)}function vk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function rv(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function bk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function iv(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function _k(t){return St({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"},child:[]}]})(t)}function R2(t){return St({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function wk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function jg(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function Nk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function jk(t){return St({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Sk(t){return St({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function kk(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(t)}function Ud(t){return St({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const sv="AgriTayoAPIKey2024";function Ck(){const[t,e]=O.useState({phone_number:"",password:""}),[n,r]=O.useState(""),[i,s]=O.useState(!0),[a,c]=O.useState(!1),u=Cn(),h=async()=>{try{const x=await fetch("/api/session",{headers:{"x-api-key":sv}});if(x.ok){const g=await x.json();g.user&&(g.user.user_type_id==="1"?u("/dashboard-admin"):g.user.user_type_id==="2"?u("/dashboard-seller"):u("/dashboard-buyer"))}else console.error("Failed to fetch user session:",x.statusText)}catch(x){console.error("Error fetching user session:",x)}finally{s(!1)}};O.useEffect(()=>{h()},[]);const f=x=>{const{name:g,value:b}=x.target;e({...t,[g]:b}),r("")},m=async x=>{x.preventDefault();try{const g=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":sv},body:JSON.stringify({phone_number:t.phone_number,password:t.password})});if(!g.ok){const N=await g.json();r(N.error||"Invalid phone number or password.");return}const b=await g.json();localStorage.setItem("token",b.token),b.user.user_type_id===1?u("/admin/dashboard"):b.user.user_type_id===2?u("/seller/dashboard"):u("/buyer/dashboard"),window.location.reload()}catch(g){console.error("Error during login:",g),r("An error occurred. Please try again.")}};return i?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-r from-green-50 to-green-100",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-green-600"})}):o.jsxs("div",{className:"min-h-screen md:fixed md:inset-0 flex flex-col md:flex-row overflow-y-auto md:overflow-hidden",children:[o.jsx("div",{className:"w-full md:w-1/2 bg-[#fddaa6] flex items-center justify-center min-h-[40vh] md:min-h-screen py-8",children:o.jsxs("div",{className:"w-full max-w-2xl flex items-center justify-center p-8",children:[" ",o.jsx("img",{src:"/AgriTayo_Logo_wName.png",alt:"AgriTayo Logo",className:"w-full h-auto scale-125 transform transition-transform duration-300 hover:scale-[1.3]"})]})}),o.jsx("div",{className:"w-full md:w-1/2 bg-gradient-to-br from-[#b6f492] to-[#338b93] flex items-center justify-center p-4 md:p-8 min-h-screen",children:o.jsxs("div",{className:"w-full max-w-md space-y-6 bg-white/90 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-xl my-8 md:my-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-center text-gray-600",children:"Please sign in to continue"})]}),n&&o.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm font-medium",children:n}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(bk,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",name:"phone_number",value:t.phone_number,onChange:f,className:`block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg 
                                        focus:ring-2 focus:ring-green-500 focus:border-transparent
                                        transition-all duration-200`,placeholder:"Enter your phone number",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(xk,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:a?"text":"password",name:"password",value:t.password,onChange:f,className:`block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg 
                                        focus:ring-2 focus:ring-green-500 focus:border-transparent
                                        transition-all duration-200`,placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!a),children:a?o.jsx(pk,{className:"h-5 w-5 text-gray-400"}):o.jsx(mk,{className:"h-5 w-5 text-gray-400"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{type:"submit",className:`w-full bg-green-600 text-white py-3 rounded-lg font-medium
                                    hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 
                                    focus:ring-offset-2 transform transition-all duration-200 hover:scale-[1.02]`,children:"Sign In"}),o.jsx("button",{type:"button",onClick:()=>u("/register"),className:`w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium
                                    hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 
                                    focus:ring-offset-2 transform transition-all duration-200 hover:scale-[1.02]`,children:"Create Account"})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>u("/forgotPassword"),className:`text-green-600 hover:text-green-700 font-medium 
                                transition-colors duration-200`,children:"Forgot your password?"})})]})})]})}const Pk="AgriTayoAPIKey2024";function Lk(){const t=Cn();return O.useEffect(()=>{(async()=>{try{const n=await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Pk}});n.ok?(localStorage.removeItem("user"),t("/login")):console.error("Logout failed:",await n.json())}catch(n){console.error("Error during logout:",n)}window.location.reload()})()},[t]),o.jsx("div",{children:o.jsx("p",{children:"Logging out..."})})}function Ak({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Lu=O.forwardRef(Ak);function Ek({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Mk=O.forwardRef(Ek);function Tk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Ok=O.forwardRef(Tk);function Dk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Hw=O.forwardRef(Dk);function Ik({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xh=O.forwardRef(Ik);function Rk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const l1=O.forwardRef(Rk);function Fk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const c1=O.forwardRef(Fk);function Bk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const qw=O.forwardRef(Bk);function zk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Uk=O.forwardRef(zk);function Wk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const F2=O.forwardRef(Wk);function Hk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Au=O.forwardRef(Hk);function qk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Cm=O.forwardRef(qk);function Vk({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Sg=O.forwardRef(Vk),ov="AgriTayoAPIKey2024";function $k(){const[t,e]=O.useState({firstname:"",middlename:"",lastname:"",birthday:"",phone_number:"",secondary_phone_number:"",password:"",confirm_password:"",user_type_id:1,verified:!1});console.log("console.log",t);const[n,r]=O.useState({});O.useState("");const i=Cn(),[s,a]=O.useState([]),[c,u]=O.useState([]),[h,f]=O.useState(!1),[m,x]=O.useState(!1),[g,b]=O.useState(!1),[N,k]=O.useState(!1),[v,w]=O.useState(""),[j,E]=O.useState("success");O.useEffect(()=>{(async()=>{try{const V=await fetch("/api/users",{headers:{"x-api-key":ov}});if(V.ok){const R=(await V.json()).map(K=>K.phone_number);a(R)}else console.error("Failed to fetch phone numbers")}catch(V){console.error("Error fetching phone numbers:",V)}})()},[]),O.useEffect(()=>{(async()=>{try{const V=await fetch("/api/users",{headers:{"x-api-key":ov}});if(V.ok){const R=(await V.json()).map(K=>K.secondary_phone_number);u(R)}else console.error("Failed to fetch phone numbers")}catch(V){console.error("Error fetching phone numbers:",V)}})()},[]);const T={firstname:/^[A-Za-z\s]{2,}$/,lastname:/^[A-Za-z\s]{2,}$/,password:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,30}$/,phone:/^(?:\+63|0)?9\d{9}$/},F=Y=>{const{name:V,value:I}=Y.target;if(e({...t,[V]:I}),I===""){r(R=>({...R,[V]:""}));return}switch(V){case"firstname":T.firstname.test(I)?r(Q=>({...Q,firstname:""})):r(Q=>({...Q,firstname:"Invalid First Name. Please enter at least 2 letters."}));break;case"middlename":r(Q=>({...Q,middlename:""}));break;case"lastname":T.lastname.test(I)?r(Q=>({...Q,lastname:""})):r(Q=>({...Q,lastname:"Invalid Last Name. Please enter at least 2 letters."}));break;case"phone_number":T.phone.test(I)?r(Q=>({...Q,phone_number:""})):r(Q=>({...Q,phone_number:"Invalid phone number. Format should start with 09 and have 11 digits."}));break;case"secondary_phone_number":I&&!T.phone.test(I)?r(Q=>({...Q,secondary_phone_number:"Invalid alternative phone number format."})):r(Q=>({...Q,secondary_phone_number:""}));break;case"password":T.password.test(I)?r(Q=>({...Q,password:""})):r(Q=>({...Q,password:"Password must contain 8-30 characters, including letters and numbers."})),t.confirm_password&&I!==t.confirm_password?r(Q=>({...Q,confirm_password:"Passwords do not match."})):r(Q=>({...Q,confirm_password:""}));break;case"confirm_password":I!==t.password?r(Q=>({...Q,confirm_password:"Passwords do not match."})):r(Q=>({...Q,confirm_password:""}));break;case"birthday":const R=new Date(I),K=new Date,U=K.getFullYear()-R.getFullYear(),le=K.getMonth()-R.getMonth();U<18||U===18&&le<0||U===18&&le===0&&K.getDate()<R.getDate()?r(Q=>({...Q,birthday:"You must be at least 18 years old"})):r(Q=>({...Q,birthday:""}));break}},D=async Y=>{Y.preventDefault();let V=!1,I={};if(t.firstname?T.firstname.test(t.firstname)||(I.firstname="Invalid First Name. Please enter at least 2 letters.",V=!0):(I.firstname="Enter your first name",V=!0),t.lastname?T.lastname.test(t.lastname)||(I.lastname="Invalid Last Name. Please enter at least 2 letters.",V=!0):(I.lastname="Enter your last name",V=!0),t.phone_number?T.phone.test(t.phone_number)?s.includes(t.phone_number)&&(I.phone_number="Phone number is already registered",V=!0):(I.phone_number="Invalid phone number. Format should start with 09 and have 11 digits.",V=!0):(I.phone_number="Enter your phone number",V=!0),t.secondary_phone_number?T.phone.test(t.secondary_phone_number)?c.includes(t.secondary_phone_number)?(I.secondary_phone_number="Alternative phone number is already registered",V=!0):t.phone_number===t.secondary_phone_number&&(I.secondary_phone_number="Alternative phone number must be different from primary phone number",V=!0):(I.secondary_phone_number="Invalid alternative phone number format.",V=!0):(I.secondary_phone_number="Enter your alternative phone number",V=!0),t.birthday||(I.birthday="Enter your birthday",V=!0),t.password?T.password.test(t.password)||(I.password="Password must contain 8-30 characters, including letters and numbers.",V=!0):(I.password="Enter your password",V=!0),t.confirm_password?t.password!==t.confirm_password&&(I.confirm_password="Passwords do not match",V=!0):(I.confirm_password="Confirm your password",V=!0),r(I),!V){b(!0);try{i("/otpPhones",{state:{formData:t}})}catch(R){console.error("Error during registration:",R),E("error"),w("An error occurred during registration. Please try again."),k(!0)}finally{b(!1)}}},P=()=>{const Y=new Date;return new Date(Y.getFullYear()-18,Y.getMonth(),Y.getDate()).toISOString().split("T")[0]};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"w-full h-full lg:h-auto lg:max-w-6xl lg:mx-4 bg-white lg:rounded-2xl shadow-xl flex flex-col lg:flex-row",children:[o.jsx("div",{className:"lg:w-1/2 bg-orange-100 hidden lg:flex lg:items-center lg:justify-center lg:rounded-l-2xl",children:o.jsx("img",{src:"/AgriTayo_Logo.svg",alt:"AgriTayo Logo",className:"max-w-md w-full object-contain p-8"})}),o.jsxs("div",{className:"lg:w-1/2 p-6 lg:p-8 h-full lg:h-[800px] overflow-y-auto",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Register Account"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Join our farming community today"})]}),o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sg,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",name:"firstname",className:`w-full pl-10 pr-3 py-2 rounded-lg border ${n.firstname?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500 focus:border-transparent`,value:t.firstname,onChange:F})]}),n.firstname&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.firstname})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sg,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",name:"middlename",className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500",value:t.middlename,onChange:F})]}),n.middlename&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.middlename})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sg,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",name:"lastname",className:`w-full pl-10 pr-3 py-2 rounded-lg border ${n.lastname?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.lastname,onChange:F})]}),n.lastname&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.lastname})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birthday"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mk,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"date",name:"birthday",max:P(),className:`w-full pl-10 pr-3 py-2 rounded-lg border ${n.birthday?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.birthday,onChange:F})]}),n.birthday&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.birthday})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Au,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",name:"phone_number",className:`w-full pl-10 pr-3 py-2 rounded-lg border ${n.phone_number?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.phone_number,onChange:F})]}),n.phone_number&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.phone_number})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternative Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Au,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",name:"secondary_phone_number",className:`w-full pl-10 pr-3 py-2 rounded-lg border ${n.secondary_phone_number?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.secondary_phone_number,onChange:F})]}),n.secondary_phone_number&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.secondary_phone_number})]}),o.jsxs("div",{className:"relative col-span-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",name:"password",className:`w-full pl-10 pr-10 py-2 rounded-lg border ${n.password?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.password,onChange:F}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>f(!h),children:h?o.jsx(l1,{className:"h-5 w-5 text-gray-400"}):o.jsx(c1,{className:"h-5 w-5 text-gray-400"})})]}),n.password&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.password})]}),o.jsxs("div",{className:"relative col-span-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",name:"confirm_password",className:`w-full pl-10 pr-10 py-2 rounded-lg border ${n.confirm_password?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-green-500`,value:t.confirm_password,onChange:F}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>x(!m),children:m?o.jsx(l1,{className:"h-5 w-5 text-gray-400"}):o.jsx(c1,{className:"h-5 w-5 text-gray-400"})})]}),n.confirm_password&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.confirm_password})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[o.jsx("button",{type:"submit",disabled:g,className:`w-full bg-green-600 text-white py-3 rounded-lg font-medium
                                            hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 
                                            focus:ring-offset-2 transform transition-all duration-200 
                                            hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed`,children:g?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Register"}),o.jsx("button",{type:"button",onClick:()=>i("/login"),className:`w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium
                                            hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 
                                            focus:ring-offset-2 transform transition-all duration-200 
                                            hover:scale-[1.02]`,children:"Cancel"})]})]})]})]})})}),N&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:j==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:v}),o.jsx("button",{onClick:()=>k(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const ra=({isOpen:t,onClose:e,children:n})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",onClick:e,children:o.jsxs("div",{onClick:r=>r.stopPropagation(),children:[n,o.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:e,children:""})]})}):null,av="AgriTayoAPIKey2024";function Yk(){var R;const e=(R=br().state)==null?void 0:R.formData,n=Cn();console.log(e);const[r,i]=O.useState(!1),[s,a]=O.useState(!1),[c,u]=O.useState(""),[h,f]=O.useState("success"),[m,x]=O.useState(""),[g,b]=O.useState(!1),[N,k]=O.useState(""),[v,w]=O.useState(!1),[j,E]=O.useState(10*60),[T,F]=O.useState(""),D=async()=>{const K=Math.floor(1e5+Math.random()*9e5).toString();x(K);const U="AgriTayo",le=`Your OTP code is: ${K}`,Q=e.phone_number;try{const Z=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":av},body:JSON.stringify({title:U,message:le,phone_number:Q})});if(!Z.ok)throw new Error("Network response was not ok");const H=await Z.json();console.log("SMS sent successfully:",H),f("success"),u("Message sent successfully!"),a(!0)}catch(Z){console.error("Error sending SMS:",Z),f("error"),u("Failed to send the message."),a(!0)}};O.useEffect(()=>{D()},[e.phone_number]),console.log(m),O.useEffect(()=>{let K=null;return j>0?K=setInterval(()=>{E(U=>U-1)},1e3):(b(!0),clearInterval(K)),()=>clearInterval(K)},[j]);const P=K=>{const U=Math.floor(K/60),le=K%60;return`${String(U).padStart(2,"0")}:${String(le).padStart(2,"0")}`},Y=()=>{i(!1),n("/login")},V=async K=>{if(k(""),K.preventDefault(),isNaN(T))k("Please enter numbers only.");else if(T.length<6)k("Enter the 6 digit code");else if(T!==m)k("Invalid OTP. Please try again.");else{w(!0);try{const U=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":av},body:JSON.stringify(e)});if(!U.ok){const le=await U.json();f("error"),u(`${le.error}: ${le.details}`),a(!0);return}i(!0)}catch(U){console.error("Error during registration:",U),f("error"),u("An error occurred. Please try again."),a(!0)}finally{w(!1)}}},I=()=>{E(10*60),b(!1),D()};return v?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Verifying..."})]})}):o.jsxs("div",{className:"fixed inset-0",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(Cm,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Verify Your Number"})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("p",{className:"text-gray-600",children:"A 6-digit code has been sent to"}),o.jsx("p",{className:"font-semibold text-gray-800 mt-1",children:e.phone_number})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"     ",maxLength:"6",value:T,onChange:K=>F(K.target.value),className:`w-full px-4 py-3 text-center text-2xl tracking-[1em] rounded-lg border 
                                    ${N?"border-red-500 bg-red-50":"border-gray-300"} 
                                    focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                    transition-all duration-200 font-mono placeholder:tracking-[0.75em]`}),N&&o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:N})]})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xh,{className:"h-5 w-5 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:j>0?`Code expires in ${P(j)}`:"Code expired"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Didn't receive the code?"}),o.jsx("button",{onClick:g?I:null,disabled:!g,className:`text-sm font-semibold px-3 py-1 rounded-lg
                                        ${g?"text-green-600 hover:bg-green-50 active:bg-green-100":"text-gray-400"} transition-all duration-200`,children:"Resend Code"})]})]}),o.jsx("button",{onClick:V,className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                duration-200 hover:scale-[1.02] disabled:opacity-50 
                                disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Verify Number"})]})]})}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:h==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:c}),o.jsx("button",{onClick:()=>a(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})}),r&&o.jsx(ra,{isOpen:!0,onClose:Y,children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl max-w-md mx-auto",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Registration Successful!"}),o.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Please contact the admin at"," ",o.jsx("a",{href:"mailto:AgriTayo@gmail.com",className:"text-green-600 hover:text-green-700 underline",children:"AgriTayo@gmail.com"})," ","to send your personal information for account promotion as admin."]}),o.jsx("button",{onClick:Y,className:`w-full bg-green-600 text-white py-3 rounded-xl font-semibold
                                hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                duration-200 hover:scale-[1.02]`,children:"Close"})]})})]})}const kg="AgriTayoAPIKey2024";function Zk(){var te;const e=(te=br().state)==null?void 0:te.formData,n=Cn(),[r,i]=O.useState(""),[s,a]=O.useState(""),[c,u]=O.useState(!1),[h,f]=O.useState(!1),[m,x]=O.useState(""),[g,b]=O.useState(""),[N,k]=O.useState(!1),[v,w]=O.useState(10*60),[j,E]=O.useState(10*60),[T,F]=O.useState(""),[D,P]=O.useState(""),[Y,V]=O.useState(!1),[I,R]=O.useState(""),[K,U]=O.useState("success"),le=async()=>{const M=Math.floor(1e5+Math.random()*9e5).toString();i(M);const B="AgriTayo",G=`Your OTP code is: ${M}`,$=e.phone_number;try{const ne=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":kg},body:JSON.stringify({title:B,message:G,phone_number:$})});if(!ne.ok)throw new Error("Network response was not ok");const he=await ne.json();console.log("SMS sent successfully:",he),U("success"),R("Message sent successfully!"),V(!0)}catch(ne){console.error("Error sending SMS:",ne),U("error"),R("Failed to send the message."),V(!0)}},Q=async()=>{const M=Math.floor(1e5+Math.random()*9e5).toString();a(M);const B="AgriTayo",G=`Your OTP code is: ${M}`,$=e.secondary_phone_number;try{const ne=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":kg},body:JSON.stringify({title:B,message:G,phone_number:$})});if(!ne.ok)throw new Error("Network response was not ok");const he=await ne.json();console.log("SMS sent successfully:",he),U("success"),R("Message sent successfully!"),V(!0)}catch(ne){console.error("Error sending SMS:",ne),U("error"),R("Failed to send the message."),V(!0)}};O.useEffect(()=>{le(),Q()},[e.phone_number,e.secondary_phone_number]),console.log(r),console.log(s),O.useEffect(()=>{let M=null;return v>0?M=setInterval(()=>{w(B=>B-1)},1e3):(u(!0),clearInterval(M)),()=>clearInterval(M)},[v]),O.useEffect(()=>{let M=null;return j>0?M=setInterval(()=>{E(B=>B-1)},1e3):(f(!0),clearInterval(M)),()=>clearInterval(M)},[j]);const Z=M=>{const B=Math.floor(M/60),G=M%60;return`${String(B).padStart(2,"0")}:${String(G).padStart(2,"0")}`},H=async M=>{if(x(""),b(""),M.preventDefault(),T.length<6&&x("Enter the 6 digit code"),D.length<6&&b("Enter the 6 digit code"),T.length===6&&T!==r&&x("Invalid OTP. Please try again."),D.length===6&&D!==s&&b("Invalid OTP. Please try again."),T===r&&D===s){k(!0);try{const B=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":kg},body:JSON.stringify(e)});if(!B.ok){const G=await B.json();alert(G.error+": "+G.details);return}alert("Registered Successfully!"),n("/login")}catch(B){console.error("Error during registration:",B),alert("An error occurred. Please try again.")}finally{k(!1)}}},q=()=>{w(10*60),u(!1),le()},ee=()=>{E(10*60),f(!1),Q()};return N?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Verifying your numbers..."})]})}):(console.log(e),o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(Cm,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Phone Verification"})]}),o.jsx("p",{className:"text-center text-gray-600",children:"Please verify both phone numbers to complete your registration"})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Au,{className:"h-5 w-5 text-green-600"}),o.jsx("p",{className:"text-gray-700 font-medium",children:"Primary Phone Number"})]})}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Enter the code sent to"," ",o.jsx("span",{className:"font-semibold text-gray-800",children:e.phone_number})]}),o.jsx("input",{type:"text",placeholder:"     ",maxLength:"6",value:T,onChange:M=>F(M.target.value),className:`w-full px-4 py-3 text-center text-2xl tracking-[1em] rounded-lg border 
                                        ${m?"border-red-500 bg-red-50":"border-gray-300"} 
                                        focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                        transition-all duration-200 font-mono`}),m&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:m})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xh,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:v>0?`${Z(v)} remaining`:"Code expired"})]}),o.jsx("button",{onClick:c?q:null,disabled:!c,className:`text-sm font-semibold px-3 py-1 rounded-lg
                                            ${c?"text-green-600 hover:bg-green-50 active:bg-green-100":"text-gray-400"} transition-all duration-200`,children:"Resend Code"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Au,{className:"h-5 w-5 text-green-600"}),o.jsx("p",{className:"text-gray-700 font-medium",children:"Alternative Phone Number"})]})}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Enter the code sent to"," ",o.jsx("span",{className:"font-semibold text-gray-800",children:e.secondary_phone_number})]}),o.jsx("input",{type:"text",placeholder:"     ",maxLength:"6",value:D,onChange:M=>P(M.target.value),className:`w-full px-4 py-3 text-center text-2xl tracking-[1em] rounded-lg border 
                                        ${g?"border-red-500 bg-red-50":"border-gray-300"} 
                                        focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                        transition-all duration-200 font-mono`}),g&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:g})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xh,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:j>0?`${Z(j)} remaining`:"Code expired"})]}),o.jsx("button",{onClick:h?ee:null,disabled:!h,className:`text-sm font-semibold px-3 py-1 rounded-lg
                                            ${h?"text-green-600 hover:bg-green-50 active:bg-green-100":"text-gray-400"} transition-all duration-200`,children:"Resend Code"})]})]})]}),o.jsx("button",{onClick:H,className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                duration-200 hover:scale-[1.02] disabled:opacity-50 
                                disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Verify Phone Numbers"})]})]})}),Y&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:K==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:I}),o.jsx("button",{onClick:()=>V(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]}))}const Kk="AgriTayoAPIKey2024";function Gk(){const[t,e]=O.useState(""),n=Cn(),[r,i]=O.useState(""),[s,a]=O.useState(!1),c=/^(?:\+63|0)?9\d{9}$/,[u,h]=O.useState([]),[f,m]=O.useState(!1),[x,g]=O.useState(""),[b,N]=O.useState("success");O.useEffect(()=>{(async()=>{try{const w=await fetch("/api/users",{headers:{"x-api-key":Kk}});if(w.ok){const E=(await w.json()).map(T=>T.phone_number);h(E)}else console.error("Failed to fetch phone numbers")}catch(w){console.error("Error fetching phone numbers:",w)}})()},[]);const k=async v=>{v.preventDefault(),e(""),a(!0);try{isNaN(r)?e("Please enter numbers only."):r?c.test(r)?u.includes(r)?(N("success"),g("Phone Number Confirmed"),m(!0),setTimeout(()=>{n("/forgotPasswordOTP",{state:{phone:r}})},1500)):(N("error"),g("Phone number not found. Please try again."),m(!0)):e("Invalid phone number format. Please use 09 followed by 9 digits."):e("Enter your phone number")}finally{a(!1)}};return s?o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Verifying..."})]})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(qw,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Reset Password"})]}),o.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Enter your phone number to reset your password"})]}),o.jsx("div",{className:"p-6 space-y-6",children:o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Au,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"09123456789",value:r,onChange:v=>i(v.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border 
                                            ${t?"border-red-500 bg-red-50":"border-gray-300"} 
                                            focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                            transition-all duration-200`})]}),t&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:t})]})]}),o.jsx("button",{type:"submit",className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                    hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                    focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02] disabled:opacity-50 
                                    disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Reset Password"}),o.jsx("button",{type:"button",onClick:()=>n("/login"),className:`w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold
                                    hover:bg-gray-200 active:bg-gray-300 focus:outline-none focus:ring-2 
                                    focus:ring-gray-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02]`,children:"Back to Login"})]})})]})}),f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:b==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:x}),o.jsx("button",{onClick:()=>m(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const Xk="AgriTayoAPIKey2024";function Jk(){var Y;const e=(Y=br().state)==null?void 0:Y.phone,n=Cn(),[r,i]=O.useState(!1);console.log(e);const[s,a]=O.useState(""),[c,u]=O.useState(!1),[h,f]=O.useState(""),[m,x]=O.useState(10*60),[g,b]=O.useState(""),[N,k]=O.useState(!1),[v,w]=O.useState(""),[j,E]=O.useState("success"),T=async()=>{const V=Math.floor(1e5+Math.random()*9e5).toString();a(V);const I="AgriTayo",R=`Your OTP code is: ${V}`,K=e;try{const U=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Xk},body:JSON.stringify({title:I,message:R,phone_number:K})});if(!U.ok)throw new Error("Network response was not ok");const le=await U.json();console.log("SMS sent successfully:",le),E("success"),w("Message sent successfully!"),k(!0)}catch(U){console.error("Error sending SMS:",U),E("error"),w("Failed to send the message."),k(!0)}};O.useEffect(()=>{T()},[e]),console.log(s),O.useEffect(()=>{let V=null;return m>0?V=setInterval(()=>{x(I=>I-1)},1e3):(u(!0),clearInterval(V)),()=>clearInterval(V)},[m]);const F=V=>{const I=Math.floor(V/60),R=V%60;return`${String(I).padStart(2,"0")}:${String(R).padStart(2,"0")}`},D=async V=>{f(""),V.preventDefault(),isNaN(g)?f("Please enter numbers only."):g.length<6?f("Enter the 6 digit code"):g!==s?f("Invalid OTP. Please try again."):n("/newPassword",{state:{phone:e}})},P=()=>{x(10*60),u(!1),T()};return r?o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Verifying..."})]})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(Cm,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Verify Your Number"})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("p",{className:"text-gray-600",children:"A 6-digit code has been sent to"}),o.jsx("p",{className:"font-semibold text-gray-800 mt-1",children:e})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"     ",maxLength:"6",value:g,onChange:V=>b(V.target.value),className:`w-full px-4 py-3 text-center text-2xl tracking-[0.75em] rounded-lg border 
                                    ${h?"border-red-500 bg-red-50":"border-gray-300"} 
                                    focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                    transition-all duration-200 font-mono`,style:{letterSpacing:"0.75em",paddingLeft:"1.5rem"}}),h&&o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:h})]})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xh,{className:"h-5 w-5 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:m>0?`Code expires in ${F(m)}`:"Code expired"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Didn't receive the code?"}),o.jsx("button",{onClick:c?P:null,disabled:!c,className:`text-sm font-semibold px-3 py-1 rounded-lg
                                        ${c?"text-green-600 hover:bg-green-50 active:bg-green-100":"text-gray-400"} transition-all duration-200`,children:"Resend Code"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:D,className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                    hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                    focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02] disabled:opacity-50 
                                    disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Verify & Continue"}),o.jsx("button",{onClick:()=>n("/forgotPassword"),className:`w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold
                                    hover:bg-gray-200 active:bg-gray-300 focus:outline-none focus:ring-2 
                                    focus:ring-gray-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02]`,children:"Back"})]})]})]})}),N&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:j==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:v}),o.jsx("button",{onClick:()=>k(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const Qk="AgriTayoAPIKey2024";function e8(){var v;const e=(v=br().state)==null?void 0:v.phone,n=Cn();console.log(e);const[r,i]=O.useState(""),[s,a]=O.useState(!1),[c,u]=O.useState(""),h=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,30}$/,[f,m]=O.useState(!1),[x,g]=O.useState(""),[b,N]=O.useState("success"),k=async w=>{if(w.preventDefault(),u(""),r){if(!h.test(r)){u("Invalid Password. Please enter 8-30 characters, including letters and numbers");return}}else{u("Enter your password");return}const j=new FormData;j.append("pass",r),a(!0);try{const E=await fetch(`/api/changePassword/${e}`,{method:"PUT",headers:{"x-api-key":Qk},body:j});if(E.ok){const T=await E.json();console.log("Successfully Updated Password",T),N("success"),g("Successfully Updated Password"),m(!0),setTimeout(()=>{n("/login")},1500)}else{const T=await E.json();console.error("Updating new password failed:",T),N("error"),g("Updating the New Password Failed. Please Try Again"),m(!0)}}catch(E){console.error("Error during updating the new password:",E),N("error"),g("An error occurred. Please try again."),m(!0)}finally{a(!1)}};return s?o.jsx("div",{className:"loading",children:"Loading..."}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[o.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 max-w-md w-full",children:[o.jsx("h1",{className:"text-2xl font-bold text-center text-green-600 mb-4",children:"Enter your new password"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("input",{type:"password",name:"password",placeholder:"*********",value:r,onChange:w=>i(w.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-green-600"}),c&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c})]}),o.jsx("div",{className:"mb-4",children:o.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Submit"})})]}),f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:b==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:x}),o.jsx("button",{onClick:()=>m(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const t8="AgriTayoAPIKey2024";function n8(){var j;const e=(j=br().state)==null?void 0:j.userId,n=Cn(),[r,i]=O.useState(""),[s,a]=O.useState(!1),[c,u]=O.useState(""),h=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,30}$/,[f,m]=O.useState(!1),[x,g]=O.useState(!1),[b,N]=O.useState(""),[k,v]=O.useState("success"),w=async E=>{if(E.preventDefault(),u(""),r){if(!h.test(r)){u("Invalid Password. Please enter 8-30 characters, including letters and numbers");return}}else{u("Enter your password");return}a(!0);try{const T=new FormData;T.append("pass",r);const F=await fetch(`/api/editPassword/${e}`,{method:"PUT",headers:{"x-api-key":t8},body:T});if(F.ok){const D=await F.json();console.log("Successfully Updated Password",D),v("success"),N("Successfully Updated Password"),g(!0),setTimeout(()=>{n("/admin/profile")},1500)}else{const D=await F.json();console.error("Updating new password failed:",D),v("error"),N("Updating the New Password Failed. Please Try Again"),g(!0)}}catch(T){console.error("Error during updating the new password:",T),v("error"),N("An error occurred. Please try again."),g(!0)}finally{a(!1)}};return s?o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Updating Password..."})]})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(qw,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Change Password"})]}),o.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Enter your new password below"})]}),o.jsx("div",{className:"p-6 space-y-6",children:o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Uk,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:f?"text":"password",placeholder:"Enter new password",value:r,onChange:E=>i(E.target.value),className:`w-full pl-10 pr-12 py-3 rounded-lg border 
                                            ${c?"border-red-500 bg-red-50":"border-gray-300"} 
                                            focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                            transition-all duration-200`}),o.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:f?o.jsx(l1,{className:"h-5 w-5"}):o.jsx(c1,{className:"h-5 w-5"})})]}),c&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:c})]})]}),o.jsx("button",{type:"submit",className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                    hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                    focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02] disabled:opacity-50 
                                    disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Update Password"}),o.jsx("button",{type:"button",onClick:()=>n("/admin/profile"),className:`w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold
                                    hover:bg-gray-200 active:bg-gray-300 focus:outline-none focus:ring-2 
                                    focus:ring-gray-500 focus:ring-offset-2 transform transition-all 
                                    duration-200 hover:scale-[1.02]`,children:"Cancel"})]})})]})}),x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:k==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:b}),o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const kf="AgriTayoAPIKey2024";function r8(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({}),[a,c]=O.useState(!1);O.useState(!1);const[u,h]=O.useState(!1),[f,m]=O.useState(null),[x,g]=O.useState(""),[b,N]=O.useState(!1);O.useEffect(()=>{k()},[]);const k=async()=>{try{const P=await fetch("/api/user_types",{headers:{"x-api-key":kf}});if(!P.ok)throw new Error("Network response was not ok");const Y=await P.json();e(Y),r(Y)}catch(P){console.error("Error fetching user types:",P)}},v=P=>{const{name:Y,value:V}=P.target;s({...i,[Y]:V})},w=P=>{const{value:Y}=P.target;g(Y);const V=t.filter(I=>I.user_type_name.toLowerCase().includes(Y.toLowerCase())||I.user_type_description.toLowerCase().includes(Y.toLowerCase()));r(V)},j=async P=>{P.preventDefault();try{if(!(await fetch("/api/user_types",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":kf},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");k(),s({}),N(!1)}catch(Y){console.error("Error creating user type:",Y)}},E=async P=>{P.preventDefault();try{if(!(await fetch(`/api/user_types/${i.user_type_id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-api-key":kf},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");k(),s({}),c(!1),N(!1)}catch(Y){console.error("Error updating user type:",Y)}},T=P=>{s(P),c(!0),N(!0)},F=async()=>{try{if(!(await fetch(`/api/user_types/${f}`,{method:"DELETE",headers:{"x-api-key":kf}})).ok)throw new Error("Network response was not ok");k(),h(!1),m(null)}catch(P){console.error("Error deleting record:",P)}},D=(P=!1)=>{N(!b),c(P),P||s({user_type_id:"",user_type_name:"",user_type_description:""})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"User Type Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize user roles and permissions"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[n.length," User Types"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[o.jsx("button",{onClick:()=>D(!1),className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
              hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Add User Type"}),o.jsx("input",{type:"text",value:x,onChange:w,placeholder:"Search user types...",className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-96
              focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left",children:"ID"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Name"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Description"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(P=>o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4",children:P.user_type_id}),o.jsx("td",{className:"px-6 py-4 font-medium",children:P.user_type_name}),o.jsx("td",{className:"px-6 py-4",children:P.user_type_description}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>T(P),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                            transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{m(P.user_type_id),h(!0)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                            transition-colors duration-200`,children:"Delete"})]})})]},P.user_type_id))})]})})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4 transform transition-all duration-300 scale-100",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit User Type":"Add New User Type"}),o.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:a?E:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type Name"}),o.jsx("input",{type:"text",name:"user_type_name",value:i.user_type_name||"",onChange:v,className:"w-full rounded-xl border-gray-300 shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:!0,placeholder:"Enter user type name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"user_type_description",value:i.user_type_description||"",onChange:v,className:"w-full rounded-xl border-gray-300 shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:!0,rows:"3",placeholder:"Enter description"})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:`px-6 py-2.5 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200 font-medium`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-6 py-2.5 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200 font-medium`,children:a?"Save Changes":"Create User Type"})]})]})]})})}),u&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this user type?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>h(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:F,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Delete"})]})]})})]})})}const i8="modulepreload",s8=function(t){return"/"+t},lv={},u1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=s8(u),u in lv)return;lv[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":i8,h||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((x,g)=>{m.addEventListener("load",x),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}var Si=Uint8Array,ai=Uint16Array,yh=Uint32Array,Pm=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lm=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d1=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vw=function(t,e){for(var n=new ai(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new yh(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},$w=Vw(Pm,2),Yw=$w[0],h1=$w[1];Yw[28]=258,h1[258]=28;var Zw=Vw(Lm,0),o8=Zw[0],cv=Zw[1],f1=new ai(32768);for(var Sn=0;Sn<32768;++Sn){var La=(Sn&43690)>>>1|(Sn&21845)<<1;La=(La&52428)>>>2|(La&13107)<<2,La=(La&61680)>>>4|(La&3855)<<4,f1[Sn]=((La&65280)>>>8|(La&255)<<8)>>>1}var uo=function(t,e,n){for(var r=t.length,i=0,s=new ai(e);i<r;++i)++s[t[i]-1];var a=new ai(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var c;if(n){c=new ai(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],f=e-t[i],m=a[t[i]-1]++<<f,x=m|(1<<f)-1;m<=x;++m)c[f1[m]>>>u]=h}else for(c=new ai(r),i=0;i<r;++i)c[i]=f1[a[t[i]-1]++]>>>15-t[i];return c},ol=new Si(288);for(var Sn=0;Sn<144;++Sn)ol[Sn]=8;for(var Sn=144;Sn<256;++Sn)ol[Sn]=9;for(var Sn=256;Sn<280;++Sn)ol[Sn]=7;for(var Sn=280;Sn<288;++Sn)ol[Sn]=8;var vh=new Si(32);for(var Sn=0;Sn<32;++Sn)vh[Sn]=5;var a8=uo(ol,9,0),l8=uo(ol,9,1),c8=uo(vh,5,0),u8=uo(vh,5,1),Cg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ks=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(e&7)&n},Pg=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},B2=function(t){return(t/8>>0)+(t&7&&1)},Kw=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof ai?ai:t instanceof yh?yh:Si)(n-e);return r.set(t.subarray(e,n)),r},d8=function(t,e,n){var r=t.length,i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Si(r*3));var a=function(ne){var he=e.length;if(ne>he){var pe=new Si(Math.max(he*2,ne));pe.set(e),e=pe}},c=n.f||0,u=n.p||0,h=n.b||0,f=n.l,m=n.d,x=n.m,g=n.n,b=r*8;do{if(!f){n.f=c=ks(t,u,1);var N=ks(t,u+1,3);if(u+=3,N)if(N==1)f=l8,m=u8,x=9,g=5;else if(N==2){var j=ks(t,u,31)+257,E=ks(t,u+10,15)+4,T=j+ks(t,u+5,31)+1;u+=14;for(var F=new Si(T),D=new Si(19),P=0;P<E;++P)D[d1[P]]=ks(t,u+P*3,7);u+=E*3;var Y=Cg(D),V=(1<<Y)-1;if(!s&&u+T*(Y+7)>b)break;for(var I=uo(D,Y,1),P=0;P<T;){var R=I[ks(t,u,V)];u+=R&15;var k=R>>>4;if(k<16)F[P++]=k;else{var K=0,U=0;for(k==16?(U=3+ks(t,u,3),u+=2,K=F[P-1]):k==17?(U=3+ks(t,u,7),u+=3):k==18&&(U=11+ks(t,u,127),u+=7);U--;)F[P++]=K}}var le=F.subarray(0,j),Q=F.subarray(j);x=Cg(le),g=Cg(Q),f=uo(le,x,1),m=uo(Q,g,1)}else throw"invalid block type";else{var k=B2(u)+4,v=t[k-4]|t[k-3]<<8,w=k+v;if(w>r){if(s)throw"unexpected EOF";break}i&&a(h+v),e.set(t.subarray(k,w),h),n.b=h+=v,n.p=u=w*8;continue}if(u>b)throw"unexpected EOF"}i&&a(h+131072);for(var Z=(1<<x)-1,H=(1<<g)-1,q=x+g+18;s||u+q<b;){var K=f[Pg(t,u)&Z],ee=K>>>4;if(u+=K&15,u>b)throw"unexpected EOF";if(!K)throw"invalid length/literal";if(ee<256)e[h++]=ee;else if(ee==256){f=null;break}else{var te=ee-254;if(ee>264){var P=ee-257,M=Pm[P];te=ks(t,u,(1<<M)-1)+Yw[P],u+=M}var B=m[Pg(t,u)&H],G=B>>>4;if(!B)throw"invalid distance";u+=B&15;var Q=o8[G];if(G>3){var M=Lm[G];Q+=Pg(t,u)&(1<<M)-1,u+=M}if(u>b)throw"unexpected EOF";i&&a(h+131072);for(var $=h+te;h<$;h+=4)e[h]=e[h-Q],e[h+1]=e[h+1-Q],e[h+2]=e[h+2-Q],e[h+3]=e[h+3-Q];h=$}}n.l=f,n.p=u,n.b=h,f&&(c=1,n.m=x,n.d=m,n.n=g)}while(!c);return h==e.length?e:Kw(e,0,h)},Bo=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},ud=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},Lg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new Si(0),0];if(i==1){var a=new Si(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(T,F){return T.f-F.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],h=0,f=1,m=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=n[n[h].f<n[m].f?h++:m++],u=n[h!=f&&n[h].f<n[m].f?h++:m++],n[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var x=s[0].s,r=1;r<i;++r)s[r].s>x&&(x=s[r].s);var g=new ai(x+1),b=p1(n[f-1],g,0);if(b>e){var r=0,N=0,k=b-e,v=1<<k;for(s.sort(function(F,D){return g[D.s]-g[F.s]||F.f-D.f});r<i;++r){var w=s[r].s;if(g[w]>e)N+=v-(1<<b-g[w]),g[w]=e;else break}for(N>>>=k;N>0;){var j=s[r].s;g[j]<e?N-=1<<e-g[j]++-1:++r}for(;r>=0&&N;--r){var E=s[r].s;g[E]==e&&(--g[E],++N)}b=e}return[new Si(g),b]},p1=function(t,e,n){return t.s==-1?Math.max(p1(t.l,e,n+1),p1(t.r,e,n+1)):e[t.s]=n},uv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ai(++e),r=0,i=t[0],s=1,a=function(u){n[r++]=u},c=1;c<=e;++c)if(t[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[c]}return[n.subarray(0,r),e]},dd=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},m1=function(t,e,n){var r=n.length,i=B2(e+2);t[i]=r&255,t[i+1]=r>>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},dv=function(t,e,n,r,i,s,a,c,u,h,f){Bo(e,f++,n),++i[256];for(var m=Lg(i,15),x=m[0],g=m[1],b=Lg(s,15),N=b[0],k=b[1],v=uv(x),w=v[0],j=v[1],E=uv(N),T=E[0],F=E[1],D=new ai(19),P=0;P<w.length;++P)D[w[P]&31]++;for(var P=0;P<T.length;++P)D[T[P]&31]++;for(var Y=Lg(D,7),V=Y[0],I=Y[1],R=19;R>4&&!V[d1[R-1]];--R);var K=h+5<<3,U=dd(i,ol)+dd(s,vh)+a,le=dd(i,x)+dd(s,N)+a+14+3*R+dd(D,V)+(2*D[16]+3*D[17]+7*D[18]);if(K<=U&&K<=le)return m1(e,f,t.subarray(u,u+h));var Q,Z,H,q;if(Bo(e,f,1+(le<U)),f+=2,le<U){Q=uo(x,g,0),Z=x,H=uo(N,k,0),q=N;var ee=uo(V,I,0);Bo(e,f,j-257),Bo(e,f+5,F-1),Bo(e,f+10,R-4),f+=14;for(var P=0;P<R;++P)Bo(e,f+3*P,V[d1[P]]);f+=3*R;for(var te=[w,T],M=0;M<2;++M)for(var B=te[M],P=0;P<B.length;++P){var G=B[P]&31;Bo(e,f,ee[G]),f+=V[G],G>15&&(Bo(e,f,B[P]>>>5&127),f+=B[P]>>>12)}}else Q=a8,Z=ol,H=c8,q=vh;for(var P=0;P<c;++P)if(r[P]>255){var G=r[P]>>>18&31;ud(e,f,Q[G+257]),f+=Z[G+257],G>7&&(Bo(e,f,r[P]>>>23&31),f+=Pm[G]);var $=r[P]&31;ud(e,f,H[$]),f+=q[$],$>3&&(ud(e,f,r[P]>>>5&8191),f+=Lm[$])}else ud(e,f,Q[r[P]]),f+=Z[r[P]];return ud(e,f,Q[256]),f+Z[256]},h8=new yh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f8=function(t,e,n,r,i,s){var a=t.length,c=new Si(r+a+5*(1+Math.floor(a/7e3))+i),u=c.subarray(r,c.length-i),h=0;if(!e||a<8)for(var f=0;f<=a;f+=65535){var m=f+65535;m<a?h=m1(u,h,t.subarray(f,m)):(u[f]=s,h=m1(u,h,t.subarray(f,a)))}else{for(var x=h8[e-1],g=x>>>13,b=x&8191,N=(1<<n)-1,k=new ai(32768),v=new ai(N+1),w=Math.ceil(n/3),j=2*w,E=function(mt){return(t[mt]^t[mt+1]<<w^t[mt+2]<<j)&N},T=new yh(25e3),F=new ai(288),D=new ai(32),P=0,Y=0,f=0,V=0,I=0,R=0;f<a;++f){var K=E(f),U=f&32767,le=v[K];if(k[U]=le,v[K]=U,I<=f){var Q=a-f;if((P>7e3||V>24576)&&Q>423){h=dv(t,u,0,T,F,D,Y,V,R,f-R,h),V=P=Y=0,R=f;for(var Z=0;Z<286;++Z)F[Z]=0;for(var Z=0;Z<30;++Z)D[Z]=0}var H=2,q=0,ee=b,te=U-le&32767;if(Q>2&&K==E(f-te))for(var M=Math.min(g,Q)-1,B=Math.min(32767,f),G=Math.min(258,Q);te<=B&&--ee&&U!=le;){if(t[f+H]==t[f+H-te]){for(var $=0;$<G&&t[f+$]==t[f+$-te];++$);if($>H){if(H=$,q=te,$>M)break;for(var ne=Math.min(te,$-2),he=0,Z=0;Z<ne;++Z){var pe=f-te+Z+32768&32767,_e=k[pe],Me=pe-_e+32768&32767;Me>he&&(he=Me,le=pe)}}}U=le,le=k[U],te+=U-le+32768&32767}if(q){T[V++]=268435456|h1[H]<<18|cv[q];var De=h1[H]&31,We=cv[q]&31;Y+=Pm[De]+Lm[We],++F[257+De],++D[We],I=f+H,++P}else T[V++]=t[f],++F[t[f]]}}h=dv(t,u,s,T,F,D,Y,V,R,f-R,h)}return Kw(c,0,r+B2(h)+i)},p8=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,a=0;a!=s;){for(var c=Math.min(a+5552,s);a<c;++a)r+=n[a],i+=r;r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},m8=function(t,e,n,r,i){return f8(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,r,!i)},g8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},x8=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},y8=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function g1(t,e){e===void 0&&(e={});var n=p8();n.p(t);var r=m8(t,e,2,4);return x8(r,e),g8(r,r.length-4,n.d()),r}function v8(t,e){return d8((y8(t),t.subarray(2,-4)),e)}var kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ag(){kt.console&&typeof kt.console.log=="function"&&kt.console.log.apply(kt.console,arguments)}var xn={log:Ag,warn:function(t){kt.console&&(typeof kt.console.warn=="function"?kt.console.warn.apply(kt.console,arguments):Ag.call(null,arguments))},error:function(t){kt.console&&(typeof kt.console.error=="function"?kt.console.error.apply(kt.console,arguments):Ag(t))}};function Eg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ql(r.response,e,n)},r.onerror=function(){xn.error("could not download file")},r.send()}function hv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Wd,x1,ql=kt.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kt.URL||kt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?hv(i.href)?Eg(t,e,n):Cf(i,i.target="_blank"):Cf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(hv(t))Eg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Cf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:dn(s)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Eg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(kt.HTMLElement)||kt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},c.readAsDataURL(t)}else{var u=kt.URL||kt.webkitURL,h=u.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Gw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+c+u+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Br(n,r,i,s,e[0],7,-680876936),s=Br(s,n,r,i,e[1],12,-389564586),i=Br(i,s,n,r,e[2],17,606105819),r=Br(r,i,s,n,e[3],22,-1044525330),n=Br(n,r,i,s,e[4],7,-176418897),s=Br(s,n,r,i,e[5],12,1200080426),i=Br(i,s,n,r,e[6],17,-1473231341),r=Br(r,i,s,n,e[7],22,-45705983),n=Br(n,r,i,s,e[8],7,1770035416),s=Br(s,n,r,i,e[9],12,-1958414417),i=Br(i,s,n,r,e[10],17,-42063),r=Br(r,i,s,n,e[11],22,-1990404162),n=Br(n,r,i,s,e[12],7,1804603682),s=Br(s,n,r,i,e[13],12,-40341101),i=Br(i,s,n,r,e[14],17,-1502002290),n=zr(n,r=Br(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zr(s,n,r,i,e[6],9,-1069501632),i=zr(i,s,n,r,e[11],14,643717713),r=zr(r,i,s,n,e[0],20,-373897302),n=zr(n,r,i,s,e[5],5,-701558691),s=zr(s,n,r,i,e[10],9,38016083),i=zr(i,s,n,r,e[15],14,-660478335),r=zr(r,i,s,n,e[4],20,-405537848),n=zr(n,r,i,s,e[9],5,568446438),s=zr(s,n,r,i,e[14],9,-1019803690),i=zr(i,s,n,r,e[3],14,-187363961),r=zr(r,i,s,n,e[8],20,1163531501),n=zr(n,r,i,s,e[13],5,-1444681467),s=zr(s,n,r,i,e[2],9,-51403784),i=zr(i,s,n,r,e[7],14,1735328473),n=Ur(n,r=zr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ur(s,n,r,i,e[8],11,-2022574463),i=Ur(i,s,n,r,e[11],16,1839030562),r=Ur(r,i,s,n,e[14],23,-35309556),n=Ur(n,r,i,s,e[1],4,-1530992060),s=Ur(s,n,r,i,e[4],11,1272893353),i=Ur(i,s,n,r,e[7],16,-155497632),r=Ur(r,i,s,n,e[10],23,-1094730640),n=Ur(n,r,i,s,e[13],4,681279174),s=Ur(s,n,r,i,e[0],11,-358537222),i=Ur(i,s,n,r,e[3],16,-722521979),r=Ur(r,i,s,n,e[6],23,76029189),n=Ur(n,r,i,s,e[9],4,-640364487),s=Ur(s,n,r,i,e[12],11,-421815835),i=Ur(i,s,n,r,e[15],16,530742520),n=Wr(n,r=Ur(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Wr(s,n,r,i,e[7],10,1126891415),i=Wr(i,s,n,r,e[14],15,-1416354905),r=Wr(r,i,s,n,e[5],21,-57434055),n=Wr(n,r,i,s,e[12],6,1700485571),s=Wr(s,n,r,i,e[3],10,-1894986606),i=Wr(i,s,n,r,e[10],15,-1051523),r=Wr(r,i,s,n,e[1],21,-2054922799),n=Wr(n,r,i,s,e[8],6,1873313359),s=Wr(s,n,r,i,e[15],10,-30611744),i=Wr(i,s,n,r,e[6],15,-1560198380),r=Wr(r,i,s,n,e[13],21,1309151649),n=Wr(n,r,i,s,e[4],6,-145523070),s=Wr(s,n,r,i,e[11],10,-1120210379),i=Wr(i,s,n,r,e[2],15,718787259),r=Wr(r,i,s,n,e[9],21,-343485551),t[0]=Ha(n,t[0]),t[1]=Ha(r,t[1]),t[2]=Ha(i,t[2]),t[3]=Ha(s,t[3])}function Am(t,e,n,r,i,s){return e=Ha(Ha(e,t),Ha(r,s)),Ha(e<<i|e>>>32-i,n)}function Br(t,e,n,r,i,s,a){return Am(e&n|~e&r,t,e,i,s,a)}function zr(t,e,n,r,i,s,a){return Am(e&r|n&~r,t,e,i,s,a)}function Ur(t,e,n,r,i,s,a){return Am(e^n^r,t,e,i,s,a)}function Wr(t,e,n,r,i,s,a){return Am(n^(e|~r),t,e,i,s,a)}function Xw(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Mg(r,b8(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Mg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Mg(r,i),r}function b8(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Wd=kt.atob.bind(kt),x1=kt.btoa.bind(kt);var fv="0123456789abcdef".split("");function _8(t){for(var e="",n=0;n<4;n++)e+=fv[t>>8*n+4&15]+fv[t>>8*n&15];return e}function w8(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function y1(t){return Xw(t).map(w8).join("")}var N8=function(t){for(var e=0;e<t.length;e++)t[e]=_8(t[e]);return t.join("")}(Xw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ha(t,e){if(N8){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function v1(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var h=0;for(u=0;u<256;u++){var f=c[u];h=(h+f+a.charCodeAt(u))%256,c[u]=c[h],c[h]=f}n=t,r=c}else c=r;var m=e.length,x=0,g=0,b="";for(u=0;u<m;u++)g=(g+(f=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=f,a=c[(c[x]+c[g])%256],b+=String.fromCharCode(e.charCodeAt(u)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var pv={print:4,modify:8,copy:16,"annot-forms":32};function Xc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(pv.perm!==void 0)throw new Error("Invalid permission: "+c);i+=pv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=y1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=v1(this.encryptionKey,this.padding)}function Jc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function mv(t){if(dn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(c){kt.console&&xn.error("jsPDF PubSub Error",c.message,c)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bh(t){if(!(this instanceof bh))return new bh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Jw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ba(t,e,n,r,i){if(!(this instanceof Ba))return new Ba(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Jw.call(this,r,i)}function Gl(t,e,n,r,i){if(!(this instanceof Gl))return new Gl(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Jw.call(this,r,i)}function vt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],c=1,u=16,h="S",f=null;dn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=mv;var b="1.3",N=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(S){b=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var v=g.__private__.getPageFormat=function(S){return k[S]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function E(){this.saveGraphicsState(),ue(new lt(Qe,0,0,-Qe,0,Vs()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),h="n",j=w.ADVANCED}function T(){this.restoreGraphicsState(),h="S",j=w.COMPAT}var F=g.__private__.combineFontStyleAndFontWeight=function(S,J){if(S=="bold"&&J=="normal"||S=="bold"&&J==400||S=="normal"&&J=="italic"||S=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(S=J==400||J==="normal"?S==="italic"?"italic":"normal":J!=700&&J!=="bold"||S!=="normal"?(J==700?"bold":J)+""+S:"bold"),S};g.advancedAPI=function(S){var J=j===w.COMPAT;return J&&E.call(this),typeof S!="function"||(S(this),J&&T.call(this)),this},g.compatAPI=function(S){var J=j===w.ADVANCED;return J&&T.call(this),typeof S!="function"||(S(this),J&&E.call(this)),this},g.isAdvancedAPI=function(){return j===w.ADVANCED};var D,P=function(S){if(j!==w.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=g.roundToPrecision=g.__private__.roundToPrecision=function(S,J){var de=e||J;if(isNaN(S)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(de).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,u)}:u==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,16)};var V=g.f2=g.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return Y(S,2)},I=g.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return Y(S,3)},R=g.scale=g.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?S*Qe:j===w.ADVANCED?S:void 0},K=function(S){return j===w.COMPAT?Vs()-S:j===w.ADVANCED?S:void 0},U=function(S){return R(K(S))};g.__private__.setPrecision=g.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var le,Q="00000000000000000000000000000000",Z=g.__private__.getFileId=function(){return Q},H=g.__private__.setFileId=function(S){return Q=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Hn=new Xc(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};g.setFileId=function(S){return H(S),this},g.getFileId=function(){return Z()};var q=g.__private__.convertDateToPDFDate=function(S){var J=S.getTimezoneOffset(),de=J<0?"+":"-",xe=Math.floor(Math.abs(J/60)),Ne=Math.abs(J%60),Te=[de,G(xe),"'",G(Ne),"'"].join("");return["D:",S.getFullYear(),G(S.getMonth()+1),G(S.getDate()),G(S.getHours()),G(S.getMinutes()),G(S.getSeconds()),Te].join("")},ee=g.__private__.convertPDFDateToDate=function(S){var J=parseInt(S.substr(2,4),10),de=parseInt(S.substr(6,2),10)-1,xe=parseInt(S.substr(8,2),10),Ne=parseInt(S.substr(10,2),10),Te=parseInt(S.substr(12,2),10),Ze=parseInt(S.substr(14,2),10);return new Date(J,de,xe,Ne,Te,Ze,0)},te=g.__private__.setCreationDate=function(S){var J;if(S===void 0&&(S=new Date),S instanceof Date)J=q(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=S}return le=J},M=g.__private__.getCreationDate=function(S){var J=le;return S==="jsDate"&&(J=ee(le)),J};g.setCreationDate=function(S){return te(S),this},g.getCreationDate=function(S){return M(S)};var B,G=g.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},$=g.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ne=0,he=[],pe=[],_e=0,Me=[],De=[],We=!1,qe=pe,mt=function(){ne=0,_e=0,pe=[],he=[],Me=[],$i=it(),di=it()};g.__private__.setCustomOutputDestination=function(S){We=!0,qe=S};var fe=function(S){We||(qe=S)};g.__private__.resetCustomOutputDestination=function(){We=!1,qe=pe};var ue=g.__private__.out=function(S){return S=S.toString(),_e+=S.length+1,qe.push(S),qe},ct=g.__private__.write=function(S){return ue(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ke=g.__private__.getArrayBuffer=function(S){for(var J=S.length,de=new ArrayBuffer(J),xe=new Uint8Array(de);J--;)xe[J]=S.charCodeAt(J);return de},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return He};var Ge=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(S){return Ge=j===w.ADVANCED?S/Qe:S,this};var Ye,Ce=g.__private__.getFontSize=g.getFontSize=function(){return j===w.COMPAT?Ge:Ge*Qe},Re=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(S){return Re=S,this},g.__private__.getR2L=g.getR2L=function(){return Re};var Je,tt=g.__private__.setZoomMode=function(S){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Ye=S;else if(isNaN(S)){if(J.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Ye=S}else Ye=parseInt(S,10)};g.__private__.getZoomMode=function(){return Ye};var dt,Nt=g.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Je=S};g.__private__.getPageMode=function(){return Je};var Ut=g.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');dt=S};g.__private__.getLayoutMode=function(){return dt},g.__private__.setDisplayMode=g.setDisplayMode=function(S,J,de){return tt(S),Ut(J),Nt(de),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(S){if(Object.keys(_t).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[S]},g.__private__.getDocumentProperties=function(){return _t},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(S){for(var J in _t)_t.hasOwnProperty(J)&&S[J]&&(_t[J]=S[J]);return this},g.__private__.setDocumentProperty=function(S,J){if(Object.keys(_t).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[S]=J};var At,Qe,An,Ft,nr,tn={},Ae={},ge=[],Se={},ze={},je={},Ie={},bt=null,rt=0,et=[],yt=new mv(g),Gt=t.hotfixes||[],Ot={},Bt={},nn=[],lt=function S(J,de,xe,Ne,Te,Ze){if(!(this instanceof S))return new S(J,de,xe,Ne,Te,Ze);isNaN(J)&&(J=1),isNaN(de)&&(de=0),isNaN(xe)&&(xe=0),isNaN(Ne)&&(Ne=1),isNaN(Te)&&(Te=0),isNaN(Ze)&&(Ze=0),this._matrix=[J,de,xe,Ne,Te,Ze]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(S)},lt.prototype.multiply=function(S){var J=S.sx*this.sx+S.shy*this.shx,de=S.sx*this.shy+S.shy*this.sy,xe=S.shx*this.sx+S.sy*this.shx,Ne=S.shx*this.shy+S.sy*this.sy,Te=S.tx*this.sx+S.ty*this.shx+this.tx,Ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new lt(J,de,xe,Ne,Te,Ze)},lt.prototype.decompose=function(){var S=this.sx,J=this.shy,de=this.shx,xe=this.sy,Ne=this.tx,Te=this.ty,Ze=Math.sqrt(S*S+J*J),st=(S/=Ze)*de+(J/=Ze)*xe;de-=S*st,xe-=J*st;var ht=Math.sqrt(de*de+xe*xe);return st/=ht,S*(xe/=ht)<J*(de/=ht)&&(S=-S,J=-J,st=-st,Ze=-Ze),{scale:new lt(Ze,0,0,ht,0,0),translate:new lt(1,0,0,1,Ne,Te),rotate:new lt(S,J,-J,S,0,0),skew:new lt(1,0,st,1,0,0)}},lt.prototype.toString=function(S){return this.join(" ")},lt.prototype.inversed=function(){var S=this.sx,J=this.shy,de=this.shx,xe=this.sy,Ne=this.tx,Te=this.ty,Ze=1/(S*xe-J*de),st=xe*Ze,ht=-J*Ze,Lt=-de*Ze,Dt=S*Ze;return new lt(st,ht,Lt,Dt,-st*Ne-Lt*Te,-ht*Ne-Dt*Te)},lt.prototype.applyToPoint=function(S){var J=S.x*this.sx+S.y*this.shx+this.tx,de=S.x*this.shy+S.y*this.sy+this.ty;return new Ao(J,de)},lt.prototype.applyToRectangle=function(S){var J=this.applyToPoint(S),de=this.applyToPoint(new Ao(S.x+S.w,S.y+S.h));return new mi(J.x,J.y,de.x-J.x,de.y-J.y)},lt.prototype.clone=function(){var S=this.sx,J=this.shy,de=this.shx,xe=this.sy,Ne=this.tx,Te=this.ty;return new lt(S,J,de,xe,Ne,Te)},g.Matrix=lt;var rn=g.matrixMult=function(S,J){return J.multiply(S)},Pr=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pr;var rr=function(S,J){if(!ze[S]){var de=(J instanceof Ba?"Sh":"P")+(Object.keys(Se).length+1).toString(10);J.id=de,ze[S]=de,Se[de]=J,yt.publish("addPattern",J)}};g.ShadingPattern=Ba,g.TilingPattern=Gl,g.addShadingPattern=function(S,J){return P("addShadingPattern()"),rr(S,J),this},g.beginTilingPattern=function(S){P("beginTilingPattern()"),wl(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},g.endTilingPattern=function(S,J){P("endTilingPattern()"),J.stream=De[B].join(`
`),rr(S,J),yt.publish("endTilingPattern",J),nn.pop().restore()};var Zt=g.__private__.newObject=function(){var S=it();return Lr(S,!0),S},it=g.__private__.newObjectDeferred=function(){return ne++,he[ne]=function(){return _e},ne},Lr=function(S,J){return J=typeof J=="boolean"&&J,he[S]=_e,J&&ue(S+" 0 obj"),S},xo=g.__private__.newAdditionalObject=function(){var S={objId:it(),content:""};return Me.push(S),S},$i=it(),di=it(),Zr=g.__private__.decodeColorString=function(S){var J=S.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var de=parseFloat(J[0]);J=[de,de,de,"r"]}for(var xe="#",Ne=0;Ne<3;Ne++)xe+=("0"+Math.floor(255*parseFloat(J[Ne])).toString(16)).slice(-2);return xe},hi=g.__private__.encodeColorString=function(S){var J;typeof S=="string"&&(S={ch1:S});var de=S.ch1,xe=S.ch2,Ne=S.ch3,Te=S.ch4,Ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var st=new Gw(de);if(st.ok)de=st.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var ht=parseInt(de.substr(1),16);de=ht>>16&255,xe=ht>>8&255,Ne=255&ht}if(xe===void 0||Te===void 0&&de===xe&&xe===Ne)if(typeof de=="string")J=de+" "+Ze[0];else switch(S.precision){case 2:J=V(de/255)+" "+Ze[0];break;case 3:default:J=I(de/255)+" "+Ze[0]}else if(Te===void 0||dn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return J=["1.","1.","1.",Ze[1]].join(" ");if(typeof de=="string")J=[de,xe,Ne,Ze[1]].join(" ");else switch(S.precision){case 2:J=[V(de/255),V(xe/255),V(Ne/255),Ze[1]].join(" ");break;default:case 3:J=[I(de/255),I(xe/255),I(Ne/255),Ze[1]].join(" ")}}else if(typeof de=="string")J=[de,xe,Ne,Te,Ze[2]].join(" ");else switch(S.precision){case 2:J=[V(de),V(xe),V(Ne),V(Te),Ze[2]].join(" ");break;case 3:default:J=[I(de),I(xe),I(Ne),I(Te),Ze[2]].join(" ")}return J},_r=g.__private__.getFilters=function(){return a},Kr=g.__private__.putStream=function(S){var J=(S=S||{}).data||"",de=S.filters||_r(),xe=S.alreadyAppliedFilters||[],Ne=S.addLength1||!1,Te=J.length,Ze=S.objectId,st=function(fr){return fr};if(f!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(st=Hn.encryptor(Ze,0));var ht={};de===!0&&(de=["FlateEncode"]);var Lt=S.additionalKeyValues||[],Dt=(ht=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(J,de):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(ht.data.length!==0&&(Lt.push({key:"Length",value:ht.data.length}),Ne===!0&&Lt.push({key:"Length1",value:Te})),Dt.length!=0)if(Dt.split("/").length-1==1)Lt.push({key:"Filter",value:Dt});else{Lt.push({key:"Filter",value:"["+Dt+"]"});for(var $t=0;$t<Lt.length;$t+=1)if(Lt[$t].key==="DecodeParms"){for(var mn=[],yn=0;yn<ht.reverseChain.split("/").length-1;yn+=1)mn.push("null");mn.push(Lt[$t].value),Lt[$t].value="["+mn.join(" ")+"]"}}ue("<<");for(var Rn=0;Rn<Lt.length;Rn++)ue("/"+Lt[Rn].key+" "+Lt[Rn].value);ue(">>"),ht.data.length!==0&&(ue("stream"),ue(st(ht.data)),ue("endstream"))},Yi=g.__private__.putPage=function(S){var J=S.number,de=S.data,xe=S.objId,Ne=S.contentsObjId;Lr(xe,!0),ue("<</Type /Page"),ue("/Parent "+S.rootDictionaryObjId+" 0 R"),ue("/Resources "+S.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(D(S.mediaBox.bottomLeftX))+" "+parseFloat(D(S.mediaBox.bottomLeftY))+" "+D(S.mediaBox.topRightX)+" "+D(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ue("/CropBox ["+D(S.cropBox.bottomLeftX)+" "+D(S.cropBox.bottomLeftY)+" "+D(S.cropBox.topRightX)+" "+D(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ue("/BleedBox ["+D(S.bleedBox.bottomLeftX)+" "+D(S.bleedBox.bottomLeftY)+" "+D(S.bleedBox.topRightX)+" "+D(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ue("/TrimBox ["+D(S.trimBox.bottomLeftX)+" "+D(S.trimBox.bottomLeftY)+" "+D(S.trimBox.topRightX)+" "+D(S.trimBox.topRightY)+"]"),S.artBox!==null&&ue("/ArtBox ["+D(S.artBox.bottomLeftX)+" "+D(S.artBox.bottomLeftY)+" "+D(S.artBox.topRightX)+" "+D(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ue("/UserUnit "+S.userUnit),yt.publish("putPage",{objId:xe,pageContext:et[J],pageNumber:J,page:de}),ue("/Contents "+Ne+" 0 R"),ue(">>"),ue("endobj");var Te=de.join(`
`);return j===w.ADVANCED&&(Te+=`
Q`),Lr(Ne,!0),Kr({data:Te,filters:_r(),objectId:Ne}),ue("endobj"),xe},yo=g.__private__.putPages=function(){var S,J,de=[];for(S=1;S<=rt;S++)et[S].objId=it(),et[S].contentsObjId=it();for(S=1;S<=rt;S++)de.push(Yi({number:S,data:De[S],objId:et[S].objId,contentsObjId:et[S].contentsObjId,mediaBox:et[S].mediaBox,cropBox:et[S].cropBox,bleedBox:et[S].bleedBox,trimBox:et[S].trimBox,artBox:et[S].artBox,userUnit:et[S].userUnit,rootDictionaryObjId:$i,resourceDictionaryObjId:di}));Lr($i,!0),ue("<</Type /Pages");var xe="/Kids [";for(J=0;J<rt;J++)xe+=de[J]+" 0 R ";ue(xe+"]"),ue("/Count "+rt),ue(">>"),ue("endobj"),yt.publish("postPutPages")},sa=function(S){yt.publish("putFont",{font:S,out:ue,newObject:Zt,putStream:Kr}),S.isAlreadyPutted!==!0&&(S.objectNumber=Zt(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Jc(S.postScriptName)),ue("/Subtype /Type1"),typeof S.encoding=="string"&&ue("/Encoding /"+S.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},oa=function(){for(var S in tn)tn.hasOwnProperty(S)&&(m===!1||m===!0&&x.hasOwnProperty(S))&&sa(tn[S])},vo=function(S){S.objectNumber=Zt();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[D(S.x),D(S.y),D(S.x+S.width),D(S.y+S.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var de=S.pages[1].join(`
`);Kr({data:de,additionalKeyValues:J,objectId:S.objectNumber}),ue("endobj")},aa=function(){for(var S in Ot)Ot.hasOwnProperty(S)&&vo(Ot[S])},bo=function(S,J){var de,xe=[],Ne=1/(J-1);for(de=0;de<1;de+=Ne)xe.push(de);if(xe.push(1),S[0].offset!=0){var Te={offset:0,color:S[0].color};S.unshift(Te)}if(S[S.length-1].offset!=1){var Ze={offset:1,color:S[S.length-1].color};S.push(Ze)}for(var st="",ht=0,Lt=0;Lt<xe.length;Lt++){for(de=xe[Lt];de>S[ht+1].offset;)ht++;var Dt=S[ht].offset,$t=(de-Dt)/(S[ht+1].offset-Dt),mn=S[ht].color,yn=S[ht+1].color;st+=$(Math.round((1-$t)*mn[0]+$t*yn[0]).toString(16))+$(Math.round((1-$t)*mn[1]+$t*yn[1]).toString(16))+$(Math.round((1-$t)*mn[2]+$t*yn[2]).toString(16))}return st.trim()},zu=function(S,J){J||(J=21);var de=Zt(),xe=bo(S.colors,J),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+J+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kr({data:xe,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ue("endobj"),S.objectNumber=Zt(),ue("<< /ShadingType "+S.type),ue("/ColorSpace /DeviceRGB");var Te="/Coords ["+D(parseFloat(S.coords[0]))+" "+D(parseFloat(S.coords[1]))+" ";S.type===2?Te+=D(parseFloat(S.coords[2]))+" "+D(parseFloat(S.coords[3])):Te+=D(parseFloat(S.coords[2]))+" "+D(parseFloat(S.coords[3]))+" "+D(parseFloat(S.coords[4]))+" "+D(parseFloat(S.coords[5])),ue(Te+="]"),S.matrix&&ue("/Matrix ["+S.matrix.toString()+"]"),ue("/Function "+de+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Uu=function(S,J){var de=it(),xe=Zt();J.push({resourcesOid:de,objectOid:xe}),S.objectNumber=xe;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+S.boundingBox.map(D).join(" ")+"]"}),Ne.push({key:"XStep",value:D(S.xStep)}),Ne.push({key:"YStep",value:D(S.yStep)}),Ne.push({key:"Resources",value:de+" 0 R"}),S.matrix&&Ne.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Kr({data:S.stream,additionalKeyValues:Ne,objectId:S.objectNumber}),ue("endobj")},la=function(S){var J;for(J in Se)Se.hasOwnProperty(J)&&(Se[J]instanceof Ba?zu(Se[J]):Se[J]instanceof Gl&&Uu(Se[J],S))},bc=function(S){for(var J in S.objectNumber=Zt(),ue("<<"),S)switch(J){case"opacity":ue("/ca "+V(S[J]));break;case"stroke-opacity":ue("/CA "+V(S[J]))}ue(">>"),ue("endobj")},Wu=function(){var S;for(S in je)je.hasOwnProperty(S)&&bc(je[S])},_o=function(){for(var S in ue("/XObject <<"),Ot)Ot.hasOwnProperty(S)&&Ot[S].objectNumber>=0&&ue("/"+S+" "+Ot[S].objectNumber+" 0 R");yt.publish("putXobjectDict"),ue(">>")},wo=function(){Hn.oid=Zt(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Hn.v),ue("/R "+Hn.r),ue("/U <"+Hn.toHexString(Hn.U)+">"),ue("/O <"+Hn.toHexString(Hn.O)+">"),ue("/P "+Hn.P),ue(">>"),ue("endobj")},fl=function(){for(var S in ue("/Font <<"),tn)tn.hasOwnProperty(S)&&(m===!1||m===!0&&x.hasOwnProperty(S))&&ue("/"+S+" "+tn[S].objectNumber+" 0 R");ue(">>")},_c=function(){if(Object.keys(Se).length>0){for(var S in ue("/Shading <<"),Se)Se.hasOwnProperty(S)&&Se[S]instanceof Ba&&Se[S].objectNumber>=0&&ue("/"+S+" "+Se[S].objectNumber+" 0 R");yt.publish("putShadingPatternDict"),ue(">>")}},Zi=function(S){if(Object.keys(Se).length>0){for(var J in ue("/Pattern <<"),Se)Se.hasOwnProperty(J)&&Se[J]instanceof g.TilingPattern&&Se[J].objectNumber>=0&&Se[J].objectNumber<S&&ue("/"+J+" "+Se[J].objectNumber+" 0 R");yt.publish("putTilingPatternDict"),ue(">>")}},Vt=function(){if(Object.keys(je).length>0){var S;for(S in ue("/ExtGState <<"),je)je.hasOwnProperty(S)&&je[S].objectNumber>=0&&ue("/"+S+" "+je[S].objectNumber+" 0 R");yt.publish("putGStateDict"),ue(">>")}},Et=function(S){Lr(S.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fl(),_c(),Zi(S.objectOid),Vt(),_o(),ue(">>"),ue("endobj")},No=function(){var S=[];oa(),Wu(),aa(),la(S),yt.publish("putResources"),S.forEach(Et),Et({resourcesOid:di,objectOid:Number.MAX_SAFE_INTEGER}),yt.publish("postPutResources")},fs=function(){yt.publish("putAdditionalObjects");for(var S=0;S<Me.length;S++){var J=Me[S];Lr(J.objId,!0),ue(J.content),ue("endobj")}yt.publish("postPutAdditionalObjects")},ps=function(S){Ae[S.fontName]=Ae[S.fontName]||{},Ae[S.fontName][S.fontStyle]=S.id},jo=function(S,J,de,xe,Ne){var Te={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:S,fontName:J,fontStyle:de,encoding:xe,isStandardFont:Ne||!1,metadata:{}};return yt.publish("addFont",{font:Te,instance:this}),tn[Te.id]=Te,ps(Te),Te.id},Mt=function(S){for(var J=0,de=He.length;J<de;J++){var xe=jo.call(this,S[J][0],S[J][1],S[J][2],He[J][3],!0);m===!1&&(x[xe]=!0);var Ne=S[J][0].split("-");ps({id:xe,fontName:Ne[0],fontStyle:Ne[1]||""})}yt.publish("addFonts",{fonts:tn,dictionary:Ae})},Xt=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(xe){var J=xe.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var de="Error in function "+J.split(`
`)[0].split("<")[0]+": "+xe.message;if(!kt.console)throw new Error(de);kt.console.error(de,xe),kt.alert&&alert(de)}},S.foo.bar=S,S.foo},Fs=function(S,J){var de,xe,Ne,Te,Ze,st,ht,Lt,Dt;if(Ne=(J=J||{}).sourceEncoding||"Unicode",Ze=J.outputEncoding,(J.autoencode||Ze)&&tn[At].metadata&&tn[At].metadata[Ne]&&tn[At].metadata[Ne].encoding&&(Te=tn[At].metadata[Ne].encoding,!Ze&&tn[At].encoding&&(Ze=tn[At].encoding),!Ze&&Te.codePages&&(Ze=Te.codePages[0]),typeof Ze=="string"&&(Ze=Te[Ze]),Ze)){for(ht=!1,st=[],de=0,xe=S.length;de<xe;de++)(Lt=Ze[S.charCodeAt(de)])?st.push(String.fromCharCode(Lt)):st.push(S[de]),st[de].charCodeAt(0)>>8&&(ht=!0);S=st.join("")}for(de=S.length;ht===void 0&&de!==0;)S.charCodeAt(de-1)>>8&&(ht=!0),de--;if(!ht)return S;for(st=J.noBOM?[]:[254,255],de=0,xe=S.length;de<xe;de++){if((Dt=(Lt=S.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Dt),st.push(Lt-(Dt<<8))}return String.fromCharCode.apply(void 0,st)},ir=g.__private__.pdfEscape=g.pdfEscape=function(S,J){return Fs(S,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hr=g.__private__.beginPage=function(S){De[++rt]=[],et[rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Ki(rt),fe(De[B])},wc=function(S,J){var de,xe,Ne;switch(n=J||n,typeof S=="string"&&(de=v(S.toLowerCase()),Array.isArray(de)&&(xe=de[0],Ne=de[1])),Array.isArray(S)&&(xe=S[0]*Qe,Ne=S[1]*Qe),isNaN(xe)&&(xe=i[0],Ne=i[1]),(xe>14400||Ne>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ne=Math.min(14400,Ne)),i=[xe,Ne],n.substr(0,1)){case"l":Ne>xe&&(i=[Ne,xe]);break;case"p":xe>Ne&&(i=[Ne,xe])}hr(i),Sc(fa),ue(Xr),_l!==0&&ue(_l+" J"),Ar!==0&&ue(Ar+" j"),yt.publish("addPage",{pageNumber:rt})},ca=function(S){S>0&&S<=rt&&(De.splice(S,1),et.splice(S,1),rt--,B>rt&&(B=rt),this.setPage(B))},Ki=function(S){S>0&&S<=rt&&(B=S)},Pn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return De.length-1},Gi=function(S,J,de){var xe,Ne=void 0;return de=de||{},S=S!==void 0?S:tn[At].fontName,J=J!==void 0?J:tn[At].fontStyle,xe=S.toLowerCase(),Ae[xe]!==void 0&&Ae[xe][J]!==void 0?Ne=Ae[xe][J]:Ae[S]!==void 0&&Ae[S][J]!==void 0?Ne=Ae[S][J]:de.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+S+"', '"+J+"'. Refer to getFontList() for available fonts."),Ne||de.noFallback||(Ne=Ae.times[J])==null&&(Ne=Ae.times.normal),Ne},So=g.__private__.putInfo=function(){var S=Zt(),J=function(xe){return xe};for(var de in f!==null&&(J=Hn.encryptor(S,0)),ue("<<"),ue("/Producer ("+ir(J("jsPDF "+vt.version))+")"),_t)_t.hasOwnProperty(de)&&_t[de]&&ue("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+ir(J(_t[de]))+")");ue("/CreationDate ("+ir(J(le))+")"),ue(">>"),ue("endobj")},ms=g.__private__.putCatalog=function(S){var J=(S=S||{}).rootDictionaryObjId||$i;switch(Zt(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+J+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Ye;de.substr(de.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+V(Ye)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Je&&ue("/PageMode /"+Je),yt.publish("putCatalog"),ue(">>"),ue("endobj")},pl=g.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ne+1)),ue("/Root "+ne+" 0 R"),ue("/Info "+(ne-1)+" 0 R"),f!==null&&ue("/Encrypt "+Hn.oid+" 0 R"),ue("/ID [ <"+Q+"> <"+Q+"> ]"),ue(">>")},ko=g.__private__.putHeader=function(){ue("%PDF-"+b),ue("%")},ml=g.__private__.putXRef=function(){var S="0000000000";ue("xref"),ue("0 "+(ne+1)),ue("0000000000 65535 f ");for(var J=1;J<=ne;J++)typeof he[J]=="function"?ue((S+he[J]()).slice(-10)+" 00000 n "):he[J]!==void 0?ue((S+he[J]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ei=g.__private__.buildDocument=function(){mt(),fe(pe),yt.publish("buildDocument"),ko(),yo(),fs(),No(),f!==null&&wo(),So(),ms();var S=_e;return ml(),pl(),ue("startxref"),ue(""+S),ue("%%EOF"),fe(De[B]),pe.join(`
`)},gs=g.__private__.getBlob=function(S){return new Blob([Ke(S)],{type:"application/pdf"})},Bs=g.output=g.__private__.output=Xt(function(S,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",S){case void 0:return Ei();case"save":g.save(J.filename);break;case"arraybuffer":return Ke(Ei());case"blob":return gs(Ei());case"bloburi":case"bloburl":if(kt.URL!==void 0&&typeof kt.URL.createObjectURL=="function")return kt.URL&&kt.URL.createObjectURL(gs(Ei()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",xe=Ei();try{de=x1(xe)}catch{de=x1(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+J.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ne=J.pdfObjectUrl,Te="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",st=kt.open();return st!==null&&st.document.write(Ze),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Lt=kt.open();if(Lt!==null){Lt.document.write(ht);var Dt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=J.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',mn=kt.open();if(mn!==null&&(mn.document.write($t),mn.document.title=J.filename),mn||typeof safari>"u")return mn;break;case"datauri":case"dataurl":return kt.document.location.href=this.output("datauristring",J);default:return null}}),ua=function(S){return Array.isArray(Gt)===!0&&Gt.indexOf(S)>-1};switch(r){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=ua("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Qe=r}var Hn=null;te(),H();var Nc=function(S){return f!==null?Hn.encryptor(S,0):function(J){return J}},da=g.__private__.getPageInfo=g.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[S].objId,pageNumber:S,pageContext:et[S]}},Ct=g.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in et)if(et[J].objId===S)break;return da(J)},Pt=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:et[B].objId,pageNumber:B,pageContext:et[B]}};g.addPage=function(){return wc.apply(this,arguments),this},g.setPage=function(){return Ki.apply(this,arguments),fe.call(this,De[B]),this},g.insertPage=function(S){return this.addPage(),this.movePage(B,S),this},g.movePage=function(S,J){var de,xe;if(S>J){de=De[S],xe=et[S];for(var Ne=S;Ne>J;Ne--)De[Ne]=De[Ne-1],et[Ne]=et[Ne-1];De[J]=de,et[J]=xe,this.setPage(J)}else if(S<J){de=De[S],xe=et[S];for(var Te=S;Te<J;Te++)De[Te]=De[Te+1],et[Te]=et[Te+1];De[J]=de,et[J]=xe,this.setPage(J)}return this},g.deletePage=function(){return ca.apply(this,arguments),this},g.__private__.text=g.text=function(S,J,de,xe,Ne){var Te,Ze,st,ht,Lt,Dt,$t,mn,yn,Rn=(xe=xe||{}).scope||this;if(typeof S=="number"&&typeof J=="number"&&(typeof de=="string"||Array.isArray(de))){var fr=de;de=J,J=S,S=fr}if(arguments[3]instanceof lt?(P("The transform parameter of text() with a Matrix value"),yn=Ne):(st=arguments[4],ht=arguments[5],dn($t=arguments[3])==="object"&&$t!==null||(typeof st=="string"&&(ht=st,st=null),typeof $t=="string"&&(ht=$t,$t=null),typeof $t=="number"&&(st=$t,$t=null),xe={flags:$t,angle:st,align:ht})),isNaN(J)||isNaN(de)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Rn;var Vn="",Mi=!1,_n=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Lo,Er=Rn.internal.scaleFactor;function Lc(fn){return fn=fn.split("	").join(Array(xe.TabLen||9).join(" ")),ir(fn,$t)}function Jr(fn){for(var on,Mn=fn.concat(),wn=[],Ns=Mn.length;Ns--;)typeof(on=Mn.shift())=="string"?wn.push(on):Array.isArray(fn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?wn.push(on[0]):wn.push([on[0],on[1],on[2]]);return wn}function Sl(fn,on){var Mn;if(typeof fn=="string")Mn=on(fn)[0];else if(Array.isArray(fn)){for(var wn,Ns,ri=fn.concat(),Io=[],Al=ri.length;Al--;)typeof(wn=ri.shift())=="string"?Io.push(on(wn)[0]):Array.isArray(wn)&&typeof wn[0]=="string"&&(Ns=on(wn[0],wn[1],wn[2]),Io.push([Ns[0],Ns[1],Ns[2]]));Mn=Io}return Mn}var Ti=!1,kl=!0;if(typeof S=="string")Ti=!0;else if(Array.isArray(S)){var vs=S.concat();Ze=[];for(var Eo,sr=vs.length;sr--;)(typeof(Eo=vs.shift())!="string"||Array.isArray(Eo)&&typeof Eo[0]!="string")&&(kl=!1);Ti=kl}if(Ti===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ya=Ge/Rn.internal.scaleFactor,Qr=ya*(_n-1);switch(xe.baseline){case"bottom":de-=Qr;break;case"top":de+=ya-Qr;break;case"hanging":de+=ya-2*Qr;break;case"middle":de+=ya/2-Qr}if((Dt=xe.maxWidth||0)>0&&(typeof S=="string"?S=Rn.splitTextToSize(S,Dt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(fn,on){return fn.concat(Rn.splitTextToSize(on,Dt))},[]))),Te={text:S,x:J,y:de,options:xe,mutex:{pdfEscape:ir,activeFontKey:At,fonts:tn,activeFontSize:Ge}},yt.publish("preProcessText",Te),S=Te.text,st=(xe=Te.options).angle,!(yn instanceof lt)&&st&&typeof st=="number"){st*=Math.PI/180,xe.rotationDirection===0&&(st=-st),j===w.ADVANCED&&(st=-st);var bs=Math.cos(st),Cl=Math.sin(st);yn=new lt(bs,Cl,-Cl,bs,0,0)}else st&&st instanceof lt&&(yn=st);j!==w.ADVANCED||yn||(yn=Pr),(Lt=xe.charSpace||pa)!==void 0&&(Vn+=D(R(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mn=xe.horizontalScale)!==void 0&&(Vn+=D(100*mn)+` Tz
`),xe.lang;var pr=-1,qu=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,ei=Rn.internal.getCurrentPageInfo().pageContext;switch(qu){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var Ac=ei.usedRenderingMode!==void 0?ei.usedRenderingMode:-1;pr!==-1?Vn+=pr+` Tr
`:Ac!==-1&&(Vn+=`0 Tr
`),pr!==-1&&(ei.usedRenderingMode=pr),ht=xe.align||"left";var mr,Pl=Ge*_n,Oi=Rn.internal.pageSize.getWidth(),va=tn[At];Lt=xe.charSpace||pa,Dt=xe.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var _s=[];if(Object.prototype.toString.call(S)==="[object Array]"){var Mr;Ze=Jr(S),ht!=="left"&&(mr=Ze.map(function(fn){return Rn.getStringUnitWidth(fn,{font:va,charSpace:Lt,fontSize:Ge,doKerning:!1})*Ge/Er}));var Tr,Xi=0;if(ht==="right"){J-=mr[0],S=[],sr=Ze.length;for(var ti=0;ti<sr;ti++)ti===0?(Tr=qn(J),Mr=pi(de)):(Tr=R(Xi-mr[ti]),Mr=-Pl),S.push([Ze[ti],Tr,Mr]),Xi=mr[ti]}else if(ht==="center"){J-=mr[0]/2,S=[],sr=Ze.length;for(var Or=0;Or<sr;Or++)Or===0?(Tr=qn(J),Mr=pi(de)):(Tr=R((Xi-mr[Or])/2),Mr=-Pl),S.push([Ze[Or],Tr,Mr]),Xi=mr[Or]}else if(ht==="left"){S=[],sr=Ze.length;for(var ws=0;ws<sr;ws++)S.push(Ze[ws])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');S=[],sr=Ze.length,Dt=Dt!==0?Dt:Oi;for(var ni=0;ni<sr;ni++)Mr=ni===0?pi(de):-Pl,Tr=ni===0?qn(J):0,ni<sr-1?_s.push(D(R((Dt-mr[ni])/(Ze[ni].split(" ").length-1)))):_s.push(0),S.push([Ze[ni],Tr,Mr])}}var Mo=typeof xe.R2L=="boolean"?xe.R2L:Re;Mo===!0&&(S=Sl(S,function(fn,on,Mn){return[fn.split("").reverse().join(""),on,Mn]})),Te={text:S,x:J,y:de,options:xe,mutex:{pdfEscape:ir,activeFontKey:At,fonts:tn,activeFontSize:Ge}},yt.publish("postProcessText",Te),S=Te.text,Mi=Te.mutex.isHex||!1;var Ll=tn[At].encoding;Ll!=="WinAnsiEncoding"&&Ll!=="StandardEncoding"||(S=Sl(S,function(fn,on,Mn){return[Lc(fn),on,Mn]})),Ze=Jr(S),S=[];for(var Di,Ii,Ji,To=0,Oo=1,Do=Array.isArray(Ze[0])?Oo:To,or="",$s=function(fn,on,Mn){var wn="";return Mn instanceof lt?(Mn=typeof xe.angle=="number"?rn(Mn,new lt(1,0,0,1,fn,on)):rn(new lt(1,0,0,1,fn,on),Mn),j===w.ADVANCED&&(Mn=rn(new lt(1,0,0,-1,0,0),Mn)),wn=Mn.join(" ")+` Tm
`):wn=D(fn)+" "+D(on)+` Td
`,wn},gi=0;gi<Ze.length;gi++){switch(or="",Do){case Oo:Ji=(Mi?"<":"(")+Ze[gi][0]+(Mi?">":")"),Di=parseFloat(Ze[gi][1]),Ii=parseFloat(Ze[gi][2]);break;case To:Ji=(Mi?"<":"(")+Ze[gi]+(Mi?">":")"),Di=qn(J),Ii=pi(de)}_s!==void 0&&_s[gi]!==void 0&&(or=_s[gi]+` Tw
`),gi===0?S.push(or+$s(Di,Ii,yn)+Ji):Do===To?S.push(or+Ji):Do===Oo&&S.push(or+$s(Di,Ii,yn)+Ji)}S=Do===To?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var xi=`BT
/`;return xi+=At+" "+Ge+` Tf
`,xi+=D(Ge*_n)+` TL
`,xi+=Hs+`
`,xi+=Vn,xi+=S,ue(xi+="ET"),x[At]=!0,Rn};var fi=g.__private__.clip=g.clip=function(S){return ue(S==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return fi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ue("n"),this};var Wt=g.__private__.isValidStyle=function(S){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(J=!0),J};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(S){return Wt(S)&&(h=S),this};var gl=g.__private__.getStyle=g.getStyle=function(S){var J=h;switch(S){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=S}return J},ha=g.close=function(){return ue("h"),this};g.stroke=function(){return ue("S"),this},g.fill=function(S){return zs("f",S),this},g.fillEvenOdd=function(S){return zs("f*",S),this},g.fillStroke=function(S){return zs("B",S),this},g.fillStrokeEvenOdd=function(S){return zs("B*",S),this};var zs=function(S,J){dn(J)==="object"?xl(J,S):ue(S)},Co=function(S){S===null||j===w.ADVANCED&&S===void 0||(S=gl(S),ue(S))};function xs(S,J,de,xe,Ne){var Te=new Gl(J||this.boundingBox,de||this.xStep,xe||this.yStep,this.gState,Ne||this.matrix);Te.stream=this.stream;var Ze=S+"$$"+this.cloneIndex+++"$$";return rr(Ze,Te),Te}var xl=function(S,J){var de=ze[S.key],xe=Se[de];if(xe instanceof Ba)ue("q"),ue(Po(J)),xe.gState&&g.setGState(xe.gState),ue(S.matrix.toString()+" cm"),ue("/"+de+" sh"),ue("Q");else if(xe instanceof Gl){var Ne=new lt(1,0,0,-1,0,Vs());S.matrix&&(Ne=Ne.multiply(S.matrix||Pr),de=xs.call(xe,S.key,S.boundingBox,S.xStep,S.yStep,Ne).id),ue("q"),ue("/Pattern cs"),ue("/"+de+" scn"),xe.gState&&g.setGState(xe.gState),ue(J),ue("Q")}},Po=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},En=g.moveTo=function(S,J){return ue(D(R(S))+" "+D(U(J))+" m"),this},Gr=g.lineTo=function(S,J){return ue(D(R(S))+" "+D(U(J))+" l"),this},ys=g.curveTo=function(S,J,de,xe,Ne,Te){return ue([D(R(S)),D(U(J)),D(R(de)),D(U(xe)),D(R(Ne)),D(U(Te)),"c"].join(" ")),this};g.__private__.line=g.line=function(S,J,de,xe,Ne){if(isNaN(S)||isNaN(J)||isNaN(de)||isNaN(xe)||!Wt(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[de-S,xe-J]],S,J,[1,1],Ne||"S"):this.lines([[de-S,xe-J]],S,J,[1,1]).stroke()},g.__private__.lines=g.lines=function(S,J,de,xe,Ne,Te){var Ze,st,ht,Lt,Dt,$t,mn,yn,Rn,fr,Vn,Mi;if(typeof S=="number"&&(Mi=de,de=J,J=S,S=Mi),xe=xe||[1,1],Te=Te||!1,isNaN(J)||isNaN(de)||!Array.isArray(S)||!Array.isArray(xe)||!Wt(Ne)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(En(J,de),Ze=xe[0],st=xe[1],Lt=S.length,fr=J,Vn=de,ht=0;ht<Lt;ht++)(Dt=S[ht]).length===2?(fr=Dt[0]*Ze+fr,Vn=Dt[1]*st+Vn,Gr(fr,Vn)):($t=Dt[0]*Ze+fr,mn=Dt[1]*st+Vn,yn=Dt[2]*Ze+fr,Rn=Dt[3]*st+Vn,fr=Dt[4]*Ze+fr,Vn=Dt[5]*st+Vn,ys($t,mn,yn,Rn,fr,Vn));return Te&&ha(),Co(Ne),this},g.path=function(S){for(var J=0;J<S.length;J++){var de=S[J],xe=de.c;switch(de.op){case"m":En(xe[0],xe[1]);break;case"l":Gr(xe[0],xe[1]);break;case"c":ys.apply(this,xe);break;case"h":ha()}}return this},g.__private__.rect=g.rect=function(S,J,de,xe,Ne){if(isNaN(S)||isNaN(J)||isNaN(de)||isNaN(xe)||!Wt(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(xe=-xe),ue([D(R(S)),D(U(J)),D(R(de)),D(R(xe)),"re"].join(" ")),Co(Ne),this},g.__private__.triangle=g.triangle=function(S,J,de,xe,Ne,Te,Ze){if(isNaN(S)||isNaN(J)||isNaN(de)||isNaN(xe)||isNaN(Ne)||isNaN(Te)||!Wt(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-S,xe-J],[Ne-de,Te-xe],[S-Ne,J-Te]],S,J,[1,1],Ze,!0),this},g.__private__.roundedRect=g.roundedRect=function(S,J,de,xe,Ne,Te,Ze){if(isNaN(S)||isNaN(J)||isNaN(de)||isNaN(xe)||isNaN(Ne)||isNaN(Te)||!Wt(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*de),Te=Math.min(Te,.5*xe),this.lines([[de-2*Ne,0],[Ne*st,0,Ne,Te-Te*st,Ne,Te],[0,xe-2*Te],[0,Te*st,-Ne*st,Te,-Ne,Te],[2*Ne-de,0],[-Ne*st,0,-Ne,-Te*st,-Ne,-Te],[0,2*Te-xe],[0,-Te*st,Ne*st,-Te,Ne,-Te]],S+Ne,J,[1,1],Ze,!0),this},g.__private__.ellipse=g.ellipse=function(S,J,de,xe,Ne){if(isNaN(S)||isNaN(J)||isNaN(de)||isNaN(xe)||!Wt(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*de,Ze=4/3*(Math.SQRT2-1)*xe;return En(S+de,J),ys(S+de,J-Ze,S+Te,J-xe,S,J-xe),ys(S-Te,J-xe,S-de,J-Ze,S-de,J),ys(S-de,J+Ze,S-Te,J+xe,S,J+xe),ys(S+Te,J+xe,S+de,J+Ze,S+de,J),Co(Ne),this},g.__private__.circle=g.circle=function(S,J,de,xe){if(isNaN(S)||isNaN(J)||isNaN(de)||!Wt(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,J,de,de,xe)},g.setFont=function(S,J,de){return de&&(J=F(J,de)),At=Gi(S,J,{disableWarning:!1}),this};var jc=g.__private__.getFont=g.getFont=function(){return tn[Gi.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var S,J,de={};for(S in Ae)if(Ae.hasOwnProperty(S))for(J in de[S]=[],Ae[S])Ae[S].hasOwnProperty(J)&&de[S].push(J);return de},g.addFont=function(S,J,de,xe,Ne){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(de=F(de,xe)),Ne=Ne||"Identity-H",jo.call(this,S,J,de,Ne)};var Lo,fa=t.lineWidth||.200025,Us=g.__private__.getLineWidth=g.getLineWidth=function(){return fa},Sc=g.__private__.setLineWidth=g.setLineWidth=function(S){return fa=S,ue(D(R(S))+" w"),this};g.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(S,J){if(S=S||[],J=J||0,isNaN(J)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(de){return D(R(de))}).join(" "),J=D(R(J)),ue("["+S+"] "+J+" d"),this};var yl=g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*Lo};g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*Lo};var zt=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Lo=S),this},kc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Lo};zt(t.lineHeight);var qn=g.__private__.getHorizontalCoordinate=function(S){return R(S)},pi=g.__private__.getVerticalCoordinate=function(S){return j===w.ADVANCED?S:et[B].mediaBox.topRightY-et[B].mediaBox.bottomLeftY-R(S)},Cc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(S){return D(qn(S))},Ws=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(S){return D(pi(S))},Xr=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Zr(Xr)},g.__private__.setStrokeColor=g.setDrawColor=function(S,J,de,xe){return Xr=hi({ch1:S,ch2:J,ch3:de,ch4:xe,pdfColorType:"draw",precision:2}),ue(Xr),this};var vl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Zr(vl)},g.__private__.setFillColor=g.setFillColor=function(S,J,de,xe){return vl=hi({ch1:S,ch2:J,ch3:de,ch4:xe,pdfColorType:"fill",precision:2}),ue(vl),this};var Hs=t.textColor||"0 g",Hu=g.__private__.getTextColor=g.getTextColor=function(){return Zr(Hs)};g.__private__.setTextColor=g.setTextColor=function(S,J,de,xe){return Hs=hi({ch1:S,ch2:J,ch3:de,ch4:xe,pdfColorType:"text",precision:3}),this};var pa=t.charSpace,bl=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(pa||0)};g.__private__.setCharSpace=g.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pa=S,this};var _l=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(S){var J=g.CapJoinStyles[S];if(J===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=J,ue(J+" J"),this};var Ar=0;g.__private__.setLineJoin=g.setLineJoin=function(S){var J=g.CapJoinStyles[S];if(J===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ar=J,ue(J+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(D(R(S))+" M"),this},g.GState=bh,g.setGState=function(S){(S=typeof S=="string"?je[Ie[S]]:Pc(null,S)).equals(bt)||(ue("/"+S.id+" gs"),bt=S)};var Pc=function(S,J){if(!S||!Ie[S]){var de=!1;for(var xe in je)if(je.hasOwnProperty(xe)&&je[xe].equals(J)){de=!0;break}if(de)J=je[xe];else{var Ne="GS"+(Object.keys(je).length+1).toString(10);je[Ne]=J,J.id=Ne}return S&&(Ie[S]=J.id),yt.publish("addGState",J),J}};g.addGState=function(S,J){return Pc(S,J),this},g.saveGraphicsState=function(){return ue("q"),ge.push({key:At,size:Ge,color:Hs}),this},g.restoreGraphicsState=function(){ue("Q");var S=ge.pop();return At=S.key,Ge=S.size,Hs=S.color,bt=null,this},g.setCurrentTransformationMatrix=function(S){return ue(S.toString()+" cm"),this},g.comment=function(S){return ue("#"+S),this};var Ao=function(S,J){var de=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Te){isNaN(Te)||(de=parseFloat(Te))}});var xe=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Te){isNaN(Te)||(xe=parseFloat(Te))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Te){Ne=Te.toString()}}),this},mi=function(S,J,de,xe){Ao.call(this,S,J),this.type="rect";var Ne=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Ze){isNaN(Ze)||(Ne=parseFloat(Ze))}});var Te=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Ze){isNaN(Ze)||(Te=parseFloat(Ze))}}),this},ma=function(){this.page=rt,this.currentPage=B,this.pages=De.slice(0),this.pagesContext=et.slice(0),this.x=An,this.y=Ft,this.matrix=nr,this.width=qs(B),this.height=Vs(B),this.outputDestination=qe,this.id="",this.objectNumber=-1};ma.prototype.restore=function(){rt=this.page,B=this.currentPage,et=this.pagesContext,De=this.pages,An=this.x,Ft=this.y,nr=this.matrix,xa(B,this.width),jl(B,this.height),qe=this.outputDestination};var wl=function(S,J,de,xe,Ne){nn.push(new ma),rt=B=0,De=[],An=S,Ft=J,nr=Ne,hr([de,xe])},Nl=function(S){if(Bt[S])nn.pop().restore();else{var J=new ma,de="Xo"+(Object.keys(Ot).length+1).toString(10);J.id=de,Bt[S]=de,Ot[de]=J,yt.publish("addFormObject",J),nn.pop().restore()}};for(var ga in g.beginFormObject=function(S,J,de,xe,Ne){return wl(S,J,de,xe,Ne),this},g.endFormObject=function(S){return Nl(S),this},g.doFormObject=function(S,J){var de=Ot[Bt[S]];return ue("q"),ue(J.toString()+" cm"),ue("/"+de.id+" Do"),ue("Q"),this},g.getFormObject=function(S){var J=Ot[Bt[S]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},g.save=function(S,J){return S=S||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(ql(gs(Ei()),S),typeof ql.unload=="function"&&kt.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(de,xe){try{var Ne=ql(gs(Ei()),S);typeof ql.unload=="function"&&kt.setTimeout&&setTimeout(ql.unload,911),de(Ne)}catch(Te){xe(Te.message)}})},vt.API)vt.API.hasOwnProperty(ga)&&(ga==="events"&&vt.API.events.length?function(S,J){var de,xe,Ne;for(Ne=J.length-1;Ne!==-1;Ne--)de=J[Ne][0],xe=J[Ne][1],S.subscribe.apply(S,[de].concat(typeof xe=="function"?[xe]:xe))}(yt,vt.API.events):g[ga]=vt.API[ga]);var qs=g.getPageWidth=function(S){return(et[S=S||B].mediaBox.topRightX-et[S].mediaBox.bottomLeftX)/Qe},xa=g.setPageWidth=function(S,J){et[S].mediaBox.topRightX=J*Qe+et[S].mediaBox.bottomLeftX},Vs=g.getPageHeight=function(S){return(et[S=S||B].mediaBox.topRightY-et[S].mediaBox.bottomLeftY)/Qe},jl=g.setPageHeight=function(S,J){et[S].mediaBox.topRightY=J*Qe+et[S].mediaBox.bottomLeftY};return g.internal={pdfEscape:ir,getStyle:gl,getFont:jc,getFontSize:Ce,getCharSpace:bl,getTextColor:Hu,getLineHeight:yl,getLineHeightFactor:kc,getLineWidth:Us,write:ct,getHorizontalCoordinate:qn,getVerticalCoordinate:pi,getCoordinateString:Cc,getVerticalCoordinateString:Ws,collections:{},newObject:Zt,newAdditionalObject:xo,newObjectDeferred:it,newObjectDeferredBegin:Lr,getFilters:_r,putStream:Kr,events:yt,scaleFactor:Qe,pageSize:{getWidth:function(){return qs(B)},setWidth:function(S){xa(B,S)},getHeight:function(){return Vs(B)},setHeight:function(S){jl(B,S)}},encryptionOptions:f,encryption:Hn,getEncryptor:Nc,output:Bs,getNumberOfPages:Pn,pages:De,out:ue,f2:V,f3:I,getPageInfo:da,getPageInfoByObjId:Ct,getCurrentPageInfo:Pt,getPDFVersion:N,Point:Ao,Rectangle:mi,Matrix:lt,hasHotfix:ua},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return qs(B)},set:function(S){xa(B,S)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Vs(B)},set:function(S){jl(B,S)},enumerable:!0,configurable:!0}),Mt.call(g,He),At="F1",wc(i,n),yt.publish("initialized"),g}Xc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Xc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Xc.prototype.processOwnerPassword=function(t,e){return v1(y1(e).substr(0,5),t)},Xc.prototype.encryptor=function(t,e){var n=y1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return v1(n,r)}},bh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||dn(t)!==dn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},vt.API={events:[]},vt.version="2.5.1";var Bn=vt.API,z2=1,yc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},Aa=function(t){return t.toFixed(5)};Bn.__acroform__={};var Ai=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},gv=function(t){return t*z2},Js=function(t){var e=new e4,n=pt.internal.getHeight(t)||0,r=pt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(r)),Number(Tt(n))],e},j8=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},S8=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},k8=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k8(t,e-1)},Kn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return j8(t,e-1)},Gn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return S8(t,e-1)},C8=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],c=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(s+c)||0,u.upperRight_X=n(i+a)||0,u.upperRight_Y=r(s)||0,[Number(Tt(u.lowerLeft_X)),Number(Tt(u.lowerLeft_Y)),Number(Tt(u.upperRight_X)),Number(Tt(u.upperRight_Y))]},P8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=b1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Tt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Js(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},b1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,a=pt.internal.getHeight(t)||0;a=a<0?-a:a;var c=pt.internal.getWidth(t)||0;c=c<0?-c:c;var u=function(I,R,K){if(I+1<i.length){var U=R+" "+i[I+1][0];return Pf(U,t,K).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var h,f,m=Pf("3",t,s).height,x=t.multiline?a-s:(a-m)/2,g=x+=2,b=0,N=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pf(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var v="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var E=!1;if(i[j].length!==1&&k!==i[j].length-1){if((m+2)*(w+2)+2>a)continue e;v+=i[j][k],E=!0,N=j,j--}else{v=(v+=i[j][k]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var T=parseInt(j),F=u(T,v,s),D=j>=i.length-1;if(F&&!D){v+=" ",k=0;continue}if(F||D){if(D)N=T;else if(t.multiline&&(m+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(w+2)+2>a)continue e;N=T}}for(var P="",Y=b;Y<=N;Y++){var V=i[Y];if(t.multiline){if(Y===N){P+=V[k]+" ",k=(k+1)%V.length;continue}if(Y===b){P+=V[V.length-1]+" ";continue}}P+=V[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=Pf(P,t,s).width,t.textAlign){case"right":h=c-f-2;break;case"center":h=(c-f)/2;break;case"left":default:h=2}e+=Tt(h)+" "+Tt(g)+` Td
`,e+="("+yc(P)+`) Tj
`,e+=-Tt(h)+` 0 Td
`,g=-(s+2),f=0,b=E?N:N+1,w++,v=""}break}return r.text=e,r.fontSize=s,r},Pf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},L8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},A8=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},E8=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),dn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},M8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Is.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(L8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");z2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new t4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&A8(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var c=r[a],u=[],h=c.Rect;if(c.Rect&&(c.Rect=C8(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=pt.createDefaultAppearanceStream(c),dn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=P8(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var m="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var b=g[a];typeof b=="function"&&(b=b.call(i,c)),m+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,c)),m+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&E8(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qw=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),dn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+yc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+yc(r(t))+")"},io=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};io.prototype.toString=function(){return this.objId+" 0 R"},io.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},io.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Qw(i,this.objId,this.scope)}):i instanceof io?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var e4=function(){io.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ai(e4,io);var t4=function(){io.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yc(n(t))+")"}},set:function(n){t=n}})};Ai(t4,io);var Is=function t(){io.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(e,3)},set:function(v){v?this.F=Kn(e,3):this.F=Gn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Xp)return;s="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+yc(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/z2:h},set:function(v){h=v}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(v){f=v}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Xp||this instanceof nl))return Tg(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=v}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof lr?x:Tg(x,this.objId,this.scope)},set:function(v){v=v.toString(),x=this instanceof lr?v:v.substr(0,1)==="("?Wc(v.substr(1,v.length-2)):Wc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr?Wc(x.substr(1,x.length-1)):x},set:function(v){v=v.toString(),x=this instanceof lr?"/"+v:v}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof lr?g:Tg(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof lr?v:v.substr(0,1)==="("?Wc(v.substr(1,v.length-2)):Wc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr?Wc(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof lr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){v=!!v,N=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(v){v?this.Ff=Kn(this.Ff,1):this.Ff=Gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(v){v?this.Ff=Kn(this.Ff,2):this.Ff=Gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(v){v?this.Ff=Kn(this.Ff,3):this.Ff=Gn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');k=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(k){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Ai(Is,io);var tc=function(){Is.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qw(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,c){c||(c=1);for(var u,h=[];u=a.exec(s);)h.push(u[c]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(n){n?this.Ff=Kn(this.Ff,18):this.Ff=Gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Kn(this.Ff,19):this.Ff=Gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(n){n?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(n){n?this.Ff=Kn(this.Ff,22):this.Ff=Gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(n){n?this.Ff=Kn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(n){n?this.Ff=Kn(this.Ff,27):this.Ff=Gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ai(tc,Is);var nc=function(){tc.call(this),this.fontName="helvetica",this.combo=!1};Ai(nc,tc);var rc=function(){nc.call(this),this.combo=!0};Ai(rc,nc);var Hd=function(){rc.call(this),this.edit=!0};Ai(Hd,rc);var lr=function(){Is.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(n){n?this.Ff=Kn(this.Ff,15):this.Ff=Gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(n){n?this.Ff=Kn(this.Ff,16):this.Ff=Gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(n){n?this.Ff=Kn(this.Ff,17):this.Ff=Gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(n){n?this.Ff=Kn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){dn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ai(lr,Is);var qd=function(){lr.call(this),this.pushButton=!0};Ai(qd,lr);var ic=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ai(ic,lr);var Xp=function(){var t,e;Is.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+yc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){dn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ai(Xp,Is),ic.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ic.prototype.createOption=function(t){var e=new Xp;return e.Parent=this,e.optionName=t,this.Kids.push(e),T8.call(this.scope,e),e};var Vd=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Ai(Vd,lr);var nl=function(){Is.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ai(nl,Is);var $d=function(){nl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(t){t?this.Ff=Kn(this.Ff,14):this.Ff=Gn(this.Ff,14)}}),this.password=!0};Ai($d,nl);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=b1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Tt(pt.internal.getWidth(t))+" "+Tt(pt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Tt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=pt.internal.getHeight(t),a=pt.internal.getWidth(t),c=b1(t,t.caption);return i.push("1 g"),i.push("0 0 "+Tt(a)+" "+Tt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(a-1)+" "+Tt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Tt(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(pt.internal.getWidth(t))+" "+Tt(pt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=pt.RadioButton.Circle.YesNormal,e.D[t]=pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],r=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Aa(pt.internal.getWidth(t)/2)+" "+Aa(pt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],r=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5)),a=Number((r*pt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Aa(pt.internal.getWidth(t)/2)+" "+Aa(pt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Aa(pt.internal.getWidth(t)/2)+" "+Aa(pt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[],r=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Aa(pt.internal.getWidth(t)/2)+" "+Aa(pt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=pt.RadioButton.Cross.YesNormal,e.D[t]=pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Js(t);e.scope=t.scope;var n=[],r=pt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Tt(pt.internal.getWidth(t)-2)+" "+Tt(pt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=pt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(pt.internal.getWidth(t))+" "+Tt(pt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Tt(pt.internal.getWidth(t)-2)+" "+Tt(pt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Js(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(pt.internal.getWidth(t))+" "+Tt(pt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};pt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=pt.internal.getWidth(t),n=pt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},pt.internal.getWidth=function(t){var e=0;return dn(t)==="object"&&(e=gv(t.Rect[2])),e},pt.internal.getHeight=function(t){var e=0;return dn(t)==="object"&&(e=gv(t.Rect[3])),e};var T8=Bn.addField=function(t){if(M8(this,t),!(t instanceof Is))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=tc,Bn.AcroFormListBox=nc,Bn.AcroFormComboBox=rc,Bn.AcroFormEditBox=Hd,Bn.AcroFormButton=lr,Bn.AcroFormPushButton=qd,Bn.AcroFormRadioButton=ic,Bn.AcroFormCheckBox=Vd,Bn.AcroFormTextField=nl,Bn.AcroFormPasswordField=$d,Bn.AcroFormAppearance=pt,Bn.AcroForm={ChoiceField:tc,ListBox:nc,ComboBox:rc,EditBox:Hd,Button:lr,PushButton:qd,RadioButton:ic,CheckBox:Vd,TextField:nl,PasswordField:$d,Appearance:pt},vt.AcroForm={ChoiceField:tc,ListBox:nc,ComboBox:rc,EditBox:Hd,Button:lr,PushButton:qd,RadioButton:ic,CheckBox:Vd,TextField:nl,PasswordField:$d,Appearance:pt};var O8=vt.AcroForm;function n4(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,R){var K,U,le,Q,Z,H=e;if((R=R||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(F(I))for(Z in n)for(le=n[Z],K=0;K<le.length;K+=1){for(Q=!0,U=0;U<le[K].length;U+=1)if(le[K][U]!==void 0&&le[K][U]!==I[U]){Q=!1;break}if(Q===!0){H=Z;break}}else for(Z in n)for(le=n[Z],K=0;K<le.length;K+=1){for(Q=!0,U=0;U<le[K].length;U+=1)if(le[K][U]!==void 0&&le[K][U]!==I.charCodeAt(U)){Q=!1;break}if(Q===!0){H=Z;break}}return H===e&&R!==e&&(H=R),H},i=function I(R){for(var K=this.internal.write,U=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:R.width}),Q.push({key:"Height",value:R.height}),R.colorSpace===k.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===k.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var Z="",H=0,q=R.transparency.length;H<q;H++)Z+=R.transparency[H]+" "+R.transparency[H]+" ";Q.push({key:"Mask",value:"["+Z+"]"})}R.sMask!==void 0&&Q.push({key:"SMask",value:R.objectId+1+" 0 R"});var ee=R.filter!==void 0?["/"+R.filter]:void 0;if(U({data:R.data,additionalKeyValues:Q,alreadyAppliedFilters:ee,objectId:R.objectId}),K("endobj"),"sMask"in R&&R.sMask!==void 0){var te="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,M={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:te,data:R.sMask};"filter"in R&&(M.filter=R.filter),I.call(this,M)}if(R.colorSpace===k.INDEXED){var B=this.internal.newObject();U({data:P(new Uint8Array(R.palette)),objectId:B}),K("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var R in I)i.call(this,I[R])},a=function(){var I,R=this.internal.collections.addImage_images,K=this.internal.write;for(var U in R)K("/I"+(I=R[U]).index,I.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var I=this.internal.collections.addImage_images;return c.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(I){return typeof t["process"+I.toUpperCase()]=="function"},m=function(I){return dn(I)==="object"&&I.nodeType===1},x=function(I,R){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var K=""+I.getAttribute("src");if(K.indexOf("data:image/")===0)return Wd(unescape(K).split("base64,").pop());var U=t.loadFile(K,!0);if(U!==void 0)return U}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var le;switch(R){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return Wd(I.toDataURL(le,1).split("base64,").pop())}},g=function(I){var R=this.internal.collections.addImage_images;if(R){for(var K in R)if(I===R[K].alias)return R[K]}},b=function(I,R,K){return I||R||(I=-96,R=-96),I<0&&(I=-1*K.width*72/I/this.internal.scaleFactor),R<0&&(R=-1*K.height*72/R/this.internal.scaleFactor),I===0&&(I=R*K.width/K.height),R===0&&(R=I*K.height/K.width),[I,R]},N=function(I,R,K,U,le,Q){var Z=b.call(this,K,U,le),H=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=u.call(this);if(K=Z[0],U=Z[1],ee[le.index]=le,Q){Q*=Math.PI/180;var te=Math.cos(Q),M=Math.sin(Q),B=function($){return $.toFixed(4)},G=[B(te),B(M),B(-1*M),B(te),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,H(I),q(R+U),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([H(K),"0","0",H(U),"0","0","cm"].join(" "))):this.internal.write([H(K),"0","0",H(U),H(I),q(R+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(I){var R,K,U=0;if(typeof I=="string")for(K=I.length,R=0;R<K;R++)U=(U<<5)-U+I.charCodeAt(R),U|=0;else if(F(I))for(K=I.byteLength/2,R=0;R<K;R++)U=(U<<5)-U+I[R],U|=0;return U},j=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var R=!0;return I.length===0&&(R=!1),I.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(R=!1),R},E=t.__addimage__.extractImageFromDataUrl=function(I){var R=(I=I||"").split("base64,"),K=null;if(R.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(U)&&(K={mimeType:U[1],charset:U[2],data:R[1]})}return K},T=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return T()&&I instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(I){return T()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},D=t.__addimage__.binaryStringToUint8Array=function(I){for(var R=I.length,K=new Uint8Array(R),U=0;U<R;U++)K[U]=I.charCodeAt(U);return K},P=t.__addimage__.arrayBufferToBinaryString=function(I){for(var R="",K=F(I)?I:new Uint8Array(I),U=0;U<K.length;U+=8192)R+=String.fromCharCode.apply(null,K.subarray(U,U+8192));return R};t.addImage=function(){var I,R,K,U,le,Q,Z,H,q;if(typeof arguments[1]=="number"?(R=e,K=arguments[1],U=arguments[2],le=arguments[3],Q=arguments[4],Z=arguments[5],H=arguments[6],q=arguments[7]):(R=arguments[1],K=arguments[2],U=arguments[3],le=arguments[4],Q=arguments[5],Z=arguments[6],H=arguments[7],q=arguments[8]),dn(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var ee=I;I=ee.imageData,R=ee.format||R||e,K=ee.x||K||0,U=ee.y||U||0,le=ee.w||ee.width||le,Q=ee.h||ee.height||Q,Z=ee.alias||Z,H=ee.compression||H,q=ee.rotation||ee.angle||q}var te=this.internal.getFilters();if(H===void 0&&te.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(K)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=Y.call(this,I,R,Z,H);return N.call(this,K,U,le,Q,M,q),this};var Y=function(I,R,K,U){var le,Q,Z;if(typeof I=="string"&&r(I)===e){I=unescape(I);var H=V(I,!1);(H!==""||(H=t.loadFile(I,!0))!==void 0)&&(I=H)}if(m(I)&&(I=x(I,R)),R=r(I,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((Z=K)==null||Z.length===0)&&(K=function(q){return typeof q=="string"||F(q)?w(q):F(q.data)?w(q.data):null}(I)),(le=g.call(this,K))||(T()&&(I instanceof Uint8Array||R==="RGBA"||(Q=I,I=D(I))),le=this["process"+R.toUpperCase()](I,h.call(this),K,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:v.NONE}(U),Q)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},V=t.__addimage__.convertBase64ToBinaryString=function(I,R){var K;R=typeof R!="boolean"||R;var U,le="";if(typeof I=="string"){U=(K=E(I))!==null?K.data:I;try{le=Wd(U)}catch(Q){if(R)throw j(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};t.getImageProperties=function(I){var R,K,U="";if(m(I)&&(I=x(I)),typeof I=="string"&&r(I)===e&&((U=V(I,!1))===""&&(U=t.loadFile(I)||""),I=U),K=r(I),!f(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!T()||I instanceof Uint8Array||(I=D(I)),!(R=this["process"+K.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=K,R}})(vt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,f=!1,m=0;m<h.length&&!f;m++)switch((r=h[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<h.length;x++){r=h[x];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(N.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+g(v(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(v(w))+") >>",N.content=s;var j=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+c(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var T=this.annotations._nameMap[r.options.name];r.options.pageNumber=T.page,r.options.top=T.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var F=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:h(r),w:u(n+i),h:h(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,c,u=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(n,c).length;a=Math.ceil(h*f)}else c=u,a=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-h,c,a,s),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=t.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(N){var k=0,v=n,w="",j=0;for(k=0;k<N.length;k+=1)v[N.charCodeAt(k)]!==void 0?(j++,typeof(v=v[N.charCodeAt(k)])=="number"&&(w+=String.fromCharCode(v),v=n,j=0),k===N.length-1&&(v=n,w+=N.charAt(k-(j-1)),k-=j-1,j=0)):(v=n,w+=N.charAt(k-j),k-=j,j=0);return w};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(N,k,v){return a(N)?s(N)===!1?-1:!h(N)||!a(k)&&!a(v)||!a(v)&&c(k)||c(N)&&!a(k)||c(N)&&u(k)||c(N)&&c(k)?0:f(N)&&a(k)&&!c(k)&&a(v)&&h(v)?3:c(N)||!a(v)?1:2:-1},g=function(N){var k=0,v=0,w=0,j="",E="",T="",F=(N=N||"").split("\\s+"),D=[];for(k=0;k<F.length;k+=1){for(D.push(""),v=0;v<F[k].length;v+=1)j=F[k][v],E=F[k][v-1],T=F[k][v+1],a(j)?(w=x(j,E,T),D[k]+=w!==-1?String.fromCharCode(e[j.charCodeAt(0)][w]):j):D[k]+=j;D[k]=m(D[k])}return D.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(k)){var w=0;for(v=[],w=0;w<k.length;w+=1)Array.isArray(k[w])?v.push([g(k[w][0]),k[w][1],k[w][2]]):v.push([g(k[w])]);N=v}else N=g(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",b])}(vt.API),vt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(c){a=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(N){x=N}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),x=h.scaleFactor||this.internal.scaleFactor,g=0,b=0,N=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var v=h.maxWidth;v>0?typeof u=="string"?u=this.splitTextToSize(u,v):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,E){return j.concat(k.splitTextToSize(E,v))},[])):u=Array.isArray(u)?u:[u];for(var w=0;w<u.length;w++)g<(N=this.getStringUnitWidth(u[w],{font:m})*f)&&(g=N);return g!==0&&(b=u.length),{w:g/=x,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,f,m,x){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,b,N,k,v=[],w=[],j=[],E={},T={},F=[],D=[],P=(x=x||{}).autoSize||!1,Y=x.printHeaders!==!1,V=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,I=x.margins||Object.assign({width:this.getPageWidth()},e),R=typeof x.padding=="number"?x.padding:3,K=x.headerBackgroundColor||"#c8c8c8",U=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=U,this.setFontSize(V),m==null)w=v=Object.keys(f[0]),j=v.map(function(){return"left"});else if(Array.isArray(m)&&dn(m[0])==="object")for(v=m.map(function(ee){return ee.name}),w=m.map(function(ee){return ee.prompt||ee.name||""}),j=m.map(function(ee){return ee.align||"left"}),g=0;g<m.length;g+=1)T[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=v=m,j=v.map(function(){return"left"}));if(P||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<v.length;g+=1){for(E[k=v[g]]=f.map(function(ee){return ee[k]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[k],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)F.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[k]=Math.max.apply(null,F)+R+R,F=[]}if(Y){var le={};for(g=0;g<v.length;g+=1)le[v[g]]={},le[v[g]].text=w[g],le[v[g]].align=j[g];var Q=c.call(this,le,T);D=v.map(function(ee){return new s(u,h,T[ee],Q,le[ee].text,void 0,le[ee].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var Z=m.reduce(function(ee,te){return ee[te.name]=te.align,ee},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var H=c.call(this,f[g],T);for(N=0;N<v.length;N+=1){var q=f[g][v[N]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:N,data:q},this),a.call(this,new s(u,h,T[v[N]],H,q,g+2,Z[v[N]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var c=function(u,h){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/x+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(b)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}}(vt.API);var r4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},i4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_1=n4(i4),s4=[100,200,300,400,500,600,700,800,900],D8=n4(s4);function w1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return r4[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof _1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function xv(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var I8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function R8(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},I8,n.genericFontFamilies||{}),s=null,a=null,c=0;c<e.length;++c)if(i[(s=w1(e[c])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+vv(s)+"' and default family '"+r+"'.");if(a=function(u,h){if(h[u])return h[u];var f=_1[u],m=f<=_1.normal?-1:1,x=xv(h,i4,f,m);if(!x)throw new Error("Could not find a matching font-stretch value for "+u);return x}(s.stretch,a),a=function(u,h){if(h[u])return h[u];for(var f=r4[u],m=0;m<f.length;++m)if(h[f[m]])return h[f[m]];throw new Error("Could not find a matching font-style for "+u)}(s.style,a),!(a=function(u,h){if(h[u])return h[u];if(u===400&&h[500])return h[500];if(u===500&&h[400])return h[400];var f=D8[u],m=xv(h,s4,f,u<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+u);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+vv(s)+"'.");return a}function bv(t){return t.trimLeft()}function F8(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function B8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lf,_v,wv,Og=["times"];(function(t){var e,n,r,i,s,a,c,u,h,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=M;Object.defineProperty(this,"pdf",{get:function(){return B}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(fe){G=!!fe}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(fe){$=!!fe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(fe){isNaN(fe)||(ne=fe)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(fe){isNaN(fe)||(he=fe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(fe){var ue;typeof fe=="number"?ue=[fe,fe,fe,fe]:((ue=new Array(4))[0]=fe[0],ue[1]=fe.length>=2?fe[1]:ue[0],ue[2]=fe.length>=3?fe[2]:ue[0],ue[3]=fe.length>=4?fe[3]:ue[1]),h.margin=ue}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(fe){pe=fe}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(fe){_e=fe}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(fe){Me=fe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(fe){fe instanceof f&&(h=fe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(fe){h.path=fe}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(fe){De=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ue;ue=x(fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ue=x(fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var We=null;function qe(fe,ue){if(We===null){var ct=function(Ke){var He=[];return Object.keys(Ke).forEach(function(Ge){Ke[Ge].forEach(function(Ye){var Ce=null;switch(Ye){case"bold":Ce={family:Ge,weight:"bold"};break;case"italic":Ce={family:Ge,style:"italic"};break;case"bolditalic":Ce={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:Ge}}Ce!==null&&(Ce.ref={name:Ge,style:Ye},He.push(Ce))})}),He}(fe.getFontList());We=function(Ke){for(var He={},Ge=0;Ge<Ke.length;++Ge){var Ye=w1(Ke[Ge]),Ce=Ye.family,Re=Ye.stretch,Je=Ye.style,tt=Ye.weight;He[Ce]=He[Ce]||{},He[Ce][Re]=He[Ce][Re]||{},He[Ce][Re][Je]=He[Ce][Re][Je]||{},He[Ce][Re][Je][tt]=Ye}return He}(ct.concat(ue))}return We}var mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(fe){We=null,mt=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ue;if(this.ctx.font=fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var ct=ue[1],Ke=(ue[2],ue[3]),He=ue[4],Ge=(ue[5],ue[6]),Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ye==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Ce=function(_t){var At,Qe,An=[],Ft=_t.trim();if(Ft==="")return Og;if(Ft in yv)return[yv[Ft]];for(;Ft!=="";){switch(Qe=null,At=(Ft=bv(Ft)).charAt(0)){case'"':case"'":Qe=F8(Ft.substring(1),At);break;default:Qe=B8(Ft)}if(Qe===null||(An.push(Qe[0]),(Ft=bv(Qe[1]))!==""&&Ft.charAt(0)!==","))return Og;Ft=Ft.replace(/^,/,"")}return An}(Ge);if(this.fontFaces){var Re=R8(qe(this.pdf,this.fontFaces),Ce.map(function(_t){return{family:_t,stretch:"normal",weight:Ke,style:ct}}));this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Je="";(Ke==="bold"||parseInt(Ke,10)>=700||ct==="bold")&&(Je="bold"),ct==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var tt="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Ce.length;Nt++){if(this.pdf.internal.getFont(Ce[Nt],Je,{noFallback:!0,disableWarning:!0})!==void 0){tt=Ce[Nt];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Ce[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Ce[Nt],Je="bold";else if(this.pdf.internal.getFont(Ce[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Ce[Nt],Je="normal";break}}if(tt===""){for(var Ut=0;Ut<Ce.length;Ut++)if(dt[Ce[Ut]]){tt=dt[Ce[Ut]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,B){if(isNaN(M)||isNaN(B))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(M,B));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(M,B)},m.prototype.closePath=function(){var M=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&dn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){M=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},m.prototype.lineTo=function(M,B){if(isNaN(M)||isNaN(B))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(M,B));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,B,G,$){if(isNaN(G)||isNaN($)||isNaN(M)||isNaN(B))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(G,$)),he=this.ctx.transform.applyToPoint(new a(M,B));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},m.prototype.bezierCurveTo=function(M,B,G,$,ne,he){if(isNaN(ne)||isNaN(he)||isNaN(M)||isNaN(B)||isNaN(G)||isNaN($))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(ne,he)),_e=this.ctx.transform.applyToPoint(new a(M,B)),Me=this.ctx.transform.applyToPoint(new a(G,$));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Me.x,y2:Me.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},m.prototype.arc=function(M,B,G,$,ne,he){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($)||isNaN(ne))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(M,B));M=pe.x,B=pe.y;var _e=this.ctx.transform.applyToPoint(new a(0,G)),Me=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(_e.x-Me.x,2)+Math.pow(_e.y-Me.y,2))}Math.abs(ne-$)>=2*Math.PI&&($=0,ne=2*Math.PI),this.path.push({type:"arc",x:M,y:B,radius:G,startAngle:$,endAngle:ne,counterclockwise:he})},m.prototype.arcTo=function(M,B,G,$,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,B,G,$){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,B),this.lineTo(M+G,B),this.lineTo(M+G,B+$),this.lineTo(M,B+$),this.lineTo(M,B),this.lineTo(M+G,B),this.lineTo(M,B)},m.prototype.fillRect=function(M,B,G,$){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,B,G,$),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(M,B,G,$){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,B,G,$),this.stroke())},m.prototype.clearRect=function(M,B,G,$){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,B,G,$))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(B),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(M){var B,G,$,ne;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))B=0,G=0,$=0,ne=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)B=parseInt(he[1]),G=parseInt(he[2]),$=parseInt(he[3]),ne=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)B=parseInt(he[1]),G=parseInt(he[2]),$=parseInt(he[3]),ne=parseFloat(he[4]);else{if(ne=1,typeof M=="string"&&M.charAt(0)!=="#"){var pe=new Gw(M);M=pe.ok?pe.toHex():"#000000"}M.length===4?(B=M.substring(1,2),B+=B,G=M.substring(2,3),G+=G,$=M.substring(3,4),$+=$):(B=M.substring(1,3),G=M.substring(3,5),$=M.substring(5,7)),B=parseInt(B,16),G=parseInt(G,16),$=parseInt($,16)}}return{r:B,g:G,b:$,a:ne,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,B,G,$){if(isNaN(B)||isNaN(G)||typeof M!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!g.call(this)){var ne=H(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;R.call(this,{text:M,x:B,y:G,scale:he,angle:ne,align:this.textAlign,maxWidth:$})}},m.prototype.strokeText=function(M,B,G,$){if(isNaN(B)||isNaN(G)||typeof M!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){$=isNaN($)?void 0:$;var ne=H(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;R.call(this,{text:M,x:B,y:G,scale:he,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:$})}},m.prototype.measureText=function(M){if(typeof M!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,G=this.pdf.internal.scaleFactor,$=B.internal.getFontSize(),ne=B.getStringUnitWidth(M)*$/B.internal.scaleFactor,he=function(pe){var _e=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new he({width:ne*=Math.round(96*G/72*1e4)/1e4})},m.prototype.scale=function(M,B){if(isNaN(M)||isNaN(B))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(M,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.rotate=function(M){if(isNaN(M))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},m.prototype.translate=function(M,B){if(isNaN(M)||isNaN(B))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,M,B);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.transform=function(M,B,G,$,ne,he){if(isNaN(M)||isNaN(B)||isNaN(G)||isNaN($)||isNaN(ne)||isNaN(he))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new u(M,B,G,$,ne,he);this.ctx.transform=this.ctx.transform.multiply(pe)},m.prototype.setTransform=function(M,B,G,$,ne,he){M=isNaN(M)?1:M,B=isNaN(B)?0:B,G=isNaN(G)?0:G,$=isNaN($)?1:$,ne=isNaN(ne)?0:ne,he=isNaN(he)?0:he,this.ctx.transform=new u(M,B,G,$,ne,he)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,B,G,$,ne,he,pe,_e,Me){var De=this.pdf.getImageProperties(M),We=1,qe=1,mt=1,fe=1;$!==void 0&&_e!==void 0&&(mt=_e/$,fe=Me/ne,We=De.width/$*_e/$,qe=De.height/ne*Me/ne),he===void 0&&(he=B,pe=G,B=0,G=0),$!==void 0&&_e===void 0&&(_e=$,Me=ne),$===void 0&&_e===void 0&&(_e=De.width,Me=De.height);for(var ue,ct=this.ctx.transform.decompose(),Ke=H(ct.rotate.shx),He=new u,Ge=(He=(He=(He=He.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new c(he-B*mt,pe-G*fe,$*We,ne*qe)),Ye=k.call(this,Ge),Ce=[],Re=0;Re<Ye.length;Re+=1)Ce.indexOf(Ye[Re])===-1&&Ce.push(Ye[Re]);if(j(Ce),this.autoPaging)for(var Je=Ce[0],tt=Ce[Ce.length-1],dt=Je;dt<tt+1;dt++){this.pdf.setPage(dt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=dt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=dt===1?0:_t+(dt-2)*At;if(this.ctx.clip_path.length!==0){var An=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ue,this.posX+this.margin[3],-Qe+Ut+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=An}var Ft=JSON.parse(JSON.stringify(Ge));Ft=w([Ft],this.posX+this.margin[3],-Qe+Ut+this.ctx.prevPageLastElemOffset)[0];var nr=(dt>Je||dt<tt)&&N.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,At,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ke),nr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,Ke)};var k=function(M,B,G){var $=[];B=B||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":$.push(Math.floor((M.y+ne)/G)+1);break;case"arc":$.push(Math.floor((M.y+ne-M.radius)/G)+1),$.push(Math.floor((M.y+ne+M.radius)/G)+1);break;case"qct":var he=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);$.push(Math.floor((he.y+ne)/G)+1),$.push(Math.floor((he.y+he.h+ne)/G)+1);break;case"bct":var pe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);$.push(Math.floor((pe.y+ne)/G)+1),$.push(Math.floor((pe.y+pe.h+ne)/G)+1);break;case"rect":$.push(Math.floor((M.y+ne)/G)+1),$.push(Math.floor((M.y+M.h+ne)/G)+1)}for(var _e=0;_e<$.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<$[_e];)v.call(this);return $},v=function(){var M=this.fillStyle,B=this.strokeStyle,G=this.font,$=this.lineCap,ne=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=B,this.font=G,this.lineCap=$,this.lineWidth=ne,this.lineJoin=he},w=function(M,B,G){for(var $=0;$<M.length;$++)switch(M[$].type){case"bct":M[$].x2+=B,M[$].y2+=G;case"qct":M[$].x1+=B,M[$].y1+=G;case"mt":case"lt":case"arc":default:M[$].x+=B,M[$].y+=G}return M},j=function(M){return M.sort(function(B,G){return B-G})},E=function(M,B){for(var G,$,ne=this.fillStyle,he=this.strokeStyle,pe=this.lineCap,_e=this.lineWidth,Me=Math.abs(_e*this.ctx.transform.scaleX),De=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),mt=[],fe=0;fe<qe.length;fe++)if(qe[fe].x!==void 0)for(var ue=k.call(this,qe[fe]),ct=0;ct<ue.length;ct+=1)mt.indexOf(ue[ct])===-1&&mt.push(ue[ct]);for(var Ke=0;Ke<mt.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<mt[Ke];)v.call(this);if(j(mt),this.autoPaging)for(var He=mt[0],Ge=mt[mt.length-1],Ye=He;Ye<Ge+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ne,this.strokeStyle=he,this.lineCap=pe,this.lineWidth=Me,this.lineJoin=De;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Ye===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Ye===1?0:Je+(Ye-2)*tt;if(this.ctx.clip_path.length!==0){var Nt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-dt+Re+this.ctx.prevPageLastElemOffset),T.call(this,M,!0),this.path=Nt}if($=JSON.parse(JSON.stringify(We)),this.path=w($,this.posX+this.margin[3],-dt+Re+this.ctx.prevPageLastElemOffset),B===!1||Ye===0){var Ut=(Ye>He||Ye<Ge)&&N.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,tt,null).clip().discardPath()),T.call(this,M,B),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Me,T.call(this,M,B),this.lineWidth=_e;this.path=We},T=function(M,B){if((M!=="stroke"||B||!b.call(this))&&(M==="stroke"||B||!g.call(this))){for(var G,$,ne=[],he=this.path,pe=0;pe<he.length;pe++){var _e=he[pe];switch(_e.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:_e,deltas:[],abs:[]});break;case"lt":var Me=ne.length;if(he[pe-1]&&!isNaN(he[pe-1].x)&&(G=[_e.x-he[pe-1].x,_e.y-he[pe-1].y],Me>0)){for(;Me>=0;Me--)if(ne[Me-1].close!==!0&&ne[Me-1].begin!==!0){ne[Me-1].deltas.push(G),ne[Me-1].abs.push(_e);break}}break;case"bct":G=[_e.x1-he[pe-1].x,_e.y1-he[pe-1].y,_e.x2-he[pe-1].x,_e.y2-he[pe-1].y,_e.x-he[pe-1].x,_e.y-he[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var De=he[pe-1].x+2/3*(_e.x1-he[pe-1].x),We=he[pe-1].y+2/3*(_e.y1-he[pe-1].y),qe=_e.x+2/3*(_e.x1-_e.x),mt=_e.y+2/3*(_e.y1-_e.y),fe=_e.x,ue=_e.y;G=[De-he[pe-1].x,We-he[pe-1].y,qe-he[pe-1].x,mt-he[pe-1].y,fe-he[pe-1].x,ue-he[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(_e)}}$=B?null:M==="stroke"?"stroke":"fill";for(var ct=!1,Ke=0;Ke<ne.length;Ke++)if(ne[Ke].arc)for(var He=ne[Ke].abs,Ge=0;Ge<He.length;Ge++){var Ye=He[Ge];Ye.type==="arc"?P.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,B,!ct):K.call(this,Ye.x,Ye.y),ct=!0}else if(ne[Ke].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ne[Ke].begin!==!0){var Ce=ne[Ke].start.x,Re=ne[Ke].start.y;U.call(this,ne[Ke].deltas,Ce,Re),ct=!0}$&&Y.call(this,$),B&&V.call(this)}},F=function(M){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-G;case"top":return M+B-G;case"hanging":return M+B-2*G;case"middle":return M+B/2-G;case"ideographic":return M;case"alphabetic":default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(B,G){this.colorStops.push([B,G])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,B,G,$,ne,he,pe,_e,Me){for(var De=Q.call(this,G,$,ne,he),We=0;We<De.length;We++){var qe=De[We];We===0&&(Me?I.call(this,qe.x1+M,qe.y1+B):K.call(this,qe.x1+M,qe.y1+B)),le.call(this,M,B,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}_e?V.call(this):Y.call(this,pe)},Y=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(M,B){this.pdf.internal.out(n(M)+" "+r(B)+" m")},R=function(M){var B;switch(M.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var G=this.pdf.getTextDimensions(M.text),$=F.call(this,M.y),ne=D.call(this,$)-G.h,he=this.ctx.transform.applyToPoint(new a(M.x,$)),pe=this.ctx.transform.decompose(),_e=new u;_e=(_e=(_e=_e.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Me,De,We,qe=this.ctx.transform.applyToRectangle(new c(M.x,$,G.w,G.h)),mt=_e.applyToRectangle(new c(M.x,ne,G.w,G.h)),fe=k.call(this,mt),ue=[],ct=0;ct<fe.length;ct+=1)ue.indexOf(fe[ct])===-1&&ue.push(fe[ct]);if(j(ue),this.autoPaging)for(var Ke=ue[0],He=ue[ue.length-1],Ge=Ke;Ge<He+1;Ge++){this.pdf.setPage(Ge);var Ye=Ge===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],Je=Re-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],dt=tt-this.margin[3],Nt=Ge===1?0:Ce+(Ge-2)*Je;if(this.ctx.clip_path.length!==0){var Ut=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Me,this.posX+this.margin[3],-1*Nt+Ye),T.call(this,"fill",!0),this.path=Ut}var _t=w([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Nt+Ye+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*M.scale),We=this.lineWidth,this.lineWidth=We*M.scale);var At=this.autoPaging!=="text";if(At||_t.y+_t.h<=Re){if(At||_t.y>=Ye&&_t.x<=tt){var Qe=At?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||tt-_t.x)[0],An=w([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Nt+Ye+this.ctx.prevPageLastElemOffset)[0],Ft=At&&(Ge>Ke||Ge<He)&&N.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Je,null).clip().discardPath()),this.pdf.text(Qe,An.x,An.y,{angle:M.angle,align:B,renderingMode:M.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else _t.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-_t.y);M.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=We)}else M.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*M.scale),We=this.lineWidth,this.lineWidth=We*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:B,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=We)},K=function(M,B,G,$){G=G||0,$=$||0,this.pdf.internal.out(n(M+G)+" "+r(B+$)+" l")},U=function(M,B,G){return this.pdf.lines(M,B,G,null,null)},le=function(M,B,G,$,ne,he,pe,_e){this.pdf.internal.out([e(i(G+M)),e(s($+B)),e(i(ne+M)),e(s(he+B)),e(i(pe+M)),e(s(_e+B)),"c"].join(" "))},Q=function(M,B,G,$){for(var ne=2*Math.PI,he=Math.PI/2;B>G;)B-=ne;var pe=Math.abs(G-B);pe<ne&&$&&(pe=ne-pe);for(var _e=[],Me=$?-1:1,De=B;pe>1e-5;){var We=De+Me*Math.min(pe,he);_e.push(Z.call(this,M,De,We)),pe-=Math.abs(We-De),De=We}return _e},Z=function(M,B,G){var $=(G-B)/2,ne=M*Math.cos($),he=M*Math.sin($),pe=ne,_e=-he,Me=pe*pe+_e*_e,De=Me+pe*ne+_e*he,We=4/3*(Math.sqrt(2*Me*De)-De)/(pe*he-_e*ne),qe=pe-We*_e,mt=_e+We*pe,fe=qe,ue=-mt,ct=$+B,Ke=Math.cos(ct),He=Math.sin(ct);return{x1:M*Math.cos(B),y1:M*Math.sin(B),x2:qe*Ke-mt*He,y2:qe*He+mt*Ke,x3:fe*Ke-ue*He,y3:fe*He+ue*Ke,x4:M*Math.cos(G),y4:M*Math.sin(G)}},H=function(M){return 180*M/Math.PI},q=function(M,B,G,$,ne,he){var pe=M+.5*(G-M),_e=B+.5*($-B),Me=ne+.5*(G-ne),De=he+.5*($-he),We=Math.min(M,ne,pe,Me),qe=Math.max(M,ne,pe,Me),mt=Math.min(B,he,_e,De),fe=Math.max(B,he,_e,De);return new c(We,mt,qe-We,fe-mt)},ee=function(M,B,G,$,ne,he,pe,_e){var Me,De,We,qe,mt,fe,ue,ct,Ke,He,Ge,Ye,Ce,Re,Je=G-M,tt=$-B,dt=ne-G,Nt=he-$,Ut=pe-ne,_t=_e-he;for(De=0;De<41;De++)Ke=(ue=(We=M+(Me=De/40)*Je)+Me*((mt=G+Me*dt)-We))+Me*(mt+Me*(ne+Me*Ut-mt)-ue),He=(ct=(qe=B+Me*tt)+Me*((fe=$+Me*Nt)-qe))+Me*(fe+Me*(he+Me*_t-fe)-ct),De==0?(Ge=Ke,Ye=He,Ce=Ke,Re=He):(Ge=Math.min(Ge,Ke),Ye=Math.min(Ye,He),Ce=Math.max(Ce,Ke),Re=Math.max(Re,He));return new c(Math.round(Ge),Math.round(Ye),Math.round(Ce-Ge),Math.round(Re-Ye))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,B,G=(M=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:B}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(vt.API),function(t){var e=function(s){var a,c,u,h,f,m,x,g,b,N;for(c=[],u=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(N=f%85))/85)-(b=f%85))/85)-(g=f%85))/85)-(x=f%85))/85)%85,c.push(m+33,x+33,g+33,b+33,N+33)):c.push(122);return function(k,v){for(var w=v;w>0;w--)k.pop()}(c,a.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var a,c,u,h,f,m=String,x="length",g=255,b="charCodeAt",N="slice",k="replace";for(s[N](-2),s=s[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),u=[],h=0,f=(s+=a="uuuuu"[N](s[x]%5||5))[x];f>h;h+=5)c=52200625*(s[b](h)-33)+614125*(s[b](h+1)-33)+7225*(s[b](h+2)-33)+85*(s[b](h+3)-33)+(s[b](h+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(v,w){for(var j=w;j>0;j--)v.pop()}(u,a[x]),m.fromCharCode.apply(m,u)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var a=new Uint8Array(s.length),c=s.length;c--;)a[c]=s.charCodeAt(c);return s=(a=g1(a)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,a){var c=0,u=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(vt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var c=void 0;try{c=function(u,h,f){var m=new XMLHttpRequest,x=0,g=function(b){var N=b.length,k=[],v=String.fromCharCode;for(x=0;x<N;x+=1)k.push(v(255&b.charCodeAt(x)));return k.join("")};if(m.open("GET",u,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)}(i,s,a)}catch{}return c}(e,n,r)},t.loadImageFile=t.loadFile}(vt.API),function(t){function e(){return(kt.html2canvas?Promise.resolve(kt.html2canvas):u1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(kt.DOMPurify?Promise.resolve(kt.DOMPurify):u1(()=>import("./purify.es-DGIRlouP.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=dn(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var u=document.createElement(a);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},s=function a(c){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),u);return h=(h=h.setProgress(1,a,1,[a])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,c){return a.__proto__=c||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(h,f){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(u(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var g=h[x],b=g.src.find(function(N){return N.format==="truetype"});b&&u.addFont(b.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},s.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(a,c){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return c?c(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(a=a||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,c,u,h){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,c,u,h){return this.setProgress(a?this.progress.val+a:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,c){var u=this;return this.thenCore(a,c,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,h),m}).then(h,f).then(function(m){return u.updateProgress(1),m})})},s.prototype.thenCore=function(a,c,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),c&&(c=c.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=u.call(h,a,c);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},s.prototype.thenList=function(a){var c=this;return a.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return s.convert(c,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,vt.getPageSize=function(a,c,u){if(dn(a)==="object"){var h=a;a=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,b=0,N=0;if(x.hasOwnProperty(m))b=x[m][1]/f,N=x[m][0]/f;else try{b=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",N>b&&(g=N,N=b,b=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>N&&(g=N,N=b,b=g)}return{width:N,height:b,unit:c,k:f,orientation:a}},t.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(w1):null;var u=new s(c);return c.worker?u:u.from(a).doCallback()}}(vt.API),vt.API.addJS=function(t){return wv=t,this.internal.events.subscribe("postPutResources",function(){Lf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lf!==void 0&&_v!==void 0&&this.internal.out("/Names <</JavaScript "+Lf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],c=r.exec(a);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var m=n.internal.newObject();f.push(m);var x=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var c=this.count=this.count_r({count:0},a);if(c>0&&this.line("/Count "+c),a.options&&a.options.pageNumber){var u=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,c){var u,h=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(m){for(var x,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=g,e.indexOf(m.charCodeAt(k+1))!==-1){x=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),N={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:x,numcomponents:m.charCodeAt(k+9)};break}g=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}}(vt.API);var Hc,Af,Nv,jv,Sv,z8=function(){var t,e,n;function r(s){var a,c,u,h,f,m,x,g,b,N,k,v,w,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),b=(function(){var E,T;for(T=[],E=0;E<4;++E)T.push(String.fromCharCode(this.data[this.pos++]));return T}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*f/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,v=0;0<=a?v<a:v>a;0<=a?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((N=u-this.transparency.indexed.length)>0)for(w=0;0<=N?w<N:w>N;0<=N?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":x=(k=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,k.slice(0,x)),this.text[g]=String.fromCharCode.apply(String,k.slice(x+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,c;for(c=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*a),u=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(m,x,g,b){var N,k,v,w,j,E,T,F,D,P,Y,V,I,R,K,U,le,Q,Z,H,q,ee=Math.ceil((h.width-m)/g),te=Math.ceil((h.height-x)/b),M=h.width==ee&&h.height==te;for(R=a*ee,V=M?c:new Uint8Array(R*te),E=s.length,I=0,k=0;I<te&&u<E;){switch(s[u++]){case 0:for(w=le=0;le<R;w=le+=1)V[k++]=s[u++];break;case 1:for(w=Q=0;Q<R;w=Q+=1)N=s[u++],j=w<a?0:V[k-a],V[k++]=(N+j)%256;break;case 2:for(w=Z=0;Z<R;w=Z+=1)N=s[u++],v=(w-w%a)/a,K=I&&V[(I-1)*R+v*a+w%a],V[k++]=(K+N)%256;break;case 3:for(w=H=0;H<R;w=H+=1)N=s[u++],v=(w-w%a)/a,j=w<a?0:V[k-a],K=I&&V[(I-1)*R+v*a+w%a],V[k++]=(N+Math.floor((j+K)/2))%256;break;case 4:for(w=q=0;q<R;w=q+=1)N=s[u++],v=(w-w%a)/a,j=w<a?0:V[k-a],I===0?K=U=0:(K=V[(I-1)*R+v*a+w%a],U=v&&V[(I-1)*R+(v-1)*a+w%a]),T=j+K-U,F=Math.abs(T-j),P=Math.abs(T-K),Y=Math.abs(T-U),D=F<=P&&F<=Y?j:P<=Y?K:U,V[k++]=(N+D)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!M){var B=((x+I*b)*h.width+m)*a,G=I*R;for(w=0;w<ee;w+=1){for(var $=0;$<a;$+=1)c[B++]=V[G++];B+=(g-1)*a}}I++}}return s=v8(s),h.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),c},r.prototype.decodePalette=function(){var s,a,c,u,h,f,m,x,g;for(c=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+c.length),u=0,s=0,a=m=0,x=c.length;m<x;a=m+=3)h[u++]=c[a],h[u++]=c[a+1],h[u++]=c[a+2],h[u++]=(g=f[s++])!=null?g:255;return h},r.prototype.copyToImageData=function(s,a){var c,u,h,f,m,x,g,b,N,k,v;if(u=this.colors,N=null,c=this.hasAlphaChannel,this.palette.length&&(N=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),u=4,c=!0),b=(h=s.data||s).length,m=N||a,f=x=0,u===1)for(;f<b;)g=N?4*a[f/4]:x,k=m[g++],h[f++]=k,h[f++]=k,h[f++]=k,h[f++]=c?m[g++]:255,x=g;else for(;f<b;)g=N?4*a[f/4]:x,h[f++]=m[g++],h[f++]=m[g++],h[f++]=m[g++],h[f++]=c?m[g++]:255,x=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(kt)==="[object Window]"){try{e=kt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,c,u,h,f,m,x,g;if(this.animation){for(g=[],c=f=0,m=(x=this.animation.frames).length;f<m;c=++f)a=x[c],u=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,h),a.imageData=u,g.push(a.image=t(u));return g}},r.prototype.renderFrame=function(s,a){var c,u,h;return c=(u=this.animation.frames)[a],h=u[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var a,c,u,h,f,m,x=this;return c=0,m=this.animation,h=m.numFrames,u=m.frames,f=m.numPlays,(a=function(){var g,b;if(g=c++%h,b=u[g],x.renderFrame(s,g),h>1&&c/h<f)return x.animation._timeout=setTimeout(a,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(c=a.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),a.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function U8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var c=null,u=null;s&&(c=e,u=a,e+=3*a);var h=!0,f=[],m=0,x=null,g=0,b=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];m=t[e++]|t[e++]<<8,x=t[e++],!(1&N)&&(x=null),g=N>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,E=t[e++],T=E>>6&1,F=1<<(7&E)+1,D=c,P=u,Y=!1;E>>7&&(Y=!0,D=e,P=F,e+=3*F);var V=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}f.push({x:k,y:v,width:w,height:j,has_local_palette:Y,palette_offset:D,palette_size:P,data_offset:V,data_length:e-V,transparent_index:x,interlaced:!!T,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,K){var U=this.frameInfo(R),le=U.width*U.height,Q=new Uint8Array(le);kv(t,U.data_offset,Q,le);var Z=U.palette_offset,H=U.transparent_index;H===null&&(H=256);var q=U.width,ee=n-q,te=q,M=4*(U.y*n+U.x),B=4*((U.y+U.height)*n+U.x),G=M,$=4*ee;U.interlaced===!0&&($+=4*n*7);for(var ne=8,he=0,pe=Q.length;he<pe;++he){var _e=Q[he];if(te===0&&(te=q,(G+=$)>=B&&($=4*ee+4*n*(ne-1),G=M+(q+ee)*(ne<<1),ne>>=1)),_e===H)G+=4;else{var Me=t[Z+3*_e],De=t[Z+3*_e+1],We=t[Z+3*_e+2];K[G++]=We,K[G++]=De,K[G++]=Me,K[G++]=255}--te}},this.decodeAndBlitFrameRGBA=function(R,K){var U=this.frameInfo(R),le=U.width*U.height,Q=new Uint8Array(le);kv(t,U.data_offset,Q,le);var Z=U.palette_offset,H=U.transparent_index;H===null&&(H=256);var q=U.width,ee=n-q,te=q,M=4*(U.y*n+U.x),B=4*((U.y+U.height)*n+U.x),G=M,$=4*ee;U.interlaced===!0&&($+=4*n*7);for(var ne=8,he=0,pe=Q.length;he<pe;++he){var _e=Q[he];if(te===0&&(te=q,(G+=$)>=B&&($=4*ee+4*n*(ne-1),G=M+(q+ee)*(ne<<1),ne>>=1)),_e===H)G+=4;else{var Me=t[Z+3*_e],De=t[Z+3*_e+1],We=t[Z+3*_e+2];K[G++]=Me,K[G++]=De,K[G++]=We,K[G++]=255}--te}}}function kv(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,c=a+1,u=i+1,h=(1<<u)-1,f=0,m=0,x=0,g=t[e++],b=new Int32Array(4096),N=null;;){for(;f<16&&g!==0;)m|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<u)break;var k=m&h;if(m>>=u,f-=u,k!==s){if(k===a)break;for(var v=k<c?k:N,w=0,j=v;j>s;)j=b[j]>>8,++w;var E=j;if(x+w+(v!==k?1:0)>r)return void xn.log("Warning, gif stream longer than expected.");n[x++]=E;var T=x+=w;for(v!==k&&(n[x++]=E),j=v;w--;)j=b[j],n[--T]=255&j,j>>=8;N!==null&&c<4096&&(b[c++]=N<<8|E,c>=h+1&&u<12&&(++u,h=h<<1|1)),N=k}else c=a+1,h=(1<<(u=i+1))-1,N=null}return x!==r&&xn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Dg(t){var e,n,r,i,s,a=Math.floor,c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),m=new Array(65535),x=new Array(65535),g=new Array(64),b=new Array(64),N=[],k=0,v=7,w=new Array(64),j=new Array(64),E=new Array(64),T=new Array(256),F=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(M,B){for(var G=0,$=0,ne=new Array,he=1;he<=16;he++){for(var pe=1;pe<=M[he];pe++)ne[B[$]]=[],ne[B[$]][0]=G,ne[B[$]][1]=he,$++,G++;G*=2}return ne}function Z(M){for(var B=M[0],G=M[1]-1;G>=0;)B&1<<G&&(k|=1<<v),G--,--v<0&&(k==255?(H(255),H(0)):H(k),v=7,k=0)}function H(M){N.push(M)}function q(M){H(M>>8&255),H(255&M)}function ee(M,B,G,$,ne){for(var he,pe=ne[0],_e=ne[240],Me=function(He,Ge){var Ye,Ce,Re,Je,tt,dt,Nt,Ut,_t,At,Qe=0;for(_t=0;_t<8;++_t){Ye=He[Qe],Ce=He[Qe+1],Re=He[Qe+2],Je=He[Qe+3],tt=He[Qe+4],dt=He[Qe+5],Nt=He[Qe+6];var An=Ye+(Ut=He[Qe+7]),Ft=Ye-Ut,nr=Ce+Nt,tn=Ce-Nt,Ae=Re+dt,ge=Re-dt,Se=Je+tt,ze=Je-tt,je=An+Se,Ie=An-Se,bt=nr+Ae,rt=nr-Ae;He[Qe]=je+bt,He[Qe+4]=je-bt;var et=.707106781*(rt+Ie);He[Qe+2]=Ie+et,He[Qe+6]=Ie-et;var yt=.382683433*((je=ze+ge)-(rt=tn+Ft)),Gt=.5411961*je+yt,Ot=1.306562965*rt+yt,Bt=.707106781*(bt=ge+tn),nn=Ft+Bt,lt=Ft-Bt;He[Qe+5]=lt+Gt,He[Qe+3]=lt-Gt,He[Qe+1]=nn+Ot,He[Qe+7]=nn-Ot,Qe+=8}for(Qe=0,_t=0;_t<8;++_t){Ye=He[Qe],Ce=He[Qe+8],Re=He[Qe+16],Je=He[Qe+24],tt=He[Qe+32],dt=He[Qe+40],Nt=He[Qe+48];var rn=Ye+(Ut=He[Qe+56]),Pr=Ye-Ut,rr=Ce+Nt,Zt=Ce-Nt,it=Re+dt,Lr=Re-dt,xo=Je+tt,$i=Je-tt,di=rn+xo,Zr=rn-xo,hi=rr+it,_r=rr-it;He[Qe]=di+hi,He[Qe+32]=di-hi;var Kr=.707106781*(_r+Zr);He[Qe+16]=Zr+Kr,He[Qe+48]=Zr-Kr;var Yi=.382683433*((di=$i+Lr)-(_r=Zt+Pr)),yo=.5411961*di+Yi,sa=1.306562965*_r+Yi,oa=.707106781*(hi=Lr+Zt),vo=Pr+oa,aa=Pr-oa;He[Qe+40]=aa+yo,He[Qe+24]=aa-yo,He[Qe+8]=vo+sa,He[Qe+56]=vo-sa,Qe++}for(_t=0;_t<64;++_t)At=He[_t]*Ge[_t],g[_t]=At>0?At+.5|0:At-.5|0;return g}(M,B),De=0;De<64;++De)b[D[De]]=Me[De];var We=b[0]-G;G=b[0],We==0?Z($[0]):(Z($[x[he=32767+We]]),Z(m[he]));for(var qe=63;qe>0&&b[qe]==0;)qe--;if(qe==0)return Z(pe),G;for(var mt,fe=1;fe<=qe;){for(var ue=fe;b[fe]==0&&fe<=qe;)++fe;var ct=fe-ue;if(ct>=16){mt=ct>>4;for(var Ke=1;Ke<=mt;++Ke)Z(_e);ct&=15}he=32767+b[fe],Z(ne[(ct<<4)+x[he]]),Z(m[he]),fe++}return qe!=63&&Z(pe),G}function te(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(B){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var ne=a((G[$]*B+50)/100);ne=Math.min(Math.max(ne,1),255),c[D[$]]=ne}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var _e=a((he[pe]*B+50)/100);_e=Math.min(Math.max(_e,1),255),u[D[pe]]=_e}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,We=0;We<8;We++)for(var qe=0;qe<8;qe++)h[De]=1/(c[D[De]]*Me[We]*Me[qe]*8),f[De]=1/(u[D[De]]*Me[We]*Me[qe]*8),De++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,B){B&&te(B),N=new Array,k=0,v=7,q(65496),q(65504),q(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),q(1),q(1),H(0),H(0),function(){q(65499),q(132),H(0);for(var Ce=0;Ce<64;Ce++)H(c[Ce]);H(1);for(var Re=0;Re<64;Re++)H(u[Re])}(),function(Ce,Re){q(65472),q(17),H(8),q(Re),q(Ce),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(M.width,M.height),function(){q(65476),q(418),H(0);for(var Ce=0;Ce<16;Ce++)H(P[Ce+1]);for(var Re=0;Re<=11;Re++)H(Y[Re]);H(16);for(var Je=0;Je<16;Je++)H(V[Je+1]);for(var tt=0;tt<=161;tt++)H(I[tt]);H(1);for(var dt=0;dt<16;dt++)H(R[dt+1]);for(var Nt=0;Nt<=11;Nt++)H(K[Nt]);H(17);for(var Ut=0;Ut<16;Ut++)H(U[Ut+1]);for(var _t=0;_t<=161;_t++)H(le[_t])}(),q(65498),q(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var G=0,$=0,ne=0;k=0,v=7,this.encode.displayName="_encode_";for(var he,pe,_e,Me,De,We,qe,mt,fe,ue=M.data,ct=M.width,Ke=M.height,He=4*ct,Ge=0;Ge<Ke;){for(he=0;he<He;){for(De=He*Ge+he,qe=-1,mt=0,fe=0;fe<64;fe++)We=De+(mt=fe>>3)*He+(qe=4*(7&fe)),Ge+mt>=Ke&&(We-=He*(Ge+1+mt-Ke)),he+qe>=He&&(We-=he+qe-He+4),pe=ue[We++],_e=ue[We++],Me=ue[We++],w[fe]=(F[pe]+F[_e+256>>0]+F[Me+512>>0]>>16)-128,j[fe]=(F[pe+768>>0]+F[_e+1024>>0]+F[Me+1280>>0]>>16)-128,E[fe]=(F[pe+1280>>0]+F[_e+1536>>0]+F[Me+1792>>0]>>16)-128;G=ee(w,h,G,e,r),$=ee(j,f,$,n,i),ne=ee(E,f,ne,n,i),he+=32}Ge+=8}if(v>=0){var Ye=[];Ye[1]=v+1,Ye[0]=(1<<v+1)-1,Z(Ye)}return q(65497),new Uint8Array(N)},t=t||50,function(){for(var M=String.fromCharCode,B=0;B<256;B++)T[B]=M(B)}(),e=Q(P,Y),n=Q(R,K),r=Q(V,I),i=Q(U,le),function(){for(var M=1,B=2,G=1;G<=15;G++){for(var $=M;$<B;$++)x[32767+$]=G,m[32767+$]=[],m[32767+$][1]=G,m[32767+$][0]=$;for(var ne=-(B-1);ne<=-M;ne++)x[32767+ne]=G,m[32767+ne]=[],m[32767+ne][1]=G,m[32767+ne][0]=B-1+ne;M<<=1,B<<=1}}(),function(){for(var M=0;M<256;M++)F[M]=19595*M,F[M+256>>0]=38470*M,F[M+512>>0]=7471*M+32768,F[M+768>>0]=-11059*M,F[M+1024>>0]=-21709*M,F[M+1280>>0]=32768*M+8421375,F[M+1536>>0]=-27439*M,F[M+1792>>0]=-5329*M}(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Cv(t){function e(P){if(!P)throw Error("assert :P")}function n(P,Y,V){for(var I=0;4>I;I++)if(P[Y+I]!=V.charCodeAt(I))return!0;return!1}function r(P,Y,V,I,R){for(var K=0;K<R;K++)P[Y+K]=V[I+K]}function i(P,Y,V,I){for(var R=0;R<I;R++)P[Y+R]=V}function s(P){return new Int32Array(P)}function a(P,Y){for(var V=[],I=0;I<P;I++)V.push(new Y);return V}function c(P,Y){var V=[];return function I(R,K,U){for(var le=U[K],Q=0;Q<le&&(R.push(U.length>K+1?[]:new Y),!(U.length<K+1));Q++)I(R[Q],K+1,U)}(V,0,P),V}var u=function(){var P=this;function Y(p,_){for(var A=1<<_-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function V(p,_,A,z,X){e(!(z%A));do p[_+(z-=A)]=X;while(0<z)}function I(p,_,A,z,X){if(e(2328>=X),512>=X)var re=s(512);else if((re=s(X))==null)return 0;return function(ie,oe,ae,ce,ye,Pe){var Le,we,Ue=oe,Oe=1<<ae,ve=s(16),be=s(16);for(e(ye!=0),e(ce!=null),e(ie!=null),e(0<ae),we=0;we<ye;++we){if(15<ce[we])return 0;++ve[ce[we]]}if(ve[0]==ye)return 0;for(be[1]=0,Le=1;15>Le;++Le){if(ve[Le]>1<<Le)return 0;be[Le+1]=be[Le]+ve[Le]}for(we=0;we<ye;++we)Le=ce[we],0<ce[we]&&(Pe[be[Le]++]=we);if(be[15]==1)return(ce=new R).g=0,ce.value=Pe[0],V(ie,Ue,1,Oe,ce),Oe;var Fe,$e=-1,Be=Oe-1,ut=0,nt=1,jt=1,ot=1<<ae;for(we=0,Le=1,ye=2;Le<=ae;++Le,ye<<=1){if(nt+=jt<<=1,0>(jt-=ve[Le]))return 0;for(;0<ve[Le];--ve[Le])(ce=new R).g=Le,ce.value=Pe[we++],V(ie,Ue+ut,ye,ot,ce),ut=Y(ut,Le)}for(Le=ae+1,ye=2;15>=Le;++Le,ye<<=1){if(nt+=jt<<=1,0>(jt-=ve[Le]))return 0;for(;0<ve[Le];--ve[Le]){if(ce=new R,(ut&Be)!=$e){for(Ue+=ot,Fe=1<<($e=Le)-ae;15>$e&&!(0>=(Fe-=ve[$e]));)++$e,Fe<<=1;Oe+=ot=1<<(Fe=$e-ae),ie[oe+($e=ut&Be)].g=Fe+ae,ie[oe+$e].value=Ue-oe-$e}ce.g=Le-ae,ce.value=Pe[we++],V(ie,Ue+(ut>>ae),ye,ot,ce),ut=Y(ut,Le)}}return nt!=2*be[15]-1?0:Oe}(p,_,A,z,X,re)}function R(){this.value=this.g=0}function K(){this.value=this.g=0}function U(){this.G=a(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(sr,K)}function le(p,_,A,z){e(p!=null),e(_!=null),e(2147483648>z),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=A,p.Jd=_,p.Yc=A+z,p.Zc=4<=z?A+z-4+1:A,he(p)}function Q(p,_){for(var A=0;0<_--;)A|=_e(p,128)<<_;return A}function Z(p,_){var A=Q(p,_);return pe(p)?-A:A}function H(p,_,A,z){var X,re=0;for(e(p!=null),e(_!=null),e(4294967288>z),p.Sb=z,p.Ra=0,p.u=0,p.h=0,4<z&&(z=4),X=0;X<z;++X)re+=_[A+X]<<8*X;p.Ra=re,p.bb=z,p.oa=_,p.pa=A}function q(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<bs-8>>>0,++p.bb,p.u-=8;G(p)&&(p.h=1,p.u=0)}function ee(p,_){if(e(0<=_),!p.h&&_<=Qr){var A=B(p)&ya[_];return p.u+=_,q(p),A}return p.h=1,p.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(p){return p.Ra>>>(p.u&bs-1)>>>0}function G(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>bs}function $(p,_){p.u=_,p.h=G(p)}function ne(p){p.u>=Cl&&(e(p.u>=Cl),q(p))}function he(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function pe(p){return Q(p,1)}function _e(p,_){var A=p.Ca;0>p.b&&he(p);var z=p.b,X=A*_>>>8,re=(p.I>>>z>X)+0;for(re?(A-=X,p.I-=X+1<<z>>>0):A=X+1,z=A,X=0;256<=z;)X+=8,z>>=8;return z=7^X+pr[z],p.b-=z,p.Ca=(A<<z)-1,re}function Me(p,_,A){p[_+0]=A>>24&255,p[_+1]=A>>16&255,p[_+2]=A>>8&255,p[_+3]=A>>0&255}function De(p,_){return p[_+0]<<0|p[_+1]<<8}function We(p,_){return De(p,_)|p[_+2]<<16}function qe(p,_){return De(p,_)|De(p,_+2)<<16}function mt(p,_){var A=1<<_;return e(p!=null),e(0<_),p.X=s(A),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function fe(p,_){e(p!=null),e(_!=null),e(p.Xa==_.Xa),r(_.X,0,p.X,0,1<<_.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ct(p,_,A,z){e(A!=null),e(z!=null);var X=A[0],re=z[0];return X==0&&(X=(p*re+_/2)/_),re==0&&(re=(_*X+p/2)/p),0>=X||0>=re?0:(A[0]=X,z[0]=re,1)}function Ke(p,_){return p+(1<<_)-1>>>_}function He(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function Ge(p,_){P[_]=function(A,z,X,re,ie,oe,ae){var ce;for(ce=0;ce<ie;++ce){var ye=P[p](oe[ae+ce-1],X,re+ce);oe[ae+ce]=He(A[z+ce],ye)}}}function Ye(){this.ud=this.hd=this.jd=0}function Ce(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function Re(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Je(p,_){return Re(p+(p-_+.5>>1))}function tt(p,_,A){return Math.abs(_-A)-Math.abs(p-A)}function dt(p,_,A,z,X,re,ie){for(z=re[ie-1],A=0;A<X;++A)re[ie+A]=z=He(p[_+A],z)}function Nt(p,_,A,z,X){var re;for(re=0;re<A;++re){var ie=p[_+re],oe=ie>>8&255,ae=16711935&(ae=(ae=16711935&ie)+((oe<<16)+oe));z[X+re]=(4278255360&ie)+ae>>>0}}function Ut(p,_){_.jd=p>>0&255,_.hd=p>>8&255,_.ud=p>>16&255}function _t(p,_,A,z,X,re){var ie;for(ie=0;ie<z;++ie){var oe=_[A+ie],ae=oe>>>8,ce=oe,ye=255&(ye=(ye=oe>>>16)+((p.jd<<24>>24)*(ae<<24>>24)>>>5));ce=255&(ce=(ce=ce+((p.hd<<24>>24)*(ae<<24>>24)>>>5))+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),X[re+ie]=(4278255360&oe)+(ye<<16)+ce}}function At(p,_,A,z,X){P[_]=function(re,ie,oe,ae,ce,ye,Pe,Le,we){for(ae=Pe;ae<Le;++ae)for(Pe=0;Pe<we;++Pe)ce[ye++]=X(oe[z(re[ie++])])},P[p]=function(re,ie,oe,ae,ce,ye,Pe){var Le=8>>re.b,we=re.Ea,Ue=re.K[0],Oe=re.w;if(8>Le)for(re=(1<<re.b)-1,Oe=(1<<Le)-1;ie<oe;++ie){var ve,be=0;for(ve=0;ve<we;++ve)ve&re||(be=z(ae[ce++])),ye[Pe++]=X(Ue[be&Oe]),be>>=Le}else P["VP8LMapColor"+A](ae,ce,Ue,Oe,ye,Pe,ie,oe,we)}}function Qe(p,_,A,z,X){for(A=_+A;_<A;){var re=p[_++];z[X++]=re>>16&255,z[X++]=re>>8&255,z[X++]=re>>0&255}}function An(p,_,A,z,X){for(A=_+A;_<A;){var re=p[_++];z[X++]=re>>16&255,z[X++]=re>>8&255,z[X++]=re>>0&255,z[X++]=re>>24&255}}function Ft(p,_,A,z,X){for(A=_+A;_<A;){var re=(ie=p[_++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;z[X++]=re,z[X++]=ie}}function nr(p,_,A,z,X){for(A=_+A;_<A;){var re=(ie=p[_++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;z[X++]=re,z[X++]=ie}}function tn(p,_,A,z,X){for(A=_+A;_<A;){var re=p[_++];z[X++]=re>>0&255,z[X++]=re>>8&255,z[X++]=re>>16&255}}function Ae(p,_,A,z,X,re){if(re==0)for(A=_+A;_<A;)Me(z,((re=p[_++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),X+=32;else r(z,X,p,_,A)}function ge(p,_){P[_][0]=P[p+"0"],P[_][1]=P[p+"1"],P[_][2]=P[p+"2"],P[_][3]=P[p+"3"],P[_][4]=P[p+"4"],P[_][5]=P[p+"5"],P[_][6]=P[p+"6"],P[_][7]=P[p+"7"],P[_][8]=P[p+"8"],P[_][9]=P[p+"9"],P[_][10]=P[p+"10"],P[_][11]=P[p+"11"],P[_][12]=P[p+"12"],P[_][13]=P[p+"13"],P[_][14]=P[p+"0"],P[_][15]=P[p+"0"]}function Se(p){return p==Tc||p==Oc||p==Dc||p==l}function ze(){this.eb=[],this.size=this.A=this.fb=0}function je(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ze,this.f.kb=new je,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function yt(p,_){var A=p.T,z=_.ba.f.RGBA,X=z.eb,re=z.fb+p.ka*z.A,ie=Nr[_.ba.S],oe=p.y,ae=p.O,ce=p.f,ye=p.N,Pe=p.ea,Le=p.W,we=_.cc,Ue=_.dc,Oe=_.Mc,ve=_.Nc,be=p.ka,Fe=p.ka+p.T,$e=p.U,Be=$e+1>>1;for(be==0?ie(oe,ae,null,null,ce,ye,Pe,Le,ce,ye,Pe,Le,X,re,null,null,$e):(ie(_.ec,_.fc,oe,ae,we,Ue,Oe,ve,ce,ye,Pe,Le,X,re-z.A,X,re,$e),++A);be+2<Fe;be+=2)we=ce,Ue=ye,Oe=Pe,ve=Le,ye+=p.Rc,Le+=p.Rc,re+=2*z.A,ie(oe,(ae+=2*p.fa)-p.fa,oe,ae,we,Ue,Oe,ve,ce,ye,Pe,Le,X,re-z.A,X,re,$e);return ae+=p.fa,p.j+Fe<p.o?(r(_.ec,_.fc,oe,ae,$e),r(_.cc,_.dc,ce,ye,Be),r(_.Mc,_.Nc,Pe,Le,Be),A--):1&Fe||ie(oe,ae,null,null,ce,ye,Pe,Le,ce,ye,Pe,Le,X,re+z.A,null,null,$e),A}function Gt(p,_,A){var z=p.F,X=[p.J];if(z!=null){var re=p.U,ie=_.ba.S,oe=ie==Tl||ie==Dc;_=_.ba.f.RGBA;var ae=[0],ce=p.ka;ae[0]=p.T,p.Kb&&(ce==0?--ae[0]:(--ce,X[0]-=p.width),p.j+p.ka+p.T==p.o&&(ae[0]=p.o-p.j-ce));var ye=_.eb;ce=_.fb+ce*_.A,p=Al(z,X[0],p.width,re,ae,ye,ce+(oe?0:3),_.A),e(A==ae),p&&Se(ie)&&ri(ye,ce,oe,re,ae,_.A)}return 0}function Ot(p){var _=p.ma,A=_.ba.S,z=11>A,X=A==El||A==Ml||A==Tl||A==Mc||A==12||Se(A);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!kl(_.Oa,p,X?11:12))return 0;if(X&&Se(A)&&Ze(),p.da)alert("todo:use_scaling");else{if(z){if(_.Ib=et,p.Kb){if(A=p.U+1>>1,_.memory=s(p.U+2*A),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+A,_.Ib=yt,Ze()}}else alert("todo:EmitYUV");X&&(_.Jb=Gt,z&&Ne())}if(z&&!ax){for(p=0;256>p;++p)d3[p]=89858*(p-128)+$h>>Vh,p3[p]=-22014*(p-128)+$h,f3[p]=-45773*(p-128),h3[p]=113618*(p-128)+$h>>Vh;for(p=Gu;p<Fm;++p)_=76283*(p-16)+$h>>Vh,m3[p-Gu]=_n(_,255),g3[p-Gu]=_n(_+8>>4,15);ax=1}return 1}function Bt(p){var _=p.ma,A=p.U,z=p.T;return e(!(1&p.ka)),0>=A||0>=z?0:(A=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,A),_.Dc+=A,1)}function nn(p){p.ma.memory=null}function lt(p,_,A,z){return ee(p,8)!=47?0:(_[0]=ee(p,14)+1,A[0]=ee(p,14)+1,z[0]=ee(p,1),ee(p,3)!=0?0:!p.h)}function rn(p,_){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+ee(_,A)+1}function Pr(p,_){return 120<_?_-120:1<=(A=((A=me[_-1])>>4)*p+(8-(15&A)))?A:1;var A}function rr(p,_,A){var z=B(A),X=p[_+=255&z].g-8;return 0<X&&($(A,A.u+8),z=B(A),_+=p[_].value,_+=z&(1<<X)-1),$(A,A.u+p[_].g),p[_].value}function Zt(p,_,A){return A.g+=p.g,A.value+=p.value<<_>>>0,e(8>=A.g),p.g}function it(p,_,A){var z=p.xc;return e((_=z==0?0:p.vc[p.md*(A>>z)+(_>>z)])<p.Wb),p.Ya[_]}function Lr(p,_,A,z){var X=p.ab,re=p.c*_,ie=p.C;_=ie+_;var oe=A,ae=z;for(z=p.Ta,A=p.Ua;0<X--;){var ce=p.gc[X],ye=ie,Pe=_,Le=oe,we=ae,Ue=(ae=z,oe=A,ce.Ea);switch(e(ye<Pe),e(Pe<=ce.nc),ce.hc){case 2:Ac(Le,we,(Pe-ye)*Ue,ae,oe);break;case 0:var Oe=ye,ve=Pe,be=ae,Fe=oe,$e=(ot=ce).Ea;Oe==0&&(qu(Le,we,null,null,1,be,Fe),dt(Le,we+1,0,0,$e-1,be,Fe+1),we+=$e,Fe+=$e,++Oe);for(var Be=1<<ot.b,ut=Be-1,nt=Ke($e,ot.b),jt=ot.K,ot=ot.w+(Oe>>ot.b)*nt;Oe<ve;){var sn=jt,ln=ot,Jt=1;for(ei(Le,we,be,Fe-$e,1,be,Fe);Jt<$e;){var Yt=(Jt&~ut)+Be;Yt>$e&&(Yt=$e),(0,_s[sn[ln++]>>8&15])(Le,we+ +Jt,be,Fe+Jt-$e,Yt-Jt,be,Fe+Jt),Jt=Yt}we+=$e,Fe+=$e,++Oe&ut||(ot+=nt)}Pe!=ce.nc&&r(ae,oe-Ue,ae,oe+(Pe-ye-1)*Ue,Ue);break;case 1:for(Ue=Le,ve=we,$e=(Le=ce.Ea)-(Fe=Le&~(be=(we=1<<ce.b)-1)),Oe=Ke(Le,ce.b),Be=ce.K,ce=ce.w+(ye>>ce.b)*Oe;ye<Pe;){for(ut=Be,nt=ce,jt=new Ye,ot=ve+Fe,sn=ve+Le;ve<ot;)Ut(ut[nt++],jt),Mr(jt,Ue,ve,we,ae,oe),ve+=we,oe+=we;ve<sn&&(Ut(ut[nt++],jt),Mr(jt,Ue,ve,$e,ae,oe),ve+=$e,oe+=$e),++ye&be||(ce+=Oe)}break;case 3:if(Le==ae&&we==oe&&0<ce.b){for(ve=ae,Le=Ue=oe+(Pe-ye)*Ue-(Fe=(Pe-ye)*Ke(ce.Ea,ce.b)),we=ae,be=oe,Oe=[],Fe=($e=Fe)-1;0<=Fe;--Fe)Oe[Fe]=we[be+Fe];for(Fe=$e-1;0<=Fe;--Fe)ve[Le+Fe]=Oe[Fe];mr(ce,ye,Pe,ae,Ue,ae,oe)}else mr(ce,ye,Pe,Le,we,ae,oe)}oe=z,ae=A}ae!=A&&r(z,A,oe,ae,re)}function xo(p,_){var A=p.V,z=p.Ba+p.c*p.C,X=_-p.C;if(e(_<=p.l.o),e(16>=X),0<X){var re=p.l,ie=p.Ta,oe=p.Ua,ae=re.width;if(Lr(p,X,A,z),X=oe=[oe],e((A=p.C)<(z=_)),e(re.v<re.va),z>re.o&&(z=re.o),A<re.j){var ce=re.j-A;A=re.j,X[0]+=ce*ae}if(A>=z?A=0:(X[0]+=4*re.v,re.ka=A-re.j,re.U=re.va-re.v,re.T=z-A,A=1),A){if(oe=oe[0],11>(A=p.ca).S){var ye=A.f.RGBA,Pe=(z=A.S,X=re.U,re=re.T,ce=ye.eb,ye.A),Le=re;for(ye=ye.fb+p.Ma*ye.A;0<Le--;){var we=ie,Ue=oe,Oe=X,ve=ce,be=ye;switch(z){case Ec:Tr(we,Ue,Oe,ve,be);break;case El:Xi(we,Ue,Oe,ve,be);break;case Tc:Xi(we,Ue,Oe,ve,be),ri(ve,be,0,Oe,1,0);break;case Yu:ws(we,Ue,Oe,ve,be);break;case Ml:Ae(we,Ue,Oe,ve,be,1);break;case Oc:Ae(we,Ue,Oe,ve,be,1),ri(ve,be,0,Oe,1,0);break;case Tl:Ae(we,Ue,Oe,ve,be,0);break;case Dc:Ae(we,Ue,Oe,ve,be,0),ri(ve,be,1,Oe,1,0);break;case Mc:ti(we,Ue,Oe,ve,be);break;case l:ti(we,Ue,Oe,ve,be),Io(ve,be,Oe,1,0);break;case Wh:Or(we,Ue,Oe,ve,be);break;default:e(0)}oe+=ae,ye+=Pe}p.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=_,e(p.C<=p.i)}function $i(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var A=p.Ya[_].G,z=p.Ya[_].H;if(0<A[1][z[1]+0].g||0<A[2][z[2]+0].g||0<A[3][z[3]+0].g)return 0}return 1}function di(p,_,A,z,X,re){if(p.Z!=0){var ie=p.qd,oe=p.rd;for(e(an[p.Z]!=null);_<A;++_)an[p.Z](ie,oe,z,X,z,X,re),ie=z,oe=X,X+=re;p.qd=ie,p.rd=oe}}function Zr(p,_){var A=p.l.ma,z=A.Z==0||A.Z==1?p.l.j:p.C;if(z=p.C<z?z:p.C,e(_<=p.l.o),_>z){var X=p.l.width,re=A.ca,ie=A.tb+X*z,oe=p.V,ae=p.Ba+p.c*z,ce=p.gc;e(p.ab==1),e(ce[0].hc==3),Oi(ce[0],z,_,oe,ae,re,ie),di(A,z,_,re,ie,X)}p.C=p.Ma=_}function hi(p,_,A,z,X,re,ie){var oe=p.$/z,ae=p.$%z,ce=p.m,ye=p.s,Pe=A+p.$,Le=Pe;X=A+z*X;var we=A+z*re,Ue=280+ye.ua,Oe=p.Pb?oe:16777216,ve=0<ye.ua?ye.Wa:null,be=ye.wc,Fe=Pe<we?it(ye,ae,oe):null;e(p.C<re),e(we<=X);var $e=!1;e:for(;;){for(;$e||Pe<we;){var Be=0;if(oe>=Oe){var ut=Pe-A;e((Oe=p).Pb),Oe.wd=Oe.m,Oe.xd=ut,0<Oe.s.ua&&fe(Oe.s.Wa,Oe.s.vb),Oe=oe+Ee}if(ae&be||(Fe=it(ye,ae,oe)),e(Fe!=null),Fe.Qb&&(_[Pe]=Fe.qb,$e=!0),!$e)if(ne(ce),Fe.jc){Be=ce,ut=_;var nt=Pe,jt=Fe.pd[B(Be)&sr-1];e(Fe.jc),256>jt.g?($(Be,Be.u+jt.g),ut[nt]=jt.value,Be=0):($(Be,Be.u+jt.g-256),e(256<=jt.value),Be=jt.value),Be==0&&($e=!0)}else Be=rr(Fe.G[0],Fe.H[0],ce);if(ce.h)break;if($e||256>Be){if(!$e)if(Fe.nd)_[Pe]=(Fe.qb|Be<<8)>>>0;else{if(ne(ce),$e=rr(Fe.G[1],Fe.H[1],ce),ne(ce),ut=rr(Fe.G[2],Fe.H[2],ce),nt=rr(Fe.G[3],Fe.H[3],ce),ce.h)break;_[Pe]=(nt<<24|$e<<16|Be<<8|ut)>>>0}if($e=!1,++Pe,++ae>=z&&(ae=0,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(p,oe),ve!=null))for(;Le<Pe;)Be=_[Le++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be}else if(280>Be){if(Be=rn(Be-256,ce),ut=rr(Fe.G[4],Fe.H[4],ce),ne(ce),ut=Pr(z,ut=rn(ut,ce)),ce.h)break;if(Pe-A<ut||X-Pe<Be)break e;for(nt=0;nt<Be;++nt)_[Pe+nt]=_[Pe+nt-ut];for(Pe+=Be,ae+=Be;ae>=z;)ae-=z,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(p,oe);if(e(Pe<=X),ae&be&&(Fe=it(ye,ae,oe)),ve!=null)for(;Le<Pe;)Be=_[Le++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be}else{if(!(Be<Ue))break e;for($e=Be-280,e(ve!=null);Le<Pe;)Be=_[Le++],ve.X[(506832829*Be&4294967295)>>>ve.Mb]=Be;Be=Pe,e(!($e>>>(ut=ve).Xa)),_[Be]=ut.X[$e],$e=!0}$e||e(ce.h==G(ce))}if(p.Pb&&ce.h&&Pe<X)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&fe(p.s.vb,p.s.Wa);else{if(ce.h)break e;ie!=null&&ie(p,oe>re?re:oe),p.a=0,p.$=Pe-A}return 1}return p.a=3,0}function _r(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,e(p!=null)}function Kr(){var p=new Nl;return p==null?null:(p.a=0,p.xb=Zu,ge("Predictor","VP8LPredictors"),ge("Predictor","VP8LPredictors_C"),ge("PredictorAdd","VP8LPredictorsAdd"),ge("PredictorAdd","VP8LPredictorsAdd_C"),Ac=Nt,Mr=_t,Tr=Qe,Xi=An,ti=Ft,Or=nr,ws=tn,P.VP8LMapColor32b=Pl,P.VP8LMapColor8b=va,p)}function Yi(p,_,A,z,X){var re=1,ie=[p],oe=[_],ae=z.m,ce=z.s,ye=null,Pe=0;e:for(;;){if(A)for(;re&&ee(ae,1);){var Le=ie,we=oe,Ue=z,Oe=1,ve=Ue.m,be=Ue.gc[Ue.ab],Fe=ee(ve,2);if(Ue.Oc&1<<Fe)re=0;else{switch(Ue.Oc|=1<<Fe,be.hc=Fe,be.Ea=Le[0],be.nc=we[0],be.K=[null],++Ue.ab,e(4>=Ue.ab),Fe){case 0:case 1:be.b=ee(ve,3)+2,Oe=Yi(Ke(be.Ea,be.b),Ke(be.nc,be.b),0,Ue,be.K),be.K=be.K[0];break;case 3:var $e,Be=ee(ve,8)+1,ut=16<Be?0:4<Be?1:2<Be?2:3;if(Le[0]=Ke(be.Ea,ut),be.b=ut,$e=Oe=Yi(Be,1,0,Ue,be.K)){var nt,jt=Be,ot=be,sn=1<<(8>>ot.b),ln=s(sn);if(ln==null)$e=0;else{var Jt=ot.K[0],Yt=ot.w;for(ln[0]=ot.K[0][0],nt=1;nt<1*jt;++nt)ln[nt]=He(Jt[Yt+nt],ln[nt-1]);for(;nt<4*sn;++nt)ln[nt]=0;ot.K[0]=null,ot.K[0]=ln,$e=1}}Oe=$e;break;case 2:break;default:e(0)}re=Oe}}if(ie=ie[0],oe=oe[0],re&&ee(ae,1)&&!(re=1<=(Pe=ee(ae,4))&&11>=Pe)){z.a=3;break e}var gn;if(gn=re)t:{var pn,It,Jn,vi=z,Qn=ie,bi=oe,cn=Pe,Fi=A,Bi=vi.m,gr=vi.s,jr=[null],si=1,ts=0,Ks=ke[cn];n:for(;;){if(Fi&&ee(Bi,1)){var xr=ee(Bi,3)+2,Ro=Ke(Qn,xr),Ol=Ke(bi,xr),Rc=Ro*Ol;if(!Yi(Ro,Ol,0,vi,jr))break n;for(jr=jr[0],gr.xc=xr,pn=0;pn<Rc;++pn){var Na=jr[pn]>>8&65535;jr[pn]=Na,Na>=si&&(si=Na+1)}}if(Bi.h)break n;for(It=0;5>It;++It){var Fn=C[It];!It&&0<cn&&(Fn+=1<<cn),ts<Fn&&(ts=Fn)}var Bm=a(si*Ks,R),ux=si,dx=a(ux,U);if(dx==null)var Zh=null;else e(65536>=ux),Zh=dx;var Xu=s(ts);if(Zh==null||Xu==null||Bm==null){vi.a=1;break n}var Kh=Bm;for(pn=Jn=0;pn<si;++pn){var js=Zh[pn],Fc=js.G,Bc=js.H,hx=0,Gh=1,fx=0;for(It=0;5>It;++It){Fn=C[It],Fc[It]=Kh,Bc[It]=Jn,!It&&0<cn&&(Fn+=1<<cn);i:{var Xh,zm=Fn,Jh=vi,Ju=Xu,v3=Kh,b3=Jn,Um=0,ja=Jh.m,_3=ee(ja,1);if(i(Ju,0,0,zm),_3){var w3=ee(ja,1)+1,N3=ee(ja,1),px=ee(ja,N3==0?1:8);Ju[px]=1,w3==2&&(Ju[px=ee(ja,8)]=1);var Qh=1}else{var mx=s(19),gx=ee(ja,4)+4;if(19<gx){Jh.a=3;var ef=0;break i}for(Xh=0;Xh<gx;++Xh)mx[se[Xh]]=ee(ja,3);var Wm=void 0,Qu=void 0,xx=Jh,j3=mx,tf=zm,yx=Ju,Hm=0,Sa=xx.m,vx=8,bx=a(128,R);r:for(;I(bx,0,7,j3,19);){if(ee(Sa,1)){var S3=2+2*ee(Sa,3);if((Wm=2+ee(Sa,S3))>tf)break r}else Wm=tf;for(Qu=0;Qu<tf&&Wm--;){ne(Sa);var _x=bx[0+(127&B(Sa))];$(Sa,Sa.u+_x.g);var zc=_x.value;if(16>zc)yx[Qu++]=zc,zc!=0&&(vx=zc);else{var k3=zc==16,wx=zc-16,C3=y[wx],Nx=ee(Sa,d[wx])+C3;if(Qu+Nx>tf)break r;for(var P3=k3?vx:0;0<Nx--;)yx[Qu++]=P3}}Hm=1;break r}Hm||(xx.a=3),Qh=Hm}(Qh=Qh&&!ja.h)&&(Um=I(v3,b3,8,Ju,zm)),Qh&&Um!=0?ef=Um:(Jh.a=3,ef=0)}if(ef==0)break n;if(Gh&&W[It]==1&&(Gh=Kh[Jn].g==0),hx+=Kh[Jn].g,Jn+=ef,3>=It){var ed,qm=Xu[0];for(ed=1;ed<Fn;++ed)Xu[ed]>qm&&(qm=Xu[ed]);fx+=qm}}if(js.nd=Gh,js.Qb=0,Gh&&(js.qb=(Fc[3][Bc[3]+0].value<<24|Fc[1][Bc[1]+0].value<<16|Fc[2][Bc[2]+0].value)>>>0,hx==0&&256>Fc[0][Bc[0]+0].value&&(js.Qb=1,js.qb+=Fc[0][Bc[0]+0].value<<8)),js.jc=!js.Qb&&6>fx,js.jc){var nf,Fo=js;for(nf=0;nf<sr;++nf){var ka=nf,Ca=Fo.pd[ka],rf=Fo.G[0][Fo.H[0]+ka];256<=rf.value?(Ca.g=rf.g+256,Ca.value=rf.value):(Ca.g=0,Ca.value=0,ka>>=Zt(rf,8,Ca),ka>>=Zt(Fo.G[1][Fo.H[1]+ka],16,Ca),ka>>=Zt(Fo.G[2][Fo.H[2]+ka],0,Ca),Zt(Fo.G[3][Fo.H[3]+ka],24,Ca))}}}gr.vc=jr,gr.Wb=si,gr.Ya=Zh,gr.yc=Bm,gn=1;break t}gn=0}if(!(re=gn)){z.a=3;break e}if(0<Pe){if(ce.ua=1<<Pe,!mt(ce.Wa,Pe)){z.a=1,re=0;break e}}else ce.ua=0;var Vm=z,jx=ie,L3=oe,$m=Vm.s,Ym=$m.xc;if(Vm.c=jx,Vm.i=L3,$m.md=Ke(jx,Ym),$m.wc=Ym==0?-1:(1<<Ym)-1,A){z.xb=Dm;break e}if((ye=s(ie*oe))==null){z.a=1,re=0;break e}re=(re=hi(z,ye,0,ie,oe,oe,null))&&!ae.h;break e}return re?(X!=null?X[0]=ye:(e(ye==null),e(A)),z.$=0,A||_r(ce)):_r(ce),re}function yo(p,_){var A=p.c*p.i,z=A+_+16*_;return e(p.c<=_),p.V=s(z),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+_,1)}function sa(p,_){var A=p.C,z=_-A,X=p.V,re=p.Ba+p.c*A;for(e(_<=p.l.o);0<z;){var ie=16<z?16:z,oe=p.l.ma,ae=p.l.width,ce=ae*ie,ye=oe.ca,Pe=oe.tb+ae*A,Le=p.Ta,we=p.Ua;Lr(p,ie,X,re),zh(Le,we,ye,Pe,ce),di(oe,A,A+ie,ye,Pe,ae),z-=ie,X+=ie*p.c,A+=ie}e(A==_),p.C=p.Ma=_}function oa(){this.ub=this.yd=this.td=this.Rb=0}function vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function aa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function bo(){this.Yb=function(){var p=[];return function _(A,z,X){for(var re=X[z],ie=0;ie<re&&(A.push(X.length>z+1?[]:0),!(X.length<z+1));ie++)_(A[ie],z+1,X)}(p,0,[3,11]),p}()}function zu(){this.jb=s(3),this.Wc=c([4,8],bo),this.Xc=c([4,17],bo)}function Uu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function la(){this.ld=this.La=this.dd=this.tc=0}function bc(){this.Na=this.la=0}function Wu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _o(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new la),this.Y=0,this.ya=Array(new _o),this.aa=0,this.l=new Zi}function fl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _c(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new oa,this.Kc=new vo,this.ed=new Uu,this.Qa=new aa,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,te),this.ia=0,this.pb=a(4,Wu),this.Pa=new zu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fl),this.Hd=0,this.rb=Array(new bc),this.sb=0,this.wa=Array(new la),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _o),this.L=this.aa=0,this.gd=c([4,2],la),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vt(){var p=new _c;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,wt||(wt=ps)),p}function Et(p,_,A){return p.a==0&&(p.a=_,p.sc=A,p.cb=0),0}function No(p,_,A){return 3<=A&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function fs(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return Et(p,2,"null VP8Io passed to VP8GetHeaders()");var A=_.data,z=_.w,X=_.ha;if(4>X)return Et(p,7,"Truncated header.");var re=A[z+0]|A[z+1]<<8|A[z+2]<<16,ie=p.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return Et(p,3,"Incorrect keyframe parameters.");if(!ie.yd)return Et(p,4,"Frame not displayable.");z+=3,X-=3;var oe=p.Kc;if(ie.Rb){if(7>X)return Et(p,7,"cannot parse picture header");if(!No(A,z,X))return Et(p,3,"Bad code word");oe.c=16383&(A[z+4]<<8|A[z+3]),oe.Td=A[z+4]>>6,oe.i=16383&(A[z+6]<<8|A[z+5]),oe.Ud=A[z+6]>>6,z+=7,X-=7,p.za=oe.c+15>>4,p.Ub=oe.i+15>>4,_.width=oe.c,_.height=oe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((re=p.Pa).jb,0,255,re.jb.length),e((re=p.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ie.ub>X)return Et(p,7,"bad partition length");le(re=p.m,A,z,ie.ub),z+=ie.ub,X-=ie.ub,ie.Rb&&(oe.Ld=pe(re),oe.Kd=pe(re)),oe=p.Qa;var ae,ce=p.Pa;if(e(re!=null),e(oe!=null),oe.Cb=pe(re),oe.Cb){if(oe.Bb=pe(re),pe(re)){for(oe.Fb=pe(re),ae=0;4>ae;++ae)oe.Zb[ae]=pe(re)?Z(re,7):0;for(ae=0;4>ae;++ae)oe.Lb[ae]=pe(re)?Z(re,6):0}if(oe.Bb)for(ae=0;3>ae;++ae)ce.jb[ae]=pe(re)?Q(re,8):255}else oe.Bb=0;if(re.Ka)return Et(p,3,"cannot parse segment header");if((oe=p.ed).zd=pe(re),oe.Tb=Q(re,6),oe.wb=Q(re,3),oe.Pc=pe(re),oe.Pc&&pe(re)){for(ce=0;4>ce;++ce)pe(re)&&(oe.vd[ce]=Z(re,6));for(ce=0;4>ce;++ce)pe(re)&&(oe.od[ce]=Z(re,6))}if(p.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return Et(p,3,"cannot parse filter header");var ye=X;if(X=ae=z,z=ae+ye,oe=ye,p.Xb=(1<<Q(p.m,2))-1,ye<3*(ce=p.Xb))A=7;else{for(ae+=3*ce,oe-=3*ce,ye=0;ye<ce;++ye){var Pe=A[X+0]|A[X+1]<<8|A[X+2]<<16;Pe>oe&&(Pe=oe),le(p.Jc[+ye],A,ae,Pe),ae+=Pe,oe-=Pe,X+=3}le(p.Jc[+ce],A,ae,oe),A=ae<z?0:5}if(A!=0)return Et(p,A,"cannot parse partitions");for(A=Q(ae=p.m,7),X=pe(ae)?Z(ae,4):0,z=pe(ae)?Z(ae,4):0,oe=pe(ae)?Z(ae,4):0,ce=pe(ae)?Z(ae,4):0,ae=pe(ae)?Z(ae,4):0,ye=p.Qa,Pe=0;4>Pe;++Pe){if(ye.Cb){var Le=ye.Zb[Pe];ye.Fb||(Le+=A)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}Le=A}var we=p.pb[Pe];we.Sc[0]=Ve[_n(Le+X,127)],we.Sc[1]=at[_n(Le+0,127)],we.Eb[0]=2*Ve[_n(Le+z,127)],we.Eb[1]=101581*at[_n(Le+oe,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Ve[_n(Le+ce,117)],we.Qc[1]=at[_n(Le+ae,127)],we.lc=Le+ae}if(!ie.Rb)return Et(p,4,"Not a key frame.");for(pe(re),ie=p.Pa,A=0;4>A;++A){for(X=0;8>X;++X)for(z=0;3>z;++z)for(oe=0;11>oe;++oe)ce=_e(re,wa[A][X][z][oe])?Q(re,8):yi[A][X][z][oe],ie.Wc[A][X].Yb[z][oe]=ce;for(X=0;17>X;++X)ie.Xc[A][X]=ie.Wc[A][Om[X]]}return p.kc=pe(re),p.kc&&(p.Bd=Q(re,8)),p.cb=1}function ps(p,_,A,z,X,re,ie){var oe=_[X].Yb[A];for(A=0;16>X;++X){if(!_e(p,oe[A+0]))return X;for(;!_e(p,oe[A+1]);)if(oe=_[++X].Yb[0],A=0,X==16)return 16;var ae=_[X+1].Yb;if(_e(p,oe[A+2])){var ce=p,ye=0;if(_e(ce,(Le=oe)[(Pe=A)+3]))if(_e(ce,Le[Pe+6])){for(oe=0,Pe=2*(ye=_e(ce,Le[Pe+8]))+(Le=_e(ce,Le[Pe+9+ye])),ye=0,Le=Rt[Pe];Le[oe];++oe)ye+=ye+_e(ce,Le[oe]);ye+=3+(8<<Pe)}else _e(ce,Le[Pe+7])?(ye=7+2*_e(ce,165),ye+=_e(ce,145)):ye=5+_e(ce,159);else ye=_e(ce,Le[Pe+4])?3+_e(ce,Le[Pe+5]):2;oe=ae[2]}else ye=1,oe=ae[1];ae=ie+wr[X],0>(ce=p).b&&he(ce);var Pe,Le=ce.b,we=(Pe=ce.Ca>>1)-(ce.I>>Le)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Pe+1&we)<<Le,re[ae]=((ye^we)-we)*z[(0<X)+0]}return 16}function jo(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Mt(p,_){if(p==null)return 0;if(_==null)return Et(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!fs(p,_))return 0;if(e(p.cb),_.ac==null||_.ac(_)){_.ob&&(p.L=0);var A=Yh[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=_.v-A>>4,p.zb=_.j-A>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=_.o+15+A>>4,p.Hb=_.va+15+A>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var z=p.ed;for(A=0;4>A;++A){var X;if(p.Qa.Cb){var re=p.Qa.Lb[A];p.Qa.Fb||(re+=z.Tb)}else re=z.Tb;for(X=0;1>=X;++X){var ie=p.gd[A][X],oe=re;if(z.Pc&&(oe+=z.vd[0],X&&(oe+=z.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ae=oe;0<z.wb&&(ae=4<z.wb?ae>>2:ae>>1)>9-z.wb&&(ae=9-z.wb),1>ae&&(ae=1),ie.dd=ae,ie.tc=2*oe+ae,ie.ld=40<=oe?2:15<=oe?1:0}else ie.tc=0;ie.La=X}}}A=0}else Et(p,6,"Frame setup failed"),A=p.a;if(A=A==0){if(A){p.$c=0,0<p.Aa||(p.Ic=y3);e:{A=p.Ic,z=4*(ae=p.za);var ce=32*ae,ye=ae+1,Pe=0<p.L?ae*(0<p.Aa?2:1):0,Le=(p.Aa==2?2:1)*ae;if((ie=z+832+(X=3*(16*A+Yh[p.L])/2*ce)+(re=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=ie)A=0;else{if(ie>p.Vb){if(p.Vb=0,p.Ec=s(ie),p.Fc=0,p.Ec==null){A=Et(p,1,"no memory during frame initialization.");break e}p.Vb=ie}ie=p.Ec,oe=p.Fc,p.Ac=ie,p.Bc=oe,oe+=z,p.Gd=a(ce,fl),p.Hd=0,p.rb=a(ye+1,bc),p.sb=1,p.wa=Pe?a(Pe,la):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ae),e(!0),p.oc=ie,p.pc=oe,oe+=832,p.ya=a(Le,_o),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=ae),p.R=16*ae,p.B=8*ae,ae=(ce=Yh[p.L])*p.R,ce=ce/2*p.B,p.sa=ie,p.ta=oe+ae,p.qa=p.sa,p.ra=p.ta+16*A*p.R+ce,p.Ha=p.qa,p.Ia=p.ra+8*A*p.B+ce,p.$c=0,oe+=X,p.mb=re?ie:null,p.nb=re?oe:null,e(oe+re<=p.Fc+p.Vb),jo(p),i(p.Ac,p.Bc,0,z),A=1}}if(A){if(_.ka=0,_.y=p.sa,_.O=p.ta,_.f=p.qa,_.N=p.ra,_.ea=p.Ha,_.Vd=p.Ia,_.fa=p.R,_.Rc=p.B,_.F=null,_.J=0,!Uh){for(A=-255;255>=A;++A)Qi[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)Vu[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)$u[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)ba[255+A]=0>A?0:255<A?255:A;Uh=1}ni=So,Mo=ca,Di=Ki,Ii=Pn,Ji=Gi,Ll=wc,To=vl,Oo=Hs,Do=bl,or=_l,$s=Hu,gi=pa,xi=Ar,fn=Pc,on=kc,Mn=qn,wn=pi,Ns=Cc,Ri[0]=Wt,Ri[1]=pl,Ri[2]=Pt,Ri[3]=fi,Ri[4]=gl,Ri[5]=zs,Ri[6]=ha,Ri[7]=Co,Ri[8]=xl,Ri[9]=xs,Zs[0]=ua,Zs[1]=ml,Zs[2]=Ei,Zs[3]=gs,Zs[4]=Hn,Zs[5]=Nc,Zs[6]=da,es[0]=ys,es[1]=ko,es[2]=Po,es[3]=En,es[4]=Lo,es[5]=jc,es[6]=fa,A=1}else A=0}A&&(A=function(we,Ue){for(we.M=0;we.M<we.Va;++we.M){var Oe,ve=we.Jc[we.M&we.Xb],be=we.m,Fe=we;for(Oe=0;Oe<Fe.za;++Oe){var $e=be,Be=Fe,ut=Be.Ac,nt=Be.Bc+4*Oe,jt=Be.zc,ot=Be.ya[Be.aa+Oe];if(Be.Qa.Bb?ot.$b=_e($e,Be.Pa.jb[0])?2+_e($e,Be.Pa.jb[2]):_e($e,Be.Pa.jb[1]):ot.$b=0,Be.kc&&(ot.Ad=_e($e,Be.Bd)),ot.Za=!_e($e,145)+0,ot.Za){var sn=ot.Ob,ln=0;for(Be=0;4>Be;++Be){var Jt,Yt=jt[0+Be];for(Jt=0;4>Jt;++Jt){Yt=Ir[ut[nt+Jt]][Yt];for(var gn=$n[_e($e,Yt[0])];0<gn;)gn=$n[2*gn+_e($e,Yt[gn])];Yt=-gn,ut[nt+Jt]=Yt}r(sn,ln,ut,nt,4),ln+=4,jt[0+Be]=Yt}}else Yt=_e($e,156)?_e($e,128)?1:3:_e($e,163)?2:0,ot.Ob[0]=Yt,i(ut,nt,Yt,4),i(jt,0,Yt,4);ot.Dd=_e($e,142)?_e($e,114)?_e($e,183)?1:3:2:0}if(Fe.m.Ka)return Et(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Fe=ve,$e=(be=we).rb[be.sb-1],ut=be.rb[be.sb+be.ja],Oe=be.ya[be.aa+be.ja],nt=be.kc?Oe.Ad:0)$e.la=ut.la=0,Oe.Za||($e.Na=ut.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var pn,It;if($e=ut,ut=Fe,nt=be.Pa.Xc,jt=be.ya[be.aa+be.ja],ot=be.pb[jt.$b],Be=jt.ad,sn=0,ln=be.rb[be.sb-1],Yt=Jt=0,i(Be,sn,0,384),jt.Za)var Jn=0,vi=nt[3];else{gn=s(16);var Qn=$e.Na+ln.Na;if(Qn=wt(ut,nt[1],Qn,ot.Eb,0,gn,0),$e.Na=ln.Na=(0<Qn)+0,1<Qn)ni(gn,0,Be,sn);else{var bi=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)Be[sn+gn]=bi}Jn=1,vi=nt[0]}var cn=15&$e.la,Fi=15&ln.la;for(gn=0;4>gn;++gn){var Bi=1&Fi;for(bi=It=0;4>bi;++bi)cn=cn>>1|(Bi=(Qn=wt(ut,vi,Qn=Bi+(1&cn),ot.Sc,Jn,Be,sn))>Jn)<<7,It=It<<2|(3<Qn?3:1<Qn?2:Be[sn+0]!=0),sn+=16;cn>>=4,Fi=Fi>>1|Bi<<7,Jt=(Jt<<8|It)>>>0}for(vi=cn,Jn=Fi>>4,pn=0;4>pn;pn+=2){for(It=0,cn=$e.la>>4+pn,Fi=ln.la>>4+pn,gn=0;2>gn;++gn){for(Bi=1&Fi,bi=0;2>bi;++bi)Qn=Bi+(1&cn),cn=cn>>1|(Bi=0<(Qn=wt(ut,nt[2],Qn,ot.Qc,0,Be,sn)))<<3,It=It<<2|(3<Qn?3:1<Qn?2:Be[sn+0]!=0),sn+=16;cn>>=2,Fi=Fi>>1|Bi<<5}Yt|=It<<4*pn,vi|=cn<<4<<pn,Jn|=(240&Fi)<<pn}$e.la=vi,ln.la=Jn,jt.Hc=Jt,jt.Gc=Yt,jt.ia=43690&Yt?0:ot.ia,nt=!(Jt|Yt)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Oe.$b][Oe.Za],be.wa[be.Y+be.ja].La|=!nt),Fe.Ka)return Et(we,7,"Premature end-of-file encountered.")}if(jo(we),be=Ue,Fe=1,Oe=(ve=we).D,$e=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Oe.M=ve.M,Oe.uc=$e,Sl(ve,Oe),Fe=1,Oe=(It=ve.D).Nb,$e=(Yt=Yh[ve.L])*ve.R,ut=Yt/2*ve.B,gn=16*Oe*ve.R,bi=8*Oe*ve.B,nt=ve.sa,jt=ve.ta-$e+gn,ot=ve.qa,Be=ve.ra-ut+bi,sn=ve.Ha,ln=ve.Ia-ut+bi,Fi=(cn=It.M)==0,Jt=cn>=ve.Va-1,ve.Aa==2&&Sl(ve,It),It.uc)for(Bi=(Qn=ve).D.M,e(Qn.D.uc),It=Qn.yb;It<Qn.Hb;++It){Jn=It,vi=Bi;var gr=(jr=(Fn=Qn).D).Nb;pn=Fn.R;var jr=jr.wa[jr.Y+Jn],si=Fn.sa,ts=Fn.ta+16*gr*pn+16*Jn,Ks=jr.dd,xr=jr.tc;if(xr!=0)if(e(3<=xr),Fn.L==1)0<Jn&&Mn(si,ts,pn,xr+4),jr.La&&Ns(si,ts,pn,xr),0<vi&&on(si,ts,pn,xr+4),jr.La&&wn(si,ts,pn,xr);else{var Ro=Fn.B,Ol=Fn.qa,Rc=Fn.ra+8*gr*Ro+8*Jn,Na=Fn.Ha,Fn=Fn.Ia+8*gr*Ro+8*Jn;gr=jr.ld,0<Jn&&(Oo(si,ts,pn,xr+4,Ks,gr),or(Ol,Rc,Na,Fn,Ro,xr+4,Ks,gr)),jr.La&&(gi(si,ts,pn,xr,Ks,gr),fn(Ol,Rc,Na,Fn,Ro,xr,Ks,gr)),0<vi&&(To(si,ts,pn,xr+4,Ks,gr),Do(Ol,Rc,Na,Fn,Ro,xr+4,Ks,gr)),jr.La&&($s(si,ts,pn,xr,Ks,gr),xi(Ol,Rc,Na,Fn,Ro,xr,Ks,gr))}}if(ve.ia&&alert("todo:DitherRow"),be.put!=null){if(It=16*cn,cn=16*(cn+1),Fi?(be.y=ve.sa,be.O=ve.ta+gn,be.f=ve.qa,be.N=ve.ra+bi,be.ea=ve.Ha,be.W=ve.Ia+bi):(It-=Yt,be.y=nt,be.O=jt,be.f=ot,be.N=Be,be.ea=sn,be.W=ln),Jt||(cn-=Yt),cn>be.o&&(cn=be.o),be.F=null,be.J=null,ve.Fa!=null&&0<ve.Fa.length&&It<cn&&(be.J=jl(ve,be,It,cn-It),be.F=ve.mb,be.F==null&&be.F.length==0)){Fe=Et(ve,3,"Could not decode alpha data.");break e}It<be.j&&(Yt=be.j-It,It=be.j,e(!(1&Yt)),be.O+=ve.R*Yt,be.N+=ve.B*(Yt>>1),be.W+=ve.B*(Yt>>1),be.F!=null&&(be.J+=be.width*Yt)),It<cn&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=It-be.j,be.U=be.va-be.v,be.T=cn-It,Fe=be.put(be))}Oe+1!=ve.Ic||Jt||(r(ve.sa,ve.ta-$e,nt,jt+16*ve.R,$e),r(ve.qa,ve.ra-ut,ot,Be+8*ve.B,ut),r(ve.Ha,ve.Ia-ut,sn,ln+8*ve.B,ut))}if(!Fe)return Et(we,6,"Output aborted.")}return 1}(p,_)),_.bc!=null&&_.bc(_),A&=1}return A?(p.cb=0,A):0}function Xt(p,_,A,z,X){X=p[_+A+32*z]+(X>>3),p[_+A+32*z]=-256&X?0>X?0:255:X}function Fs(p,_,A,z,X,re){Xt(p,_,0,A,z+X),Xt(p,_,1,A,z+re),Xt(p,_,2,A,z-re),Xt(p,_,3,A,z-X)}function ir(p){return(20091*p>>16)+p}function hr(p,_,A,z){var X,re=0,ie=s(16);for(X=0;4>X;++X){var oe=p[_+0]+p[_+8],ae=p[_+0]-p[_+8],ce=(35468*p[_+4]>>16)-ir(p[_+12]),ye=ir(p[_+4])+(35468*p[_+12]>>16);ie[re+0]=oe+ye,ie[re+1]=ae+ce,ie[re+2]=ae-ce,ie[re+3]=oe-ye,re+=4,_++}for(X=re=0;4>X;++X)oe=(p=ie[re+0]+4)+ie[re+8],ae=p-ie[re+8],ce=(35468*ie[re+4]>>16)-ir(ie[re+12]),Xt(A,z,0,0,oe+(ye=ir(ie[re+4])+(35468*ie[re+12]>>16))),Xt(A,z,1,0,ae+ce),Xt(A,z,2,0,ae-ce),Xt(A,z,3,0,oe-ye),re++,z+=32}function wc(p,_,A,z){var X=p[_+0]+4,re=35468*p[_+4]>>16,ie=ir(p[_+4]),oe=35468*p[_+1]>>16;Fs(A,z,0,X+ie,p=ir(p[_+1]),oe),Fs(A,z,1,X+re,p,oe),Fs(A,z,2,X-re,p,oe),Fs(A,z,3,X-ie,p,oe)}function ca(p,_,A,z,X){hr(p,_,A,z),X&&hr(p,_+16,A,z+4)}function Ki(p,_,A,z){Mo(p,_+0,A,z,1),Mo(p,_+32,A,z+128,1)}function Pn(p,_,A,z){var X;for(p=p[_+0]+4,X=0;4>X;++X)for(_=0;4>_;++_)Xt(A,z,_,X,p)}function Gi(p,_,A,z){p[_+0]&&Ii(p,_+0,A,z),p[_+16]&&Ii(p,_+16,A,z+4),p[_+32]&&Ii(p,_+32,A,z+128),p[_+48]&&Ii(p,_+48,A,z+128+4)}function So(p,_,A,z){var X,re=s(16);for(X=0;4>X;++X){var ie=p[_+0+X]+p[_+12+X],oe=p[_+4+X]+p[_+8+X],ae=p[_+4+X]-p[_+8+X],ce=p[_+0+X]-p[_+12+X];re[0+X]=ie+oe,re[8+X]=ie-oe,re[4+X]=ce+ae,re[12+X]=ce-ae}for(X=0;4>X;++X)ie=(p=re[0+4*X]+3)+re[3+4*X],oe=re[1+4*X]+re[2+4*X],ae=re[1+4*X]-re[2+4*X],ce=p-re[3+4*X],A[z+0]=ie+oe>>3,A[z+16]=ce+ae>>3,A[z+32]=ie-oe>>3,A[z+48]=ce-ae>>3,z+=64}function ms(p,_,A){var z,X=_-32,re=Dr,ie=255-p[X-1];for(z=0;z<A;++z){var oe,ae=re,ce=ie+p[_-1];for(oe=0;oe<A;++oe)p[_+oe]=ae[ce+p[X+oe]];_+=32}}function pl(p,_){ms(p,_,4)}function ko(p,_){ms(p,_,8)}function ml(p,_){ms(p,_,16)}function Ei(p,_){var A;for(A=0;16>A;++A)r(p,_+32*A,p,_-32,16)}function gs(p,_){var A;for(A=16;0<A;--A)i(p,_,p[_-1],16),_+=32}function Bs(p,_,A){var z;for(z=0;16>z;++z)i(_,A+32*z,p,16)}function ua(p,_){var A,z=16;for(A=0;16>A;++A)z+=p[_-1+32*A]+p[_+A-32];Bs(z>>5,p,_)}function Hn(p,_){var A,z=8;for(A=0;16>A;++A)z+=p[_-1+32*A];Bs(z>>4,p,_)}function Nc(p,_){var A,z=8;for(A=0;16>A;++A)z+=p[_+A-32];Bs(z>>4,p,_)}function da(p,_){Bs(128,p,_)}function Ct(p,_,A){return p+2*_+A+2>>2}function Pt(p,_){var A,z=_-32;for(z=new Uint8Array([Ct(p[z-1],p[z+0],p[z+1]),Ct(p[z+0],p[z+1],p[z+2]),Ct(p[z+1],p[z+2],p[z+3]),Ct(p[z+2],p[z+3],p[z+4])]),A=0;4>A;++A)r(p,_+32*A,z,0,z.length)}function fi(p,_){var A=p[_-1],z=p[_-1+32],X=p[_-1+64],re=p[_-1+96];Me(p,_+0,16843009*Ct(p[_-1-32],A,z)),Me(p,_+32,16843009*Ct(A,z,X)),Me(p,_+64,16843009*Ct(z,X,re)),Me(p,_+96,16843009*Ct(X,re,re))}function Wt(p,_){var A,z=4;for(A=0;4>A;++A)z+=p[_+A-32]+p[_-1+32*A];for(z>>=3,A=0;4>A;++A)i(p,_+32*A,z,4)}function gl(p,_){var A=p[_-1+0],z=p[_-1+32],X=p[_-1+64],re=p[_-1-32],ie=p[_+0-32],oe=p[_+1-32],ae=p[_+2-32],ce=p[_+3-32];p[_+0+96]=Ct(z,X,p[_-1+96]),p[_+1+96]=p[_+0+64]=Ct(A,z,X),p[_+2+96]=p[_+1+64]=p[_+0+32]=Ct(re,A,z),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=Ct(ie,re,A),p[_+3+64]=p[_+2+32]=p[_+1+0]=Ct(oe,ie,re),p[_+3+32]=p[_+2+0]=Ct(ae,oe,ie),p[_+3+0]=Ct(ce,ae,oe)}function ha(p,_){var A=p[_+1-32],z=p[_+2-32],X=p[_+3-32],re=p[_+4-32],ie=p[_+5-32],oe=p[_+6-32],ae=p[_+7-32];p[_+0+0]=Ct(p[_+0-32],A,z),p[_+1+0]=p[_+0+32]=Ct(A,z,X),p[_+2+0]=p[_+1+32]=p[_+0+64]=Ct(z,X,re),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=Ct(X,re,ie),p[_+3+32]=p[_+2+64]=p[_+1+96]=Ct(re,ie,oe),p[_+3+64]=p[_+2+96]=Ct(ie,oe,ae),p[_+3+96]=Ct(oe,ae,ae)}function zs(p,_){var A=p[_-1+0],z=p[_-1+32],X=p[_-1+64],re=p[_-1-32],ie=p[_+0-32],oe=p[_+1-32],ae=p[_+2-32],ce=p[_+3-32];p[_+0+0]=p[_+1+64]=re+ie+1>>1,p[_+1+0]=p[_+2+64]=ie+oe+1>>1,p[_+2+0]=p[_+3+64]=oe+ae+1>>1,p[_+3+0]=ae+ce+1>>1,p[_+0+96]=Ct(X,z,A),p[_+0+64]=Ct(z,A,re),p[_+0+32]=p[_+1+96]=Ct(A,re,ie),p[_+1+32]=p[_+2+96]=Ct(re,ie,oe),p[_+2+32]=p[_+3+96]=Ct(ie,oe,ae),p[_+3+32]=Ct(oe,ae,ce)}function Co(p,_){var A=p[_+0-32],z=p[_+1-32],X=p[_+2-32],re=p[_+3-32],ie=p[_+4-32],oe=p[_+5-32],ae=p[_+6-32],ce=p[_+7-32];p[_+0+0]=A+z+1>>1,p[_+1+0]=p[_+0+64]=z+X+1>>1,p[_+2+0]=p[_+1+64]=X+re+1>>1,p[_+3+0]=p[_+2+64]=re+ie+1>>1,p[_+0+32]=Ct(A,z,X),p[_+1+32]=p[_+0+96]=Ct(z,X,re),p[_+2+32]=p[_+1+96]=Ct(X,re,ie),p[_+3+32]=p[_+2+96]=Ct(re,ie,oe),p[_+3+64]=Ct(ie,oe,ae),p[_+3+96]=Ct(oe,ae,ce)}function xs(p,_){var A=p[_-1+0],z=p[_-1+32],X=p[_-1+64],re=p[_-1+96];p[_+0+0]=A+z+1>>1,p[_+2+0]=p[_+0+32]=z+X+1>>1,p[_+2+32]=p[_+0+64]=X+re+1>>1,p[_+1+0]=Ct(A,z,X),p[_+3+0]=p[_+1+32]=Ct(z,X,re),p[_+3+32]=p[_+1+64]=Ct(X,re,re),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=re}function xl(p,_){var A=p[_-1+0],z=p[_-1+32],X=p[_-1+64],re=p[_-1+96],ie=p[_-1-32],oe=p[_+0-32],ae=p[_+1-32],ce=p[_+2-32];p[_+0+0]=p[_+2+32]=A+ie+1>>1,p[_+0+32]=p[_+2+64]=z+A+1>>1,p[_+0+64]=p[_+2+96]=X+z+1>>1,p[_+0+96]=re+X+1>>1,p[_+3+0]=Ct(oe,ae,ce),p[_+2+0]=Ct(ie,oe,ae),p[_+1+0]=p[_+3+32]=Ct(A,ie,oe),p[_+1+32]=p[_+3+64]=Ct(z,A,ie),p[_+1+64]=p[_+3+96]=Ct(X,z,A),p[_+1+96]=Ct(re,X,z)}function Po(p,_){var A;for(A=0;8>A;++A)r(p,_+32*A,p,_-32,8)}function En(p,_){var A;for(A=0;8>A;++A)i(p,_,p[_-1],8),_+=32}function Gr(p,_,A){var z;for(z=0;8>z;++z)i(_,A+32*z,p,8)}function ys(p,_){var A,z=8;for(A=0;8>A;++A)z+=p[_+A-32]+p[_-1+32*A];Gr(z>>4,p,_)}function jc(p,_){var A,z=4;for(A=0;8>A;++A)z+=p[_+A-32];Gr(z>>3,p,_)}function Lo(p,_){var A,z=4;for(A=0;8>A;++A)z+=p[_-1+32*A];Gr(z>>3,p,_)}function fa(p,_){Gr(128,p,_)}function Us(p,_,A){var z=p[_-A],X=p[_+0],re=3*(X-z)+_a[1020+p[_-2*A]-p[_+A]],ie=Ys[112+(re+4>>3)];p[_-A]=Dr[255+z+Ys[112+(re+3>>3)]],p[_+0]=Dr[255+X-ie]}function Sc(p,_,A,z){var X=p[_+0],re=p[_+A];return ii[255+p[_-2*A]-p[_-A]]>z||ii[255+re-X]>z}function yl(p,_,A,z){return 4*ii[255+p[_-A]-p[_+0]]+ii[255+p[_-2*A]-p[_+A]]<=z}function zt(p,_,A,z,X){var re=p[_-3*A],ie=p[_-2*A],oe=p[_-A],ae=p[_+0],ce=p[_+A],ye=p[_+2*A],Pe=p[_+3*A];return 4*ii[255+oe-ae]+ii[255+ie-ce]>z?0:ii[255+p[_-4*A]-re]<=X&&ii[255+re-ie]<=X&&ii[255+ie-oe]<=X&&ii[255+Pe-ye]<=X&&ii[255+ye-ce]<=X&&ii[255+ce-ae]<=X}function kc(p,_,A,z){var X=2*z+1;for(z=0;16>z;++z)yl(p,_+z,A,X)&&Us(p,_+z,A)}function qn(p,_,A,z){var X=2*z+1;for(z=0;16>z;++z)yl(p,_+z*A,1,X)&&Us(p,_+z*A,1)}function pi(p,_,A,z){var X;for(X=3;0<X;--X)kc(p,_+=4*A,A,z)}function Cc(p,_,A,z){var X;for(X=3;0<X;--X)qn(p,_+=4,A,z)}function Ws(p,_,A,z,X,re,ie,oe){for(re=2*re+1;0<X--;){if(zt(p,_,A,re,ie))if(Sc(p,_,A,oe))Us(p,_,A);else{var ae=p,ce=_,ye=A,Pe=ae[ce-2*ye],Le=ae[ce-ye],we=ae[ce+0],Ue=ae[ce+ye],Oe=ae[ce+2*ye],ve=27*(Fe=_a[1020+3*(we-Le)+_a[1020+Pe-Ue]])+63>>7,be=18*Fe+63>>7,Fe=9*Fe+63>>7;ae[ce-3*ye]=Dr[255+ae[ce-3*ye]+Fe],ae[ce-2*ye]=Dr[255+Pe+be],ae[ce-ye]=Dr[255+Le+ve],ae[ce+0]=Dr[255+we-ve],ae[ce+ye]=Dr[255+Ue-be],ae[ce+2*ye]=Dr[255+Oe-Fe]}_+=z}}function Xr(p,_,A,z,X,re,ie,oe){for(re=2*re+1;0<X--;){if(zt(p,_,A,re,ie))if(Sc(p,_,A,oe))Us(p,_,A);else{var ae=p,ce=_,ye=A,Pe=ae[ce-ye],Le=ae[ce+0],we=ae[ce+ye],Ue=Ys[112+((Oe=3*(Le-Pe))+4>>3)],Oe=Ys[112+(Oe+3>>3)],ve=Ue+1>>1;ae[ce-2*ye]=Dr[255+ae[ce-2*ye]+ve],ae[ce-ye]=Dr[255+Pe+Oe],ae[ce+0]=Dr[255+Le-Ue],ae[ce+ye]=Dr[255+we-ve]}_+=z}}function vl(p,_,A,z,X,re){Ws(p,_,A,1,16,z,X,re)}function Hs(p,_,A,z,X,re){Ws(p,_,1,A,16,z,X,re)}function Hu(p,_,A,z,X,re){var ie;for(ie=3;0<ie;--ie)Xr(p,_+=4*A,A,1,16,z,X,re)}function pa(p,_,A,z,X,re){var ie;for(ie=3;0<ie;--ie)Xr(p,_+=4,1,A,16,z,X,re)}function bl(p,_,A,z,X,re,ie,oe){Ws(p,_,X,1,8,re,ie,oe),Ws(A,z,X,1,8,re,ie,oe)}function _l(p,_,A,z,X,re,ie,oe){Ws(p,_,1,X,8,re,ie,oe),Ws(A,z,1,X,8,re,ie,oe)}function Ar(p,_,A,z,X,re,ie,oe){Xr(p,_+4*X,X,1,8,re,ie,oe),Xr(A,z+4*X,X,1,8,re,ie,oe)}function Pc(p,_,A,z,X,re,ie,oe){Xr(p,_+4,1,X,8,re,ie,oe),Xr(A,z+4,1,X,8,re,ie,oe)}function Ao(){this.ba=new Ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ma(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wl(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new R}function Nl(){this.xb=this.a=0,this.l=new Zi,this.ca=new Ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wl,this.ab=0,this.gc=a(4,ma),this.Oc=0}function ga(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qs(p,_,A,z,X,re,ie){for(p=p==null?0:p[_+0],_=0;_<ie;++_)X[re+_]=p+A[z+_]&255,p=X[re+_]}function xa(p,_,A,z,X,re,ie){var oe;if(p==null)qs(null,null,A,z,X,re,ie);else for(oe=0;oe<ie;++oe)X[re+oe]=p[_+oe]+A[z+oe]&255}function Vs(p,_,A,z,X,re,ie){if(p==null)qs(null,null,A,z,X,re,ie);else{var oe,ae=p[_+0],ce=ae,ye=ae;for(oe=0;oe<ie;++oe)ce=ye+(ae=p[_+oe])-ce,ye=A[z+oe]+(-256&ce?0>ce?0:255:ce)&255,ce=ae,X[re+oe]=ye}}function jl(p,_,A,z){var X=_.width,re=_.o;if(e(p!=null&&_!=null),0>A||0>=z||A+z>re)return null;if(!p.Cc){if(p.ga==null){var ie;if(p.ga=new ga,(ie=p.ga==null)||(ie=_.width*_.o,e(p.Gb.length==0),p.Gb=s(ie),p.Uc=0,p.Gb==null?ie=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,ie=1),ie=!ie),!ie){ie=p.ga;var oe=p.Fa,ae=p.P,ce=p.qc,ye=p.mb,Pe=p.nb,Le=ae+1,we=ce-1,Ue=ie.l;if(e(oe!=null&&ye!=null&&_!=null),an[0]=null,an[1]=qs,an[2]=xa,an[3]=Vs,ie.ca=ye,ie.tb=Pe,ie.c=_.width,ie.i=_.height,e(0<ie.c&&0<ie.i),1>=ce)_=0;else if(ie.$a=oe[ae+0]>>0&3,ie.Z=oe[ae+0]>>2&3,ie.Lc=oe[ae+0]>>4&3,ae=oe[ae+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ae)_=0;else if(Ue.put=Bt,Ue.ac=Ot,Ue.bc=nn,Ue.ma=ie,Ue.width=_.width,Ue.height=_.height,Ue.Da=_.Da,Ue.v=_.v,Ue.va=_.va,Ue.j=_.j,Ue.o=_.o,ie.$a)e:{e(ie.$a==1),_=Kr();t:for(;;){if(_==null){_=0;break e}if(e(ie!=null),ie.mc=_,_.c=ie.c,_.i=ie.i,_.l=ie.l,_.l.ma=ie,_.l.width=ie.c,_.l.height=ie.i,_.a=0,H(_.m,oe,Le,we),!Yi(ie.c,ie.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&$i(_.s)?(ie.ic=1,oe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(oe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ie.ic=0,_=yo(_,ie.c)),!_))break t;_=1;break e}ie.mc=null,_=0}else _=we>=ie.c*ie.i;ie=!_}if(ie)return null;p.ga.Lc!=1?p.Ga=0:z=re-A}e(p.ga!=null),e(A+z<=re);e:{if(_=(oe=p.ga).c,re=oe.l.o,oe.$a==0){if(Le=p.rc,we=p.Vc,Ue=p.Fa,ae=p.P+1+A*_,ce=p.mb,ye=p.nb+A*_,e(ae<=p.P+p.qc),oe.Z!=0)for(e(an[oe.Z]!=null),ie=0;ie<z;++ie)an[oe.Z](Le,we,Ue,ae,ce,ye,_),Le=ce,we=ye,ye+=_,ae+=_;else for(ie=0;ie<z;++ie)r(ce,ye,Ue,ae,_),Le=ce,we=ye,ye+=_,ae+=_;p.rc=Le,p.Vc=we}else{if(e(oe.mc!=null),_=A+z,e((ie=oe.mc)!=null),e(_<=ie.i),ie.C>=_)_=1;else if(oe.ic||Ne(),oe.ic){oe=ie.V,Le=ie.Ba,we=ie.c;var Oe=ie.i,ve=(Ue=1,ae=ie.$/we,ce=ie.$%we,ye=ie.m,Pe=ie.s,ie.$),be=we*Oe,Fe=we*_,$e=Pe.wc,Be=ve<Fe?it(Pe,ce,ae):null;e(ve<=be),e(_<=Oe),e($i(Pe));t:for(;;){for(;!ye.h&&ve<Fe;){if(ce&$e||(Be=it(Pe,ce,ae)),e(Be!=null),ne(ye),256>(Oe=rr(Be.G[0],Be.H[0],ye)))oe[Le+ve]=Oe,++ve,++ce>=we&&(ce=0,++ae<=_&&!(ae%16)&&Zr(ie,ae));else{if(!(280>Oe)){Ue=0;break t}Oe=rn(Oe-256,ye);var ut,nt=rr(Be.G[4],Be.H[4],ye);if(ne(ye),!(ve>=(nt=Pr(we,nt=rn(nt,ye)))&&be-ve>=Oe)){Ue=0;break t}for(ut=0;ut<Oe;++ut)oe[Le+ve+ut]=oe[Le+ve+ut-nt];for(ve+=Oe,ce+=Oe;ce>=we;)ce-=we,++ae<=_&&!(ae%16)&&Zr(ie,ae);ve<Fe&&ce&$e&&(Be=it(Pe,ce,ae))}e(ye.h==G(ye))}Zr(ie,ae>_?_:ae);break t}!Ue||ye.h&&ve<be?(Ue=0,ie.a=ye.h?5:3):ie.$=ve,_=Ue}else _=hi(ie,ie.V,ie.Ba,ie.c,ie.i,_,sa);if(!_){z=0;break e}}A+z>=re&&(p.Cc=1),z=1}if(!z)return null;if(p.Cc&&((z=p.ga)!=null&&(z.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*X}function S(p,_,A,z,X,re){for(;0<X--;){var ie,oe=p,ae=_+(A?1:0),ce=p,ye=_+(A?0:3);for(ie=0;ie<z;++ie){var Pe=ce[ye+4*ie];Pe!=255&&(Pe*=32897,oe[ae+4*ie+0]=oe[ae+4*ie+0]*Pe>>23,oe[ae+4*ie+1]=oe[ae+4*ie+1]*Pe>>23,oe[ae+4*ie+2]=oe[ae+4*ie+2]*Pe>>23)}_+=re}}function J(p,_,A,z,X){for(;0<z--;){var re;for(re=0;re<A;++re){var ie=p[_+2*re+0],oe=15&(ce=p[_+2*re+1]),ae=4369*oe,ce=(240&ce|ce>>4)*ae>>16;p[_+2*re+0]=(240&ie|ie>>4)*ae>>16&240|(15&ie|ie<<4)*ae>>16>>4&15,p[_+2*re+1]=240&ce|oe}_+=X}}function de(p,_,A,z,X,re,ie,oe){var ae,ce,ye=255;for(ce=0;ce<X;++ce){for(ae=0;ae<z;++ae){var Pe=p[_+ae];re[ie+4*ae]=Pe,ye&=Pe}_+=A,ie+=oe}return ye!=255}function xe(p,_,A,z,X){var re;for(re=0;re<X;++re)A[z+re]=p[_+re]>>8}function Ne(){ri=S,Io=J,Al=de,zh=xe}function Te(p,_,A){P[p]=function(z,X,re,ie,oe,ae,ce,ye,Pe,Le,we,Ue,Oe,ve,be,Fe,$e){var Be,ut=$e-1>>1,nt=oe[ae+0]|ce[ye+0]<<16,jt=Pe[Le+0]|we[Ue+0]<<16;e(z!=null);var ot=3*nt+jt+131074>>2;for(_(z[X+0],255&ot,ot>>16,Oe,ve),re!=null&&(ot=3*jt+nt+131074>>2,_(re[ie+0],255&ot,ot>>16,be,Fe)),Be=1;Be<=ut;++Be){var sn=oe[ae+Be]|ce[ye+Be]<<16,ln=Pe[Le+Be]|we[Ue+Be]<<16,Jt=nt+sn+jt+ln+524296,Yt=Jt+2*(sn+jt)>>3;ot=Yt+nt>>1,nt=(Jt=Jt+2*(nt+ln)>>3)+sn>>1,_(z[X+2*Be-1],255&ot,ot>>16,Oe,ve+(2*Be-1)*A),_(z[X+2*Be-0],255&nt,nt>>16,Oe,ve+(2*Be-0)*A),re!=null&&(ot=Jt+jt>>1,nt=Yt+ln>>1,_(re[ie+2*Be-1],255&ot,ot>>16,be,Fe+(2*Be-1)*A),_(re[ie+2*Be+0],255&nt,nt>>16,be,Fe+(2*Be+0)*A)),nt=sn,jt=ln}1&$e||(ot=3*nt+jt+131074>>2,_(z[X+$e-1],255&ot,ot>>16,Oe,ve+($e-1)*A),re!=null&&(ot=3*jt+nt+131074>>2,_(re[ie+$e-1],255&ot,ot>>16,be,Fe+($e-1)*A)))}}function Ze(){Nr[Ec]=Im,Nr[El]=Hh,Nr[Yu]=Rm,Nr[Ml]=Ic,Nr[Tl]=Ku,Nr[Mc]=qh,Nr[Wh]=c3,Nr[Tc]=Hh,Nr[Oc]=Ic,Nr[Dc]=Ku,Nr[l]=qh}function st(p){return p&~u3?0>p?0:255:p>>ox}function ht(p,_){return st((19077*p>>8)+(26149*_>>8)-14234)}function Lt(p,_,A){return st((19077*p>>8)-(6419*_>>8)-(13320*A>>8)+8708)}function Dt(p,_){return st((19077*p>>8)+(33050*_>>8)-17685)}function $t(p,_,A,z,X){z[X+0]=ht(p,A),z[X+1]=Lt(p,_,A),z[X+2]=Dt(p,_)}function mn(p,_,A,z,X){z[X+0]=Dt(p,_),z[X+1]=Lt(p,_,A),z[X+2]=ht(p,A)}function yn(p,_,A,z,X){var re=Lt(p,_,A);_=re<<3&224|Dt(p,_)>>3,z[X+0]=248&ht(p,A)|re>>5,z[X+1]=_}function Rn(p,_,A,z,X){var re=240&Dt(p,_)|15;z[X+0]=240&ht(p,A)|Lt(p,_,A)>>4,z[X+1]=re}function fr(p,_,A,z,X){z[X+0]=255,$t(p,_,A,z,X+1)}function Vn(p,_,A,z,X){mn(p,_,A,z,X),z[X+3]=255}function Mi(p,_,A,z,X){$t(p,_,A,z,X),z[X+3]=255}function _n(p,_){return 0>p?0:p>_?_:p}function Er(p,_,A){P[p]=function(z,X,re,ie,oe,ae,ce,ye,Pe){for(var Le=ye+(-2&Pe)*A;ye!=Le;)_(z[X+0],re[ie+0],oe[ae+0],ce,ye),_(z[X+1],re[ie+0],oe[ae+0],ce,ye+A),X+=2,++ie,++ae,ye+=2*A;1&Pe&&_(z[X+0],re[ie+0],oe[ae+0],ce,ye)}}function Lc(p,_,A){return A==0?p==0?_==0?6:5:_==0?4:0:A}function Jr(p,_,A,z,X){switch(p>>>30){case 3:Mo(_,A,z,X,0);break;case 2:Ll(_,A,z,X);break;case 1:Ii(_,A,z,X)}}function Sl(p,_){var A,z,X=_.M,re=_.Nb,ie=p.oc,oe=p.pc+40,ae=p.oc,ce=p.pc+584,ye=p.oc,Pe=p.pc+600;for(A=0;16>A;++A)ie[oe+32*A-1]=129;for(A=0;8>A;++A)ae[ce+32*A-1]=129,ye[Pe+32*A-1]=129;for(0<X?ie[oe-1-32]=ae[ce-1-32]=ye[Pe-1-32]=129:(i(ie,oe-32-1,127,21),i(ae,ce-32-1,127,9),i(ye,Pe-32-1,127,9)),z=0;z<p.za;++z){var Le=_.ya[_.aa+z];if(0<z){for(A=-1;16>A;++A)r(ie,oe+32*A-4,ie,oe+32*A+12,4);for(A=-1;8>A;++A)r(ae,ce+32*A-4,ae,ce+32*A+4,4),r(ye,Pe+32*A-4,ye,Pe+32*A+4,4)}var we=p.Gd,Ue=p.Hd+z,Oe=Le.ad,ve=Le.Hc;if(0<X&&(r(ie,oe-32,we[Ue].y,0,16),r(ae,ce-32,we[Ue].f,0,8),r(ye,Pe-32,we[Ue].ea,0,8)),Le.Za){var be=ie,Fe=oe-32+16;for(0<X&&(z>=p.za-1?i(be,Fe,we[Ue].y[15],4):r(be,Fe,we[Ue+1].y,0,4)),A=0;4>A;A++)be[Fe+128+A]=be[Fe+256+A]=be[Fe+384+A]=be[Fe+0+A];for(A=0;16>A;++A,ve<<=2)be=ie,Fe=oe+lx[A],Ri[Le.Ob[A]](be,Fe),Jr(ve,Oe,16*+A,be,Fe)}else if(be=Lc(z,X,Le.Ob[0]),Zs[be](ie,oe),ve!=0)for(A=0;16>A;++A,ve<<=2)Jr(ve,Oe,16*+A,ie,oe+lx[A]);for(A=Le.Gc,be=Lc(z,X,Le.Dd),es[be](ae,ce),es[be](ye,Pe),ve=Oe,be=ae,Fe=ce,255&(Le=A>>0)&&(170&Le?Di(ve,256,be,Fe):Ji(ve,256,be,Fe)),Le=ye,ve=Pe,255&(A>>=8)&&(170&A?Di(Oe,320,Le,ve):Ji(Oe,320,Le,ve)),X<p.Ub-1&&(r(we[Ue].y,0,ie,oe+480,16),r(we[Ue].f,0,ae,ce+224,8),r(we[Ue].ea,0,ye,Pe+224,8)),A=8*re*p.B,we=p.sa,Ue=p.ta+16*z+16*re*p.R,Oe=p.qa,Le=p.ra+8*z+A,ve=p.Ha,be=p.Ia+8*z+A,A=0;16>A;++A)r(we,Ue+A*p.R,ie,oe+32*A,16);for(A=0;8>A;++A)r(Oe,Le+A*p.B,ae,ce+32*A,8),r(ve,be+A*p.B,ye,Pe+32*A,8)}}function Ti(p,_,A,z,X,re,ie,oe,ae){var ce=[0],ye=[0],Pe=0,Le=ae!=null?ae.kd:0,we=ae??new mi;if(p==null||12>A)return 7;we.data=p,we.w=_,we.ha=A,_=[_],A=[A],we.gb=[we.gb];e:{var Ue=_,Oe=A,ve=we.gb;if(e(p!=null),e(Oe!=null),e(ve!=null),ve[0]=0,12<=Oe[0]&&!n(p,Ue[0],"RIFF")){if(n(p,Ue[0]+8,"WEBP")){ve=3;break e}var be=qe(p,Ue[0]+4);if(12>be||4294967286<be){ve=3;break e}if(Le&&be>Oe[0]-8){ve=7;break e}ve[0]=be,Ue[0]+=12,Oe[0]-=12}ve=0}if(ve!=0)return ve;for(be=0<we.gb[0],A=A[0];;){e:{var Fe=p;Oe=_,ve=A;var $e=ce,Be=ye,ut=Ue=[0];if((ot=Pe=[Pe])[0]=0,8>ve[0])ve=7;else{if(!n(Fe,Oe[0],"VP8X")){if(qe(Fe,Oe[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var nt=qe(Fe,Oe[0]+8),jt=1+We(Fe,Oe[0]+12);if(2147483648<=jt*(Fe=1+We(Fe,Oe[0]+15))){ve=3;break e}ut!=null&&(ut[0]=nt),$e!=null&&($e[0]=jt),Be!=null&&(Be[0]=Fe),Oe[0]+=18,ve[0]-=18,ot[0]=1}ve=0}}if(Pe=Pe[0],Ue=Ue[0],ve!=0)return ve;if(Oe=!!(2&Ue),!be&&Pe)return 3;if(re!=null&&(re[0]=!!(16&Ue)),ie!=null&&(ie[0]=Oe),oe!=null&&(oe[0]=0),ie=ce[0],Ue=ye[0],Pe&&Oe&&ae==null){ve=0;break}if(4>A){ve=7;break}if(be&&Pe||!be&&!Pe&&!n(p,_[0],"ALPH")){A=[A],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{nt=p,ve=_,be=A;var ot=we.gb;$e=we.na,Be=we.P,ut=we.Sa,jt=22,e(nt!=null),e(be!=null),Fe=ve[0];var sn=be[0];for(e($e!=null),e(ut!=null),$e[0]=null,Be[0]=null,ut[0]=0;;){if(ve[0]=Fe,be[0]=sn,8>sn){ve=7;break e}var ln=qe(nt,Fe+4);if(4294967286<ln){ve=3;break e}var Jt=8+ln+1&-2;if(jt+=Jt,0<ot&&jt>ot){ve=3;break e}if(!n(nt,Fe,"VP8 ")||!n(nt,Fe,"VP8L")){ve=0;break e}if(sn[0]<Jt){ve=7;break e}n(nt,Fe,"ALPH")||($e[0]=nt,Be[0]=Fe+8,ut[0]=ln),Fe+=Jt,sn-=Jt}}if(A=A[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ve!=0)break}A=[A],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ot=p,ve=_,be=A,$e=we.gb[0],Be=we.Ja,ut=we.xa,nt=ve[0],Fe=!n(ot,nt,"VP8 "),jt=!n(ot,nt,"VP8L"),e(ot!=null),e(be!=null),e(Be!=null),e(ut!=null),8>be[0])ve=7;else{if(Fe||jt){if(ot=qe(ot,nt+4),12<=$e&&ot>$e-12){ve=3;break e}if(Le&&ot>be[0]-8){ve=7;break e}Be[0]=ot,ve[0]+=8,be[0]-=8,ut[0]=jt}else ut[0]=5<=be[0]&&ot[nt+0]==47&&!(ot[nt+4]>>5),Be[0]=be[0];ve=0}if(A=A[0],we.Ja=we.Ja[0],we.xa=we.xa[0],_=_[0],ve!=0)break;if(4294967286<we.Ja)return 3;if(oe==null||Oe||(oe[0]=we.xa?2:1),ie=[ie],Ue=[Ue],we.xa){if(5>A){ve=7;break}oe=ie,Le=Ue,Oe=re,p==null||5>A?p=0:5<=A&&p[_+0]==47&&!(p[_+4]>>5)?(be=[0],ot=[0],$e=[0],H(Be=new M,p,_,A),lt(Be,be,ot,$e)?(oe!=null&&(oe[0]=be[0]),Le!=null&&(Le[0]=ot[0]),Oe!=null&&(Oe[0]=$e[0]),p=1):p=0):p=0}else{if(10>A){ve=7;break}oe=Ue,p==null||10>A||!No(p,_+3,A-3)?p=0:(Le=p[_+0]|p[_+1]<<8|p[_+2]<<16,Oe=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=we.Ja||!Oe||!p?p=0:(ie&&(ie[0]=Oe),oe&&(oe[0]=p),p=1))}if(!p||(ie=ie[0],Ue=Ue[0],Pe&&(ce[0]!=ie||ye[0]!=Ue)))return 3;ae!=null&&(ae[0]=we,ae.offset=_-ae.w,e(4294967286>_-ae.w),e(ae.offset==ae.ha-A));break}return ve==0||ve==7&&Pe&&ae==null?(re!=null&&(re[0]|=we.na!=null&&0<we.na.length),z!=null&&(z[0]=ie),X!=null&&(X[0]=Ue),0):ve}function kl(p,_,A){var z=_.width,X=_.height,re=0,ie=0,oe=z,ae=X;if(_.Da=p!=null&&0<p.Da,_.Da&&(oe=p.cd,ae=p.bd,re=p.v,ie=p.j,11>A||(re&=-2,ie&=-2),0>re||0>ie||0>=oe||0>=ae||re+oe>z||ie+ae>X))return 0;if(_.v=re,_.j=ie,_.va=re+oe,_.o=ie+ae,_.U=oe,_.T=ae,_.da=p!=null&&0<p.da,_.da){if(!ct(oe,ae,A=[p.ib],re=[p.hb]))return 0;_.ib=A[0],_.hb=re[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*z/4&&_.hb<3*X/4,_.Kb=0),1}function vs(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function Eo(p,_,A,z){if(z==null||0>=p||0>=_)return 2;if(A!=null){if(A.Da){var X=A.cd,re=A.bd,ie=-2&A.v,oe=-2&A.j;if(0>ie||0>oe||0>=X||0>=re||ie+X>p||oe+re>_)return 2;p=X,_=re}if(A.da){if(!ct(p,_,X=[A.ib],re=[A.hb]))return 2;p=X[0],_=re[0]}}z.width=p,z.height=_;e:{var ae=z.width,ce=z.height;if(p=z.S,0>=ae||0>=ce||!(p>=Ec&&13>p))p=2;else{if(0>=z.Rd&&z.sd==null){ie=re=X=_=0;var ye=(oe=ae*cx[p])*ce;if(11>p||(re=(ce+1)/2*(_=(ae+1)/2),p==12&&(ie=(X=ae)*ce)),(ce=s(ye+2*re+ie))==null){p=1;break e}z.sd=ce,11>p?((ae=z.f.RGBA).eb=ce,ae.fb=0,ae.A=oe,ae.size=ye):((ae=z.f.kb).y=ce,ae.O=0,ae.fa=oe,ae.Fd=ye,ae.f=ce,ae.N=0+ye,ae.Ab=_,ae.Cd=re,ae.ea=ce,ae.W=0+ye+re,ae.Db=_,ae.Ed=re,p==12&&(ae.F=ce,ae.J=0+ye+2*re),ae.Tc=ie,ae.lb=X)}if(_=1,X=z.S,re=z.width,ie=z.height,X>=Ec&&13>X)if(11>X)p=z.f.RGBA,_&=(oe=Math.abs(p.A))*(ie-1)+re<=p.size,_&=oe>=re*cx[X],_&=p.eb!=null;else{p=z.f.kb,oe=(re+1)/2,ye=(ie+1)/2,ae=Math.abs(p.fa),ce=Math.abs(p.Ab);var Pe=Math.abs(p.Db),Le=Math.abs(p.lb),we=Le*(ie-1)+re;_&=ae*(ie-1)+re<=p.Fd,_&=ce*(ye-1)+oe<=p.Cd,_=(_&=Pe*(ye-1)+oe<=p.Ed)&ae>=re&ce>=oe&Pe>=oe,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,X==12&&(_&=Le>=re,_&=we<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||A!=null&&A.fd&&(p=vs(z)),p}var sr=64,ya=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qr=24,bs=32,Cl=8,pr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,_,A){return _[A+0]},P.Predictor3=function(p,_,A){return _[A+1]},P.Predictor4=function(p,_,A){return _[A-1]},P.Predictor5=function(p,_,A){return Ce(Ce(p,_[A+1]),_[A+0])},P.Predictor6=function(p,_,A){return Ce(p,_[A-1])},P.Predictor7=function(p,_,A){return Ce(p,_[A+0])},P.Predictor8=function(p,_,A){return Ce(_[A-1],_[A+0])},P.Predictor9=function(p,_,A){return Ce(_[A+0],_[A+1])},P.Predictor10=function(p,_,A){return Ce(Ce(p,_[A-1]),Ce(_[A+0],_[A+1]))},P.Predictor11=function(p,_,A){var z=_[A+0];return 0>=tt(z>>24&255,p>>24&255,(_=_[A-1])>>24&255)+tt(z>>16&255,p>>16&255,_>>16&255)+tt(z>>8&255,p>>8&255,_>>8&255)+tt(255&z,255&p,255&_)?z:p},P.Predictor12=function(p,_,A){var z=_[A+0];return(Re((p>>24&255)+(z>>24&255)-((_=_[A-1])>>24&255))<<24|Re((p>>16&255)+(z>>16&255)-(_>>16&255))<<16|Re((p>>8&255)+(z>>8&255)-(_>>8&255))<<8|Re((255&p)+(255&z)-(255&_)))>>>0},P.Predictor13=function(p,_,A){var z=_[A-1];return(Je((p=Ce(p,_[A+0]))>>24&255,z>>24&255)<<24|Je(p>>16&255,z>>16&255)<<16|Je(p>>8&255,z>>8&255)<<8|Je(p>>0&255,z>>0&255))>>>0};var qu=P.PredictorAdd0;P.PredictorAdd1=dt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var ei=P.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ac,mr=P.ColorIndexInverseTransform,Pl=P.MapARGB,Oi=P.VP8LColorIndexInverseTransformAlpha,va=P.MapAlpha,_s=P.VP8LPredictorsAdd=[];_s.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Mr,Tr,Xi,ti,Or,ws,ni,Mo,Ll,Di,Ii,Ji,To,Oo,Do,or,$s,gi,xi,fn,on,Mn,wn,Ns,ri,Io,Al,zh,Qi=s(511),Vu=s(2041),$u=s(225),ba=s(767),Uh=0,_a=Vu,Ys=$u,Dr=ba,ii=Qi,Ec=0,El=1,Yu=2,Ml=3,Tl=4,Mc=5,Wh=6,Tc=7,Oc=8,Dc=9,l=10,d=[2,3,7],y=[3,3,11],C=[280,256,256,256,40],W=[0,1,1,1,0],se=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ke=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ee=8,Ve=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],at=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wt=null,Rt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$n=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ir=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Om=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zs=[],Ri=[],es=[],Dm=1,Zu=2,an=[],Nr=[];Te("UpsampleRgbLinePair",$t,3),Te("UpsampleBgrLinePair",mn,3),Te("UpsampleRgbaLinePair",Mi,4),Te("UpsampleBgraLinePair",Vn,4),Te("UpsampleArgbLinePair",fr,4),Te("UpsampleRgba4444LinePair",Rn,2),Te("UpsampleRgb565LinePair",yn,2);var Im=P.UpsampleRgbLinePair,Rm=P.UpsampleBgrLinePair,Hh=P.UpsampleRgbaLinePair,Ic=P.UpsampleBgraLinePair,Ku=P.UpsampleArgbLinePair,qh=P.UpsampleRgba4444LinePair,c3=P.UpsampleRgb565LinePair,Vh=16,$h=1<<Vh-1,Gu=-227,Fm=482,ox=6,u3=(256<<ox)-1,ax=0,d3=s(256),h3=s(256),f3=s(256),p3=s(256),m3=s(Fm-Gu),g3=s(Fm-Gu);Er("YuvToRgbRow",$t,3),Er("YuvToBgrRow",mn,3),Er("YuvToRgbaRow",Mi,4),Er("YuvToBgraRow",Vn,4),Er("YuvToArgbRow",fr,4),Er("YuvToRgba4444Row",Rn,2),Er("YuvToRgb565Row",yn,2);var lx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yh=[0,2,8],x3=[8,7,6,4,4,2,2,2,1,1,1,1],y3=1;this.WebPDecodeRGBA=function(p,_,A,z,X){var re=El,ie=new Ao,oe=new Ie;ie.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var ae=oe.width,ce=oe.height,ye=new bt;if(ye==null||p==null)var Pe=2;else e(ye!=null),Pe=Ti(p,_,A,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Pe!=0?ae=0:(ae!=null&&(ae[0]=ye.width[0]),ce!=null&&(ce[0]=ye.height[0]),ae=1),ae){oe.width=oe.width[0],oe.height=oe.height[0],z!=null&&(z[0]=oe.width),X!=null&&(X[0]=oe.height);e:{if(z=new Zi,(X=new mi).data=p,X.w=_,X.ha=A,X.kd=1,_=[0],e(X!=null),((p=Ti(X.data,X.w,X.ha,null,null,null,_,null,X))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(e(ie!=null),z.data=X.data,z.w=X.w+X.offset,z.ha=X.ha-X.offset,z.put=Bt,z.ac=Ot,z.bc=nn,z.ma=ie,X.xa){if((p=Kr())==null){ie=1;break e}if(function(Le,we){var Ue=[0],Oe=[0],ve=[0];t:for(;;){if(Le==null)return 0;if(we==null)return Le.a=2,0;if(Le.l=we,Le.a=0,H(Le.m,we.data,we.w,we.ha),!lt(Le.m,Ue,Oe,ve)){Le.a=3;break t}if(Le.xb=Zu,we.width=Ue[0],we.height=Oe[0],!Yi(Ue[0],Oe[0],1,Le,null))break t;return 1}return e(Le.a!=0),0}(p,z)){if(z=(_=Eo(z.width,z.height,ie.Oa,ie.ba))==0){t:{z=p;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((A=z.l)!=null),e((X=A.ma)!=null),z.xb!=0){if(z.ca=X.ba,z.tb=X.tb,e(z.ca!=null),!kl(X.Oa,A,Ml)){z.a=2;break n}if(!yo(z,A.width)||A.da)break n;if((A.da||Se(z.ca.S))&&Ne(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ne()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!mt(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!hi(z,z.V,z.Ba,z.c,z.i,A.o,xo))break n;X.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(_=p.a)}else _=p.a}else{if((p=new Vt)==null){ie=1;break e}if(p.Fa=X.na,p.P=X.P,p.qc=X.Sa,fs(p,z)){if((_=Eo(z.width,z.height,ie.Oa,ie.ba))==0){if(p.Aa=0,A=ie.Oa,e((X=p)!=null),A!=null){if(0<(ae=0>(ae=A.Md)?0:100<ae?255:255*ae/100)){for(ce=ye=0;4>ce;++ce)12>(Pe=X.pb[ce]).lc&&(Pe.ia=ae*x3[0>Pe.lc?0:Pe.lc]>>3),ye|=Pe.ia;ye&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=A.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}Mt(p,z)||(_=p.a)}}else _=p.a}_==0&&ie.Oa!=null&&ie.Oa.fd&&(_=vs(ie.ba))}ie=_}re=ie!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var cx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,Y){for(var V="",I=0;I<4;I++)V+=String.fromCharCode(P[Y++]);return V}function f(P,Y){return(P[Y+0]<<0|P[Y+1]<<8|P[Y+2]<<16)>>>0}function m(P,Y){return(P[Y+0]<<0|P[Y+1]<<8|P[Y+2]<<16|P[Y+3]<<24)>>>0}new u;var x=[0],g=[0],b=[],N=new u,k=t,v=function(P,Y){var V={},I=0,R=!1,K=0,U=0;if(V.frames=[],!function(B,G,$,ne){for(var he=0;he<ne;he++)if(B[G+he]!=$.charCodeAt(he))return!0;return!1}(P,Y,"RIFF",4)){var le,Q;for(m(P,Y+=4),Y+=8;Y<P.length;){var Z=h(P,Y),H=m(P,Y+=4);Y+=4;var q=H+(1&H);switch(Z){case"VP8 ":case"VP8L":V.frames[I]===void 0&&(V.frames[I]={}),(M=V.frames[I]).src_off=R?U:Y-8,M.src_size=K+H+8,I++,R&&(R=!1,K=0,U=0);break;case"VP8X":(M=V.header={}).feature_flags=P[Y];var ee=Y+4;M.canvas_width=1+f(P,ee),ee+=3,M.canvas_height=1+f(P,ee),ee+=3;break;case"ALPH":R=!0,K=q+8,U=Y-8;break;case"ANIM":(M=V.header).bgcolor=m(P,Y),ee=Y+4,M.loop_count=(le=P)[(Q=ee)+0]<<0|le[Q+1]<<8,ee+=2;break;case"ANMF":var te,M;(M=V.frames[I]={}).offset_x=2*f(P,Y),Y+=3,M.offset_y=2*f(P,Y),Y+=3,M.width=1+f(P,Y),Y+=3,M.height=1+f(P,Y),Y+=3,M.duration=f(P,Y),Y+=3,te=P[Y++],M.dispose=1&te,M.blend=te>>1&1}Z!="ANMF"&&(Y+=q)}return V}}(k,0);v.response=k,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,j=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,x=[w.canvas_height],g=[w.canvas_width];for(var E=0;E<j.length&&j[E].blend!=0;E++);}var T=j[0],F=N.WebPDecodeRGBA(k,T.src_off,T.src_size,g,x);T.rgba=F,T.imgwidth=g[0],T.imgheight=x[0];for(var D=0;D<g[0]*x[0]*4;D++)b[D]=F[D];return this.width=g,this.height=x,this.data=b,this}(function(t){var e=function(){return typeof g1=="function"},n=function(x,g,b,N){var k=4,v=a;switch(N){case t.image_compression.FAST:k=1,v=s;break;case t.image_compression.MEDIUM:k=6,v=c;break;case t.image_compression.SLOW:k=9,v=u}x=r(x,g,b,v);var w=g1(x,{level:k});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(x,g,b,N){for(var k,v,w,j=x.length/g,E=new Uint8Array(x.length+j),T=f(),F=0;F<j;F+=1){if(w=F*g,k=x.subarray(w,w+g),N)E.set(N(k,b,v),w+F);else{for(var D,P=T.length,Y=[];D<P;D+=1)Y[D]=T[D](k,b,v);var V=m(Y.concat());E.set(Y[V],w+F)}v=k}return E},i=function(x){var g=Array.apply([],x);return g.unshift(0),g},s=function(x,g){var b,N=[],k=x.length;N[0]=1;for(var v=0;v<k;v+=1)b=x[v-g]||0,N[v+1]=x[v]-b+256&255;return N},a=function(x,g,b){var N,k=[],v=x.length;k[0]=2;for(var w=0;w<v;w+=1)N=b&&b[w]||0,k[w+1]=x[w]-N+256&255;return k},c=function(x,g,b){var N,k,v=[],w=x.length;v[0]=3;for(var j=0;j<w;j+=1)N=x[j-g]||0,k=b&&b[j]||0,v[j+1]=x[j]+256-(N+k>>>1)&255;return v},u=function(x,g,b){var N,k,v,w,j=[],E=x.length;j[0]=4;for(var T=0;T<E;T+=1)N=x[T-g]||0,k=b&&b[T]||0,v=b&&b[T-g]||0,w=h(N,k,v),j[T+1]=x[T]-w+256&255;return j},h=function(x,g,b){if(x===g&&g===b)return x;var N=Math.abs(g-b),k=Math.abs(x-b),v=Math.abs(x+g-b-b);return N<=k&&N<=v?x:k<=v?g:b},f=function(){return[i,s,a,c,u]},m=function(x){var g=x.map(function(b){return b.reduce(function(N,k){return N+Math.abs(k)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(x,g,b,N){var k,v,w,j,E,T,F,D,P,Y,V,I,R,K,U,le=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(w=new z8(x)).imgData,v=w.bits,k=w.colorSpace,E=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){P=(D=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,V=new Uint8Array(P*w.colors),Y=new Uint8Array(P);var Z,H=w.pixelBitlength-w.bits;for(K=0,U=0;K<P;K++){for(R=D[K],Z=0;Z<H;)V[U++]=R>>>Z&255,Z+=w.bits;Y[K]=R>>>Z&255}}if(w.bits===16){P=(D=new Uint32Array(w.decodePixels().buffer)).length,V=new Uint8Array(P*(32/w.pixelBitlength)*w.colors),Y=new Uint8Array(P*(32/w.pixelBitlength)),I=w.colors>1,K=0,U=0;for(var q=0;K<P;)R=D[K++],V[U++]=R>>>0&255,I&&(V[U++]=R>>>16&255,R=D[K++],V[U++]=R>>>0&255),Y[q++]=R>>>16&255;v=8}N!==t.image_compression.NONE&&e()?(x=n(V,w.width*w.colors,w.colors,N),F=n(Y,w.width,1,N)):(x=V,F=Y,le=void 0)}if(w.colorType===3&&(k=this.color_spaces.INDEXED,T=w.palette,w.transparency.indexed)){var ee=w.transparency.indexed,te=0;for(K=0,P=ee.length;K<P;++K)te+=ee[K];if((te/=255)===P-1&&ee.indexOf(0)!==-1)j=[ee.indexOf(0)];else if(te!==P){for(D=w.decodePixels(),Y=new Uint8Array(D.length),K=0,P=D.length;K<P;K++)Y[K]=ee[D[K]];F=n(Y,w.width,1)}}var M=function(B){var G;switch(B){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(N);return le===this.decode.FLATE_DECODE&&(Q="/Predictor "+M+" "),Q+="/Colors "+E+" /BitsPerComponent "+v+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:b,data:x,index:g,filter:le,decodeParameters:Q,transparency:j,palette:T,sMask:F,predictor:M,width:w.width,height:w.height,bitsPerComponent:v,colorSpace:k}}}})(vt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new U8(e),a=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:a,height:c},f=new Dg(100).encode(h,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(vt.API),Cs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){xn.log("bit decode error:"+n)}},Cs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[a+4*c]=u.blue,this.data[a+4*c+1]=u.green,this.data[a+4*c+2]=u.red,this.data[a+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Cs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,c=s>>4,u=15&s,h=this.palette[c];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Cs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Cs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,h=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=h}this.pos+=t}},Cs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&e)/e*255|0,u=(a>>5&n)/n*255|0,h=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=h,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=t}},Cs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Cs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=a}},Cs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Cs(e,!1),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},h=new Dg(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)}}(vt.API),Cv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Cv(e),a=s.width,c=s.height,u={data:s.getData(),width:a,height:c},h=new Dg(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)}}(vt.API),vt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),c=0,u=0,h=0;h<i;h+=4){var f=r[h],m=r[h+1],x=r[h+2],g=r[h+3];s[c++]=f,s[c++]=m,s[c++]=x,a[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hc=vt.API,Af=Hc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,m=e.doKerning!==!1,x=0,g=t.length,b=0,N=c[0]||u,k=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(x=m&&dn(h[r])==="object"&&!isNaN(parseInt(h[r][b],10))?h[r][b]/f:0,k.push((c[r]||N)/u+x)),b=r;return k},Nv=Hc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Hc.processArabic&&(t=Hc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Af.apply(this,arguments).reduce(function(s,a){return s+a},0)},jv=function(t,e,n,r){for(var i=[],s=0,a=t.length,c=0;s!==a&&c+e[s]<n;)c+=e[s],s++;i.push(t.slice(0,s));var u=s;for(c=0;s!==a;)c+e[s]>r&&(i.push(t.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(t.slice(u,s)),i},Sv=function(t,e,n){n||(n={});var r,i,s,a,c,u,h,f=[],m=[f],x=n.textIndent||0,g=0,b=0,N=t.split(" "),k=Af.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var v=Array(u).join(" "),w=[];N.map(function(E){(E=E.split(/\s*\n/)).length>1?w=w.concat(E.map(function(T,F){return(F&&T.length?`
`:"")+T})):w.push(E[0])}),N=w,u=Nv.apply(this,[v,n])}for(s=0,a=N.length;s<a;s++){var j=0;if(r=N[s],u&&r[0]==`
`&&(r=r.substr(1),j=1),x+g+(b=(i=Af.apply(this,[r,n])).reduce(function(E,T){return E+T},0))>e||j){if(b>e){for(c=jv.apply(this,[r,i,e-(x+g),e]),f.push(c.shift()),f=[c.pop()];c.length;)m.push([c.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(E,T){return E+T},0)}else f=[r];m.push(f),x=b+u,g=k}else f.push(r),x+=g+b,g=k}return h=u?function(E,T){return(T?v:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(h)},Hc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var c,u,h=[];for(c=0,u=r.length;c<u;c++)h=h.concat(Sv.apply(this,[r[c],a,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var x,g,b,N,k=["{"];for(var v in m){if(x=m[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=s(v).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof x=="number")x<0?(b=s(x).slice(3),N="-"):(b=s(x).slice(2),N=""),b=N+b.slice(0,-1)+r[b.slice(-1)];else{if(dn(x)!=="object")throw new Error("Don't know what to do with value type "+dn(x)+".");b=a(x)}k.push(g+b)}return k.push("}"),k.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,g,b,N,k={},v=1,w=k,j=[],E="",T="",F=m.length-1,D=1;D<F;D+=1)(N=m[D])=="'"?x?(b=x.join(""),x=void 0):x=[]:x?x.push(N):N=="{"?(j.push([w,b]),w={},b=void 0):N=="}"?((g=j.pop())[0][g[1]]=w,b=void 0,w=g[0]):N=="-"?v=-1:b===void 0?n.hasOwnProperty(N)?(E+=n[N],b=parseInt(E,16)*v,v=1,E=""):E+=N:n.hasOwnProperty(N)?(T+=n[N],w[b]=parseInt(T,16)*v,v=1,b=void 0,T=""):T+=N;return k},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var x=m.font,g=f.Unicode[x.postScriptName];g&&(x.metadata.Unicode={},x.metadata.Unicode.widths=g.widths,x.metadata.Unicode.kerning=g.kerning);var b=h.Unicode[x.postScriptName];b&&(x.metadata.Unicode.encoding=b,x.encoding=b.codePages[0])}])}(vt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Wd(c)),a.metadata=t.API.TTFFont.open(c),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(vt),function(t){function e(){return(kt.canvg?Promise.resolve(kt.canvg):u1(()=>import("./index.es-DSh7ZUXm.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}vt.API.addSvgAsImage=function(n,r,i,s,a,c,u,h){if(isNaN(r)||isNaN(i))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(m,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(x)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),r,i,s,a,u,h)})}}(),vt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},vt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],h=0,f=0,m=0;function x(b,N){var k,v=!1;for(k=0;k<b.length;k+=1)b[k]===N&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=c.length;for(m=0;m<g;m+=1)n[c[m]].value=n[c[m]].defaultValue,n[c[m]].explicitSet=!1}if(dn(t)==="object"){for(i in t)if(s=t[i],x(c,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&x(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")u.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)typeof s[h][f]!="number"&&(r=!1);r===!0&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?N.push("/"+b+" /"+n[b].value):N.push("/"+b+" "+n[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(vt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var c,u=a.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],m=0,x=s.length;m<x;++m){if(c=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(c),a.metadata.toUnicode[c]=s.charCodeAt(m),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(a.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(h[4-c.length],c)}return f.join("")},r=function(s){var a,c,u,h,f,m,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(c=Object.keys(s).sort(function(g,b){return g-b})).length;m<x;m++)a=c[m],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+h+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,h=a.newObject,f=a.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",b=0;b<x.length;b++)g+=String.fromCharCode(x[b]);var N=h();f({data:g,addLength1:!0,objectId:N}),u("endobj");var k=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var v=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Jc(c.fontName)),u("/FontFile2 "+N+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var w=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Jc(c.fontName)),u("/FontDescriptor "+v+" 0 R"),u("/W "+t.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+Jc(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+w+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var c=a.font,u=a.out,h=a.newObject,f=a.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,x="",g=0;g<m.length;g++)x+=String.fromCharCode(m[g]);var b=h();f({data:x,addLength1:!0,objectId:b}),u("endobj");var N=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var k=h();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Jc(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=h();for(var v=0;v<c.metadata.hmtx.widths.length;v++)c.metadata.hmtx.widths[v]=parseInt(c.metadata.hmtx.widths[v]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Jc(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,c=s.text||"",u=s.x,h=s.y,f=s.options||{},m=s.mutex||{},x=m.pdfEscape,g=m.activeFontKey,b=m.fonts,N=g,k="",v=0,w="",j=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:c,x:u,y:h,options:f,mutex:m};for(w=c,N=g,Array.isArray(c)&&(w=c[0]),v=0;v<w.length;v+=1)b[N].metadata.hasOwnProperty("cmap")&&(a=b[N].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),a||w[v].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?k+=w[v]:k+="";var E="";return parseInt(N.slice(1))<14||j==="WinAnsiEncoding"?E=x(k,N).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(E=n(k,b[N])),m.isHex=!0,{text:E,x:u,y:h,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",c=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?c.push([i(Object.assign({},u,{text:a[h][0]})).text,a[h][1],a[h][2]]):c.push(i(Object.assign({},u,{text:a[h]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:a})).text}])}(vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,c,u,h,f,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var E=function(I){var R=I.charCodeAt(),K=R>>8,U=N[K];return U!==void 0?m[256*U+(255&R)]:K===252||K===253?"AL":v.test(K)?"L":K===8?"R":"N"},T=function(I){for(var R,K=0;K<I.length;K++){if((R=E(I.charAt(K)))==="L")return!1;if(R==="R")return!0}return!1},F=function(I,R,K,U){var le,Q,Z,H,q=R[U];switch(q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(q="AN");break;case"AL":w=!0,q="R";break;case"WS":q="N";break;case"CS":U<1||U+1>=R.length||(le=K[U-1])!=="EN"&&le!=="AN"||(Q=R[U+1])!=="EN"&&Q!=="AN"?q="N":w&&(Q="AN"),q=Q===le?Q:"N";break;case"ES":q=(le=U>0?K[U-1]:"B")==="EN"&&U+1<R.length&&R[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&K[U-1]==="EN"){q="EN";break}if(w){q="N";break}for(Z=U+1,H=R.length;Z<H&&R[Z]==="ET";)Z++;q=Z<H&&R[Z]==="EN"?"EN":"N";break;case"NSM":if(a&&!c){for(H=R.length,Z=U+1;Z<H&&R[Z]==="NSM";)Z++;if(Z<H){var ee=I[U],te=ee>=1425&&ee<=2303||ee===64286;if(le=R[Z],te&&(le==="R"||le==="AL")){q="R";break}}}q=U<1||(le=R[U-1])==="B"?"N":K[U-1];break;case"B":w=!1,i=!0,q=j;break;case"S":s=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":q="N"}return q},D=function(I,R,K){var U=I.split("");return K&&P(U,K,{hiLevel:j}),U.reverse(),R&&R.reverse(),U.join("")},P=function(I,R,K){var U,le,Q,Z,H,q=-1,ee=I.length,te=0,M=[],B=j?g:x,G=[];for(w=!1,i=!1,s=!1,le=0;le<ee;le++)G[le]=E(I[le]);for(Q=0;Q<ee;Q++){if(H=te,M[Q]=F(I,G,M,Q),U=240&(te=B[H][b[M[Q]]]),te&=15,R[Q]=Z=B[te][5],U>0)if(U===16){for(le=q;le<Q;le++)R[le]=1;q=-1}else q=-1;if(B[te][6])q===-1&&(q=Q);else if(q>-1){for(le=q;le<Q;le++)R[le]=Z;q=-1}G[Q]==="B"&&(R[Q]=0),K.hiLevel|=Z}s&&function($,ne,he){for(var pe=0;pe<he;pe++)if($[pe]==="S"){ne[pe]=j;for(var _e=pe-1;_e>=0&&$[_e]==="WS";_e--)ne[_e]=j}}(G,R,ee)},Y=function(I,R,K,U,le){if(!(le.hiLevel<I)){if(I===1&&j===1&&!i)return R.reverse(),void(K&&K.reverse());for(var Q,Z,H,q,ee=R.length,te=0;te<ee;){if(U[te]>=I){for(H=te+1;H<ee&&U[H]>=I;)H++;for(q=te,Z=H-1;q<Z;q++,Z--)Q=R[q],R[q]=R[Z],R[Z]=Q,K&&(Q=K[q],K[q]=K[Z],K[Z]=Q);te=H}te++}}},V=function(I,R,K){var U=I.split(""),le={hiLevel:j};return K||(K=[]),P(U,K,le),function(Q,Z,H){if(H.hiLevel!==0&&f)for(var q,ee=0;ee<Q.length;ee++)Z[ee]===1&&(q=k.indexOf(Q[ee]))>=0&&(Q[ee]=k[q+1])}(U,K,le),Y(2,U,R,K,le),Y(1,U,R,K,le),U.join("")};return this.__bidiEngine__.doBidiReorder=function(I,R,K){if(function(le,Q){if(Q)for(var Z=0;Z<le.length;Z++)Q[Z]=Z;c===void 0&&(c=T(le)),h===void 0&&(h=T(le))}(I,R),a||!u||h)if(a&&u&&c^h)j=c?1:0,I=D(I,R,K);else if(!a&&u&&h)j=c?1:0,I=V(I,R,K),I=D(I,R);else if(!a||c||u||h){if(a&&!u&&c^h)I=D(I,R),c?(j=0,I=V(I,R,K)):(j=1,I=V(I,R,K),I=D(I,R));else if(a&&c&&!u&&h)j=1,I=V(I,R,K),I=D(I,R);else if(!a&&!u&&c^h){var U=f;c?(j=1,I=V(I,R,K),j=0,f=!1,I=V(I,R,K),f=U):(j=0,I=V(I,R,K),I=D(I,R),j=1,f=!1,I=V(I,R,K),f=U,I=D(I,R))}}else j=0,I=V(I,R,K);else j=c?1:0,I=V(I,R,K);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,u=I.isOutputVisual,c=I.isInputRtl,h=I.isOutputRtl,f=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(a=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?a.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):a.push([n.doBidiReorder(i[c])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new al(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new n7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new W8(this.contents),this.head=new q8(this),this.name=new K8(this),this.cmap=new o4(this),this.toUnicode={},this.hhea=new V8(this),this.maxp=new G8(this),this.hmtx=new X8(this),this.post=new Y8(this),this.os2=new $8(this),this.loca=new t7(this),this.glyf=new J8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,c,u,h;for(h=[],a=0,c=(u=this.bbox).length;a<c;a++)e=u[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,c;for(a=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Rs,al=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,c,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*c+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),W8=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,c,u,h,f,m,x,g,b,N;for(N in g=Object.keys(n).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),a=Math.floor(m/u),f=16*g-m,(i=new al).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(a),i.writeShort(f),s=16*g,h=i.pos+s,c=null,b=[],n)for(x=n[N],i.writeString(N),i.writeInt(t(x)),i.writeInt(h),i.writeInt(x.length),b=b.concat(x),N==="head"&&(c=h),h+=x.length;h%4;)b.push(0),h++;return i.write(b),r=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=a4.call(n);n.length%4;)n.push(0);for(s=new al(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),H8={}.hasOwnProperty,mo=function(t,e){for(var n in e)H8.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Rs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var q8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new al).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Pv=function(){function t(e,n){var r,i,s,a,c,u,h,f,m,x,g,b,N,k,v,w,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,s=function(){var E,T;for(T=[],u=E=0;0<=x?E<x:E>x;u=0<=x?++E:--E)T.push(e.readUInt16());return T}(),e.pos+=2,N=function(){var E,T;for(T=[],u=E=0;0<=x?E<x:E>x;u=0<=x?++E:--E)T.push(e.readUInt16());return T}(),h=function(){var E,T;for(T=[],u=E=0;0<=x?E<x:E>x;u=0<=x?++E:--E)T.push(e.readUInt16());return T}(),f=function(){var E,T;for(T=[],u=E=0;0<=x?E<x:E>x;u=0<=x?++E:--E)T.push(e.readUInt16());return T}(),i=(this.length-e.pos+this.offset)/2,c=function(){var E,T;for(T=[],u=E=0;0<=i?E<i:E>i;u=0<=i?++E:--E)T.push(e.readUInt16());return T}(),u=v=0,j=s.length;v<j;u=++v)for(k=s[u],r=w=b=N[u];b<=k?w<=k:w>=k;r=b<=k?++w:--w)f[u]===0?a=r+h[u]:(a=c[f[u]/2+(r-b)-(x-u)]||0)!==0&&(a+=h[u]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,c,u,h,f,m,x,g,b,N,k,v,w,j,E,T,F,D,P,Y,V,I,R,K,U,le,Q,Z,H,q,ee,te,M,B,G,$,ne,he,pe,_e,Me,De,We;switch(U=new al,a=Object.keys(e).sort(function(qe,mt){return qe-mt}),n){case"macroman":for(N=0,k=function(){var qe=[];for(b=0;b<256;++b)qe.push(0);return qe}(),w={0:0},s={},le=0,q=a.length;le<q;le++)w[_e=e[i=a[le]]]==null&&(w[_e]=++N),s[i]={old:e[i],new:w[e[i]]},k[i]=w[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(k),{charMap:s,subtable:U.data,maxGlyphID:N+1};case"unicode":for(R=[],m=[],j=0,w={},r={},v=h=null,Q=0,ee=a.length;Q<ee;Q++)w[T=e[i=a[Q]]]==null&&(w[T]=++j),r[i]={old:T,new:w[T]},c=w[T]-i,v!=null&&c===h||(v&&m.push(v),R.push(i),h=c),v=i;for(v&&m.push(v),m.push(65535),R.push(65535),V=2*(Y=R.length),P=2*Math.pow(Math.log(Y)/Math.LN2,2),x=Math.log(P/2)/Math.LN2,D=2*Y-P,u=[],F=[],g=[],b=Z=0,te=R.length;Z<te;b=++Z){if(I=R[b],f=m[b],I===65535){u.push(0),F.push(0);break}if(I-(K=r[I].new)>=32768)for(u.push(0),F.push(2*(g.length+Y-b)),i=H=I;I<=f?H<=f:H>=f;i=I<=f?++H:--H)g.push(r[i].new);else u.push(K-I),F.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*Y+2*g.length),U.writeUInt16(0),U.writeUInt16(V),U.writeUInt16(P),U.writeUInt16(x),U.writeUInt16(D),he=0,M=m.length;he<M;he++)i=m[he],U.writeUInt16(i);for(U.writeUInt16(0),pe=0,B=R.length;pe<B;pe++)i=R[pe],U.writeUInt16(i);for(Me=0,G=u.length;Me<G;Me++)c=u[Me],U.writeUInt16(c);for(De=0,$=F.length;De<$;De++)E=F[De],U.writeUInt16(E);for(We=0,ne=g.length;We<ne;We++)N=g[We],U.writeUInt16(N);return{charMap:r,subtable:U.data,maxGlyphID:j+1}}},t}(),o4=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Pv(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Pv.encode(n,r),(s=new al).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),V8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),$8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Y8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,h;for(h=[],a=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;a=0<=u?++c:--c)h.push(n.readUInt32());return h}).call(this)}},e}(),Z8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},K8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,c,u,h,f,m,x,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(h={},a=m=0,x=i.length;m<x;a=++m)s=i[a],n.pos=s.offset,f=n.readString(s.length),c=new Z8(f,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),G8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),X8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,c,u,h;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)m.push(n.readInt16());return m}(),this.widths=(function(){var f,m,x,g;for(g=[],f=0,m=(x=this.metrics).length;f<m;f++)a=x[f],g.push(a.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),a4=[].slice,J8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,c,u,h,f,m,x;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,c=(u=new al(r.read(s))).readShort(),f=u.readShort(),x=u.readShort(),h=u.readShort(),m=u.readShort(),this.cache[n]=c===-1?new e7(u,f,x,h,m):new Q8(u,c,f,x,h,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,c,u,h;for(c=[],a=[],u=0,h=r.length;u<h;u++)s=n[r[u]],a.push(c.length),s&&(c=c.concat(s.encode(i)));return a.push(c.length),{table:c,offsets:a}},e}(),Q8=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),e7=function(){function t(e,n,r,i,s){var a,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;c=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&c;)a.pos+=1&c?4:2,128&c?a.pos+=8:64&c?a.pos+=4:8&c&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new al(a4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),t7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Rs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,c=0;c<i.length;++c)if(i[c]=s,a<r.length&&r[a]==c){++a,i[c]=s;var u=this.offsets[c],h=this.offsets[c+1]-u;h>0&&(s+=h)}for(var f=new Array(4*i.length),m=0;m<i.length;++m)f[4*m+3]=255&i[m],f[4*m+2]=(65280&i[m])>>8,f[4*m+1]=(16711680&i[m])>>16,f[4*m]=(4278190080&i[m])>>24;return f},e}(),n7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,c,u;for(i={},a=0,c=e.length;a<c;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))r=u[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,c,u,h,f,m,x,g,b,N,k,v;for(i in r=o4.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},v=r.charMap)g[(u=v[i]).old]=u.new;for(b in x=r.maxGlyphID,a)b in g||(g[b]=x++);return f=function(w){var j,E;for(j in E={},w)E[w[j]]=j;return E}(g),m=Object.keys(f).sort(function(w,j){return w-j}),N=function(){var w,j,E;for(E=[],w=0,j=m.length;w<j;w++)c=m[w],E.push(f[c]);return E}(),s=this.font.glyf.encode(a,N,g),h=this.font.loca.encode(s.offsets,N),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();vt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var c,u,h;for(h=[],c=0,u=n.length;c<u;c++)r=n[c],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const r7=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:O8,AcroFormAppearance:pt,AcroFormButton:lr,AcroFormCheckBox:Vd,AcroFormChoiceField:tc,AcroFormComboBox:rc,AcroFormEditBox:Hd,AcroFormListBox:nc,AcroFormPasswordField:$d,AcroFormPushButton:qd,AcroFormRadioButton:ic,AcroFormTextField:nl,GState:bh,ShadingPattern:Ba,TilingPattern:Gl,default:vt,jsPDF:vt},Symbol.toStringTag,{value:"Module"}));var i7={exports:{}};const s7=O3(r7);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return s7}catch{}}())})(typeof globalThis<"u"?globalThis:typeof np<"u"?np:typeof window<"u"?window:typeof self<"u"?self:np,function(n){return function(){var r={172:function(c,u){var h=this&&this.__extends||function(){var x=function(g,b){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,k){N.__proto__=k}||function(N,k){for(var v in k)Object.prototype.hasOwnProperty.call(k,v)&&(N[v]=k[v])},x(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");x(g,b);function N(){this.constructor=g}g.prototype=b===null?Object.create(b):(N.prototype=b.prototype,new N)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var f=function(){function x(g,b,N){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=N,this.doc=g.getDocument()}return x}();u.HookData=f;var m=function(x){h(g,x);function g(b,N,k,v,w,j){var E=x.call(this,b,N,j)||this;return E.cell=k,E.row=v,E.column=w,E.section=v.section,E}return g}(f);u.CellHookData=m},340:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0});var f=h(4),m=h(136),x=h(744),g=h(776),b=h(664),N=h(972);function k(v){v.API.autoTable=function(){for(var w=[],j=0;j<arguments.length;j++)w[j]=arguments[j];var E;w.length===1?E=w[0]:(console.error("Use of deprecated autoTable initiation"),E=w[2]||{},E.columns=w[0],E.body=w[1]);var T=(0,g.parseInput)(this,E),F=(0,N.createTable)(this,T);return(0,b.drawTable)(this,F),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(w,j,E,T){(0,m.default)(w,j,E,T,this)},v.API.autoTableSetDefaults=function(w){return x.DocHandler.setDefaults(w,this),this},v.autoTableSetDefaults=function(w,j){x.DocHandler.setDefaults(w,j)},v.API.autoTableHtmlToJson=function(w,j){var E;if(j===void 0&&(j=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var T=new x.DocHandler(this),F=(0,f.parseHtml)(T,w,window,j,!1),D=F.head,P=F.body,Y=((E=D[0])===null||E===void 0?void 0:E.map(function(V){return V.content}))||[];return{columns:Y,rows:P,data:P}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},v.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=w,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=k},136:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function h(f,m,x,g,b){g=g||{};var N=1.15,k=b.internal.scaleFactor,v=b.internal.getFontSize()/k,w=b.getLineHeightFactor?b.getLineHeightFactor():N,j=v*w,E=/\r\n|\r|\n/g,T="",F=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(T=typeof f=="string"?f.split(E):f,F=T.length||1),x+=v*(2-N),g.valign==="middle"?x-=F/2*j:g.valign==="bottom"&&(x-=F*j),g.halign==="center"||g.halign==="right"){var D=v;if(g.halign==="center"&&(D*=.5),T&&F>=1){for(var P=0;P<T.length;P++)b.text(T[P],m-b.getStringUnitWidth(T[P])*D,x),x+=j;return b}m-=b.getStringUnitWidth(f)*D}return g.halign==="justify"?b.text(f,m,x,{maxWidth:g.maxWidth||100,align:"justify"}):b.text(f,m,x),b}u.default=h},420:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function h(b,N,k){k.applyStyles(N,!0);var v=Array.isArray(b)?b:[b],w=v.map(function(j){return k.getTextWidth(j)}).reduce(function(j,E){return Math.max(j,E)},0);return w}u.getStringWidth=h;function f(b,N,k,v){var w=N.settings.tableLineWidth,j=N.settings.tableLineColor;b.applyStyles({lineWidth:w,lineColor:j});var E=m(w,!1);E&&b.rect(k.x,k.y,N.getWidth(b.pageSize().width),v.y-k.y,E)}u.addTableBorder=f;function m(b,N){var k=b>0,v=N||N===0;return k&&v?"DF":k?"S":v?"F":null}u.getFillStyle=m;function x(b,N){var k,v,w,j;if(b=b||N,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=N}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(k=b.left)!==null&&k!==void 0?k:N,top:(v=b.top)!==null&&v!==void 0?v:N,right:(w=b.right)!==null&&w!==void 0?w:N,bottom:(j=b.bottom)!==null&&j!==void 0?j:N}):(typeof b!="number"&&(b=N),{top:b,right:b,bottom:b,left:b})}u.parseSpacing=x;function g(b,N){var k=x(N.settings.margin,0);return b.pageSize().width-(k.left+k.right)}u.getPageAvailableWidth=g},796:function(c,u){var h=this&&this.__extends||function(){var g=function(b,N){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,v){k.__proto__=v}||function(k,v){for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(k[w]=v[w])},g(b,N)};return function(b,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");g(b,N);function k(){this.constructor=b}b.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var f=function(g){h(b,g);function b(N){var k=g.call(this)||this;return k._element=N,k}return b}(Array);u.HtmlRowInput=f;function m(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=m;function x(g){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[g]}u.getTheme=x},903:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var f=h(420);function m(k,v,w,j,E){var T={},F=1.3333333333333333,D=g(v,function(q){return E.getComputedStyle(q).backgroundColor});D!=null&&(T.fillColor=D);var P=g(v,function(q){return E.getComputedStyle(q).color});P!=null&&(T.textColor=P);var Y=N(j,w);Y&&(T.cellPadding=Y);var V="borderTopColor",I=F*w,R=j.borderTopWidth;if(j.borderBottomWidth===R&&j.borderRightWidth===R&&j.borderLeftWidth===R){var K=(parseFloat(R)||0)/I;K&&(T.lineWidth=K)}else T.lineWidth={top:(parseFloat(j.borderTopWidth)||0)/I,right:(parseFloat(j.borderRightWidth)||0)/I,bottom:(parseFloat(j.borderBottomWidth)||0)/I,left:(parseFloat(j.borderLeftWidth)||0)/I},T.lineWidth.top||(T.lineWidth.right?V="borderRightColor":T.lineWidth.bottom?V="borderBottomColor":T.lineWidth.left&&(V="borderLeftColor"));console.log(T.lineWidth);var U=g(v,function(q){return E.getComputedStyle(q)[V]});U!=null&&(T.lineColor=U);var le=["left","right","center","justify"];le.indexOf(j.textAlign)!==-1&&(T.halign=j.textAlign),le=["middle","bottom","top"],le.indexOf(j.verticalAlign)!==-1&&(T.valign=j.verticalAlign);var Q=parseInt(j.fontSize||"");isNaN(Q)||(T.fontSize=Q/F);var Z=x(j);Z&&(T.fontStyle=Z);var H=(j.fontFamily||"").toLowerCase();return k.indexOf(H)!==-1&&(T.font=H),T}u.parseCss=m;function x(k){var v="";return(k.fontWeight==="bold"||k.fontWeight==="bolder"||parseInt(k.fontWeight)>=700)&&(v="bold"),(k.fontStyle==="italic"||k.fontStyle==="oblique")&&(v+="italic"),v}function g(k,v){var w=b(k,v);if(!w)return null;var j=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!j||!Array.isArray(j))return null;var E=[parseInt(j[1]),parseInt(j[2]),parseInt(j[3])],T=parseInt(j[4]);return T===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function b(k,v){var w=v(k);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?k.parentElement==null?null:b(k.parentElement,v):w}function N(k,v){var w=[k.paddingTop,k.paddingRight,k.paddingBottom,k.paddingLeft],j=96/(72/v),E=(parseInt(k.lineHeight)-parseInt(k.fontSize))/v/2,T=w.map(function(D){return parseInt(D||"0")/j}),F=(0,f.parseSpacing)(T,0);return E>F.top&&(F.top=E),E>F.bottom&&(F.bottom=E),F}},744:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var h={},f=function(){function m(x){this.jsPDFDocument=x,this.userStyles={textColor:x.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:x.internal.getFontSize(),fontStyle:x.internal.getFont().fontStyle,font:x.internal.getFont().fontName,lineWidth:x.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:x.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(x,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=x:h=x},m.unifyColor=function(x){return Array.isArray(x)?x:typeof x=="number"?[x,x,x]:typeof x=="string"?[x]:null},m.prototype.applyStyles=function(x,g){var b,N,k;g===void 0&&(g=!1),x.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(x.fontStyle);var v=this.jsPDFDocument.internal.getFont(),w=v.fontStyle,j=v.fontName;if(x.font&&(j=x.font),x.fontStyle){w=x.fontStyle;var E=this.getFontList()[j];E&&E.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),w=E[0])}if(this.jsPDFDocument.setFont(j,w),x.fontSize&&this.jsPDFDocument.setFontSize(x.fontSize),!g){var T=m.unifyColor(x.fillColor);T&&(b=this.jsPDFDocument).setFillColor.apply(b,T),T=m.unifyColor(x.textColor),T&&(N=this.jsPDFDocument).setTextColor.apply(N,T),T=m.unifyColor(x.lineColor),T&&(k=this.jsPDFDocument).setDrawColor.apply(k,T),typeof x.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(x.lineWidth)}},m.prototype.splitTextToSize=function(x,g,b){return this.jsPDFDocument.splitTextToSize(x,g,b)},m.prototype.rect=function(x,g,b,N,k){return this.jsPDFDocument.rect(x,g,b,N,k)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(x){return this.jsPDFDocument.getTextWidth(x)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(x){this.jsPDFDocument.setPage(x)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return h||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var x=this.jsPDFDocument.internal.pageSize;return x.width==null&&(x={width:x.getWidth(),height:x.getHeight()}),x},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var x=this.jsPDFDocument;return x.getLineHeightFactor?x.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(x){return x/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var x=this.jsPDFDocument.internal.getCurrentPageInfo();return x?x.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();u.DocHandler=f},4:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var f=h(903),m=h(796);function x(N,k,v,w,j){var E,T;w===void 0&&(w=!1),j===void 0&&(j=!1);var F;typeof k=="string"?F=v.document.querySelector(k):F=k;var D=Object.keys(N.getFontList()),P=N.scaleFactor(),Y=[],V=[],I=[];if(!F)return console.error("Html table could not be found with input: ",k),{head:Y,body:V,foot:I};for(var R=0;R<F.rows.length;R++){var K=F.rows[R],U=(T=(E=K==null?void 0:K.parentElement)===null||E===void 0?void 0:E.tagName)===null||T===void 0?void 0:T.toLowerCase(),le=g(D,P,v,K,w,j);le&&(U==="thead"?Y.push(le):U==="tfoot"?I.push(le):V.push(le))}return{head:Y,body:V,foot:I}}u.parseHtml=x;function g(N,k,v,w,j,E){for(var T=new m.HtmlRowInput(w),F=0;F<w.cells.length;F++){var D=w.cells[F],P=v.getComputedStyle(D);if(j||P.display!=="none"){var Y=void 0;E&&(Y=(0,f.parseCss)(N,D,k,P,v)),T.push({rowSpan:D.rowSpan,colSpan:D.colSpan,styles:Y,_element:D,content:b(D)})}}var V=v.getComputedStyle(w);if(T.length>0&&(j||V.display!=="none"))return T}function b(N){var k=N.cloneNode(!0);return k.innerHTML=k.innerHTML.replace(/\n/g,"").replace(/ +/g," "),k.innerHTML=k.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),k.innerText||k.textContent||""}},776:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var f=h(4),m=h(356),x=h(420),g=h(744),b=h(792);function N(F,D){var P=new g.DocHandler(F),Y=P.getDocumentOptions(),V=P.getGlobalOptions();(0,b.default)(P,V,Y,D);var I=(0,m.assign)({},V,Y,D),R;typeof window<"u"&&(R=window);var K=k(V,Y,D),U=v(V,Y,D),le=w(P,I),Q=E(P,I,R);return{id:D.tableId,content:Q,hooks:U,styles:K,settings:le}}u.parseInput=N;function k(F,D,P){for(var Y={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},V=function(U){if(U==="columnStyles"){var le=F[U],Q=D[U],Z=P[U];Y.columnStyles=(0,m.assign)({},le,Q,Z)}else{var H=[F,D,P],q=H.map(function(ee){return ee[U]||{}});Y[U]=(0,m.assign)({},q[0],q[1],q[2])}},I=0,R=Object.keys(Y);I<R.length;I++){var K=R[I];V(K)}return Y}function v(F,D,P){for(var Y=[F,D,P],V={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},I=0,R=Y;I<R.length;I++){var K=R[I];K.didParseCell&&V.didParseCell.push(K.didParseCell),K.willDrawCell&&V.willDrawCell.push(K.willDrawCell),K.didDrawCell&&V.didDrawCell.push(K.didDrawCell),K.willDrawPage&&V.willDrawPage.push(K.willDrawPage),K.didDrawPage&&V.didDrawPage.push(K.didDrawPage)}return V}function w(F,D){var P,Y,V,I,R,K,U,le,Q,Z,H,q,ee=(0,x.parseSpacing)(D.margin,40/F.scaleFactor()),te=(P=j(F,D.startY))!==null&&P!==void 0?P:ee.top,M;D.showFoot===!0?M="everyPage":D.showFoot===!1?M="never":M=(Y=D.showFoot)!==null&&Y!==void 0?Y:"everyPage";var B;D.showHead===!0?B="everyPage":D.showHead===!1?B="never":B=(V=D.showHead)!==null&&V!==void 0?V:"everyPage";var G=(I=D.useCss)!==null&&I!==void 0?I:!1,$=D.theme||(G?"plain":"striped"),ne=!!D.horizontalPageBreak,he=(R=D.horizontalPageBreakRepeat)!==null&&R!==void 0?R:null;return{includeHiddenHtml:(K=D.includeHiddenHtml)!==null&&K!==void 0?K:!1,useCss:G,theme:$,startY:te,margin:ee,pageBreak:(U=D.pageBreak)!==null&&U!==void 0?U:"auto",rowPageBreak:(le=D.rowPageBreak)!==null&&le!==void 0?le:"auto",tableWidth:(Q=D.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:B,showFoot:M,tableLineWidth:(Z=D.tableLineWidth)!==null&&Z!==void 0?Z:0,tableLineColor:(H=D.tableLineColor)!==null&&H!==void 0?H:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(q=D.horizontalPageBreakBehaviour)!==null&&q!==void 0?q:"afterAllRows"}}function j(F,D){var P=F.getLastAutoTable(),Y=F.scaleFactor(),V=F.pageNumber(),I=!1;if(P&&P.startPageNumber){var R=P.startPageNumber+P.pageNumber-1;I=R===V}return typeof D=="number"?D:(D==null||D===!1)&&I&&(P==null?void 0:P.finalY)!=null?P.finalY+20/Y:null}function E(F,D,P){var Y=D.head||[],V=D.body||[],I=D.foot||[];if(D.html){var R=D.includeHiddenHtml;if(P){var K=(0,f.parseHtml)(F,D.html,P,R,D.useCss)||{};Y=K.head||Y,V=K.body||Y,I=K.foot||Y}else console.error("Cannot parse html in non browser environment")}var U=D.columns||T(Y,V,I);return{columns:U,head:Y,body:V,foot:I}}function T(F,D,P){var Y=F[0]||D[0]||P[0]||[],V=[];return Object.keys(Y).filter(function(I){return I!=="_element"}).forEach(function(I){var R=1,K;Array.isArray(Y)?K=Y[parseInt(I)]:K=Y[I],typeof K=="object"&&!Array.isArray(K)&&(R=(K==null?void 0:K.colSpan)||1);for(var U=0;U<R;U++){var le=void 0;Array.isArray(Y)?le=V.length:le=I+(U>0?"_".concat(U):"");var Q={dataKey:le};V.push(Q)}}),V}},792:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function h(m,x,g,b){for(var N=function(j){j&&typeof j!="object"&&console.error("The options parameter should be of type object, is: "+typeof j),typeof j.extendWidth<"u"&&(j.tableWidth=j.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof j.margins<"u"&&(typeof j.margin>"u"&&(j.margin=j.margins),console.error("Use of deprecated option: margins, use margin instead.")),j.startY&&typeof j.startY!="number"&&(console.error("Invalid value for startY option",j.startY),delete j.startY),!j.didDrawPage&&(j.afterPageContent||j.beforePageContent||j.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),j.didDrawPage=function(I){m.applyStyles(m.userStyles),j.beforePageContent&&j.beforePageContent(I),m.applyStyles(m.userStyles),j.afterPageContent&&j.afterPageContent(I),m.applyStyles(m.userStyles),j.afterPageAdd&&I.pageNumber>1&&I.afterPageAdd(I),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(I){j[I]&&console.error('The "'.concat(I,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(I){var R=I[0],K=I[1];j[K]&&(console.error("Use of deprecated option ".concat(K,". Use ").concat(R," instead")),j[R]=j[K])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(I){var R=typeof I=="string"?I:I[0],K=typeof I=="string"?I:I[1];typeof j[R]<"u"&&(typeof j.styles[K]>"u"&&(j.styles[K]=j[R]),console.error("Use of deprecated option: "+R+", use the style "+K+" instead."))});for(var E=0,T=["styles","bodyStyles","headStyles","footStyles"];E<T.length;E++){var F=T[E];f(j[F]||{})}for(var D=j.columnStyles||{},P=0,Y=Object.keys(D);P<Y.length;P++){var V=Y[P];f(D[V]||{})}},k=0,v=[x,g,b];k<v.length;k++){var w=v[k];N(w)}}u.default=h;function f(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var f=h(796),m=h(172),x=h(420),g=function(){function v(w,j){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=j.columns,this.head=j.head,this.body=j.body,this.foot=j.foot}return v.prototype.getHeadHeight=function(w){return this.head.reduce(function(j,E){return j+E.getMaxCellHeight(w)},0)},v.prototype.getFootHeight=function(w){return this.foot.reduce(function(j,E){return j+E.getMaxCellHeight(w)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(w,j,E,T,F,D){for(var P=0,Y=j;P<Y.length;P++){var V=Y[P],I=new m.CellHookData(w,this,E,T,F,D),R=V(I)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],R)return!1}return!0},v.prototype.callEndPageHooks=function(w,j){w.applyStyles(w.userStyles);for(var E=0,T=this.hooks.didDrawPage;E<T.length;E++){var F=T[E];F(new m.HookData(w,this,j))}},v.prototype.callWillDrawPageHooks=function(w,j){for(var E=0,T=this.hooks.willDrawPage;E<T.length;E++){var F=T[E];F(new m.HookData(w,this,j))}},v.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var j=this.columns.reduce(function(T,F){return T+F.wrappedWidth},0);return j}else{var E=this.settings.margin;return w-E.left-E.right}},v}();u.Table=g;var b=function(){function v(w,j,E,T,F){F===void 0&&(F=!1),this.height=0,this.raw=w,w instanceof f.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=j,this.section=E,this.cells=T,this.spansMultiplePages=F}return v.prototype.getMaxCellHeight=function(w){var j=this;return w.reduce(function(E,T){var F;return Math.max(E,((F=j.cells[T.index])===null||F===void 0?void 0:F.height)||0)},0)},v.prototype.hasRowSpan=function(w){var j=this;return w.filter(function(E){var T=j.cells[E.index];return T?T.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(w,j){return this.getMaxCellHeight(j)<=w},v.prototype.getMinimumRowHeight=function(w,j){var E=this;return w.reduce(function(T,F){var D=E.cells[F.index];if(!D)return 0;var P=j.getLineHeight(D.styles.fontSize),Y=D.padding("vertical"),V=Y+P;return V>T?V:T},0)},v}();u.Row=b;var N=function(){function v(w,j,E){var T,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=j,this.section=E,this.raw=w;var D=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,D=(F=(T=w.content)!==null&&T!==void 0?T:w.title)!==null&&F!==void 0?F:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var P=D!=null?""+D:"",Y=/\r\n|\r|\n/g;this.text=P.split(Y)}return v.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var j=this.height-this.padding("vertical");w=this.y+j/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var T=this.width-this.padding("horizontal");E=this.x+T/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y:w}},v.prototype.getContentHeight=function(w,j){j===void 0&&(j=1.15);var E=Array.isArray(this.text)?this.text.length:1,T=this.styles.fontSize/w*j,F=E*T+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},v.prototype.padding=function(w){var j=(0,x.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?j.top+j.bottom:w==="horizontal"?j.left+j.right:j[w]},v}();u.Cell=N;var k=function(){function v(w,j,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=j,this.index=E}return v.prototype.getMaxCustomCellWidth=function(w){for(var j=0,E=0,T=w.allRows();E<T.length;E++){var F=T[E],D=F.cells[this.index];D&&typeof D.styles.cellWidth=="number"&&(j=Math.max(j,D.styles.cellWidth))}return j},v}();u.Column=k},356:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function h(f,m,x,g,b){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(f),k=1;k<arguments.length;k++){var v=arguments[k];if(v!=null)for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(N[w]=v[w])}return N}u.assign=h},972:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var f=h(744),m=h(260),x=h(324),g=h(796),b=h(356);function N(F,D){var P=new f.DocHandler(F),Y=k(D,P.scaleFactor()),V=new m.Table(D,Y);return(0,x.calculateWidths)(P,V),P.applyStyles(P.userStyles),V}u.createTable=N;function k(F,D){var P=F.content,Y=E(P.columns);if(P.head.length===0){var V=w(Y,"head");V&&P.head.push(V)}if(P.foot.length===0){var V=w(Y,"foot");V&&P.foot.push(V)}var I=F.settings.theme,R=F.styles;return{columns:Y,head:v("head",P.head,Y,R,I,D),body:v("body",P.body,Y,R,I,D),foot:v("foot",P.foot,Y,R,I,D)}}function v(F,D,P,Y,V,I){var R={},K=D.map(function(U,le){for(var Q=0,Z={},H=0,q=0,ee=0,te=P;ee<te.length;ee++){var M=te[ee];if(R[M.index]==null||R[M.index].left===0)if(q===0){var B=void 0;Array.isArray(U)?B=U[M.index-H-Q]:B=U[M.dataKey];var G={};typeof B=="object"&&!Array.isArray(B)&&(G=(B==null?void 0:B.styles)||{});var $=T(F,M,le,V,Y,I,G),ne=new m.Cell(B,$,F);Z[M.dataKey]=ne,Z[M.index]=ne,q=ne.colSpan-1,R[M.index]={left:ne.rowSpan-1,times:q}}else q--,H++;else R[M.index].left--,q=R[M.index].times,Q++}return new m.Row(U,le,F,Z)});return K}function w(F,D){var P={};return F.forEach(function(Y){if(Y.raw!=null){var V=j(D,Y.raw);V!=null&&(P[Y.dataKey]=V)}}),Object.keys(P).length>0?P:null}function j(F,D){if(F==="head"){if(typeof D=="object")return D.header||D.title||null;if(typeof D=="string"||typeof D=="number")return D}else if(F==="foot"&&typeof D=="object")return D.footer;return null}function E(F){return F.map(function(D,P){var Y,V,I;return typeof D=="object"?I=(V=(Y=D.dataKey)!==null&&Y!==void 0?Y:D.key)!==null&&V!==void 0?V:P:I=P,new m.Column(I,D,P)})}function T(F,D,P,Y,V,I,R){var K=(0,g.getTheme)(Y),U;F==="head"?U=V.headStyles:F==="body"?U=V.bodyStyles:F==="foot"&&(U=V.footStyles);var le=(0,b.assign)({},K.table,K[F],V.styles,U),Q=V.columnStyles[D.dataKey]||V.columnStyles[D.index]||{},Z=F==="body"?Q:{},H=F==="body"&&P%2===0?(0,b.assign)({},K.alternateRow,V.alternateRowStyles):{},q=(0,g.defaultStyles)(I),ee=(0,b.assign)({},q,le,H,Z);return(0,b.assign)(ee,R)}},664:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var f=h(420),m=h(260),x=h(744),g=h(356),b=h(136),N=h(224);function k(Q,Z){var H=Z.settings,q=H.startY,ee=H.margin,te={x:ee.left,y:q},M=Z.getHeadHeight(Z.columns)+Z.getFootHeight(Z.columns),B=q+ee.bottom+M;if(H.pageBreak==="avoid"){var G=Z.body,$=G.reduce(function(pe,_e){return pe+_e.height},0);B+=$}var ne=new x.DocHandler(Q);(H.pageBreak==="always"||H.startY!=null&&B>ne.pageSize().height)&&(le(ne),te.y=ee.top),Z.callWillDrawPageHooks(ne,te);var he=(0,g.assign)({},te);Z.startPageNumber=ne.pageNumber(),H.horizontalPageBreak?v(ne,Z,he,te):(ne.applyStyles(ne.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&Z.head.forEach(function(pe){return V(ne,Z,pe,te,Z.columns)}),ne.applyStyles(ne.userStyles),Z.body.forEach(function(pe,_e){var Me=_e===Z.body.length-1;Y(ne,Z,pe,Me,he,te,Z.columns)}),ne.applyStyles(ne.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&Z.foot.forEach(function(pe){return V(ne,Z,pe,te,Z.columns)})),(0,f.addTableBorder)(ne,Z,he,te),Z.callEndPageHooks(ne,te),Z.finalY=te.y,Q.lastAutoTable=Z,Q.previousAutoTable=Z,Q.autoTable&&(Q.autoTable.previous=Z),ne.applyStyles(ne.userStyles)}u.drawTable=k;function v(Q,Z,H,q){var ee=(0,N.calculateAllColumnsCanFitInPage)(Q,Z),te=Z.settings;if(te.horizontalPageBreakBehaviour==="afterAllRows")ee.forEach(function($,ne){Q.applyStyles(Q.userStyles),ne>0?U(Q,Z,H,q,$.columns,!0):w(Q,Z,q,$.columns),j(Q,Z,H,q,$.columns),T(Q,Z,q,$.columns)});else for(var M=-1,B=ee[0],G=function(){var $=M;if(B){Q.applyStyles(Q.userStyles);var ne=B.columns;M>=0?U(Q,Z,H,q,ne,!0):w(Q,Z,q,ne),$=E(Q,Z,M+1,q,ne),T(Q,Z,q,ne)}var he=$-M;ee.slice(1).forEach(function(pe){Q.applyStyles(Q.userStyles),U(Q,Z,H,q,pe.columns,!0),E(Q,Z,M+1,q,pe.columns,he),T(Q,Z,q,pe.columns)}),M=$};M<Z.body.length-1;)G()}function w(Q,Z,H,q){var ee=Z.settings;Q.applyStyles(Q.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&Z.head.forEach(function(te){return V(Q,Z,te,H,q)})}function j(Q,Z,H,q,ee){Q.applyStyles(Q.userStyles),Z.body.forEach(function(te,M){var B=M===Z.body.length-1;Y(Q,Z,te,B,H,q,ee)})}function E(Q,Z,H,q,ee,te){Q.applyStyles(Q.userStyles),te=te??Z.body.length;var M=Math.min(H+te,Z.body.length),B=-1;return Z.body.slice(H,M).forEach(function(G,$){var ne=H+$===Z.body.length-1,he=K(Q,Z,ne,q);G.canEntireRowFit(he,ee)&&(V(Q,Z,G,q,ee),B=H+$)}),B}function T(Q,Z,H,q){var ee=Z.settings;Q.applyStyles(Q.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&Z.foot.forEach(function(te){return V(Q,Z,te,H,q)})}function F(Q,Z,H){var q=H.getLineHeight(Q.styles.fontSize),ee=Q.padding("vertical"),te=Math.floor((Z-ee)/q);return Math.max(0,te)}function D(Q,Z,H,q){var ee={};Q.spansMultiplePages=!0,Q.height=0;for(var te=0,M=0,B=H.columns;M<B.length;M++){var G=B[M],$=Q.cells[G.index];if($){Array.isArray($.text)||($.text=[$.text]);var ne=new m.Cell($.raw,$.styles,$.section);ne=(0,g.assign)(ne,$),ne.text=[];var he=F($,Z,q);$.text.length>he&&(ne.text=$.text.splice(he,$.text.length));var pe=q.scaleFactor(),_e=q.getLineHeightFactor();$.contentHeight=$.getContentHeight(pe,_e),$.contentHeight>=Z&&($.contentHeight=Z,ne.styles.minCellHeight-=Z),$.contentHeight>Q.height&&(Q.height=$.contentHeight),ne.contentHeight=ne.getContentHeight(pe,_e),ne.contentHeight>te&&(te=ne.contentHeight),ee[G.index]=ne}}var Me=new m.Row(Q.raw,-1,Q.section,ee,!0);Me.height=te;for(var De=0,We=H.columns;De<We.length;De++){var G=We[De],ne=Me.cells[G.index];ne&&(ne.height=Me.height);var $=Q.cells[G.index];$&&($.height=Q.height)}return Me}function P(Q,Z,H,q){var ee=Q.pageSize().height,te=q.settings.margin,M=te.top+te.bottom,B=ee-M;Z.section==="body"&&(B-=q.getHeadHeight(q.columns)+q.getFootHeight(q.columns));var G=Z.getMinimumRowHeight(q.columns,Q),$=G<H;if(G>B)return console.error("Will not be able to print row ".concat(Z.index," correctly since it's minimum height is larger than page height")),!0;if(!$)return!1;var ne=Z.hasRowSpan(q.columns),he=Z.getMaxCellHeight(q.columns)>B;return he?(ne&&console.error("The content of row ".concat(Z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||q.settings.rowPageBreak==="avoid")}function Y(Q,Z,H,q,ee,te,M){var B=K(Q,Z,q,te);if(H.canEntireRowFit(B,M))V(Q,Z,H,te,M);else if(P(Q,H,B,Z)){var G=D(H,B,Z,Q);V(Q,Z,H,te,M),U(Q,Z,ee,te,M),Y(Q,Z,G,q,ee,te,M)}else U(Q,Z,ee,te,M),Y(Q,Z,H,q,ee,te,M)}function V(Q,Z,H,q,ee){q.x=Z.settings.margin.left;for(var te=0,M=ee;te<M.length;te++){var B=M[te],G=H.cells[B.index];if(!G){q.x+=B.width;continue}Q.applyStyles(G.styles),G.x=q.x,G.y=q.y;var $=Z.callCellHooks(Q,Z.hooks.willDrawCell,G,H,B,q);if($===!1){q.x+=B.width;continue}I(Q,G,q);var ne=G.getTextPos();(0,b.default)(G.text,ne.x,ne.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},Q.getDocument()),Z.callCellHooks(Q,Z.hooks.didDrawCell,G,H,B,q),q.x+=B.width}q.y+=H.height}function I(Q,Z,H){var q=Z.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof q.lineWidth=="number"){var ee=(0,f.getFillStyle)(q.lineWidth,q.fillColor);ee&&Q.rect(Z.x,H.y,Z.width,Z.height,ee)}else typeof q.lineWidth=="object"&&(q.fillColor&&Q.rect(Z.x,H.y,Z.width,Z.height,"F"),R(Q,Z,H,q.lineWidth))}function R(Q,Z,H,q){var ee,te,M,B;q.top&&(ee=H.x,te=H.y,M=H.x+Z.width,B=H.y,q.right&&(M+=.5*q.right),q.left&&(ee-=.5*q.left),G(q.top,ee,te,M,B)),q.bottom&&(ee=H.x,te=H.y+Z.height,M=H.x+Z.width,B=H.y+Z.height,q.right&&(M+=.5*q.right),q.left&&(ee-=.5*q.left),G(q.bottom,ee,te,M,B)),q.left&&(ee=H.x,te=H.y,M=H.x,B=H.y+Z.height,q.top&&(te-=.5*q.top),q.bottom&&(B+=.5*q.bottom),G(q.left,ee,te,M,B)),q.right&&(ee=H.x+Z.width,te=H.y,M=H.x+Z.width,B=H.y+Z.height,q.top&&(te-=.5*q.top),q.bottom&&(B+=.5*q.bottom),G(q.right,ee,te,M,B));function G($,ne,he,pe,_e){Q.getDocument().setLineWidth($),Q.getDocument().line(ne,he,pe,_e,"S")}}function K(Q,Z,H,q){var ee=Z.settings.margin.bottom,te=Z.settings.showFoot;return(te==="everyPage"||te==="lastPage"&&H)&&(ee+=Z.getFootHeight(Z.columns)),Q.pageSize().height-q.y-ee}function U(Q,Z,H,q,ee,te){ee===void 0&&(ee=[]),te===void 0&&(te=!1),Q.applyStyles(Q.userStyles),Z.settings.showFoot==="everyPage"&&!te&&Z.foot.forEach(function(B){return V(Q,Z,B,q,ee)}),Z.callEndPageHooks(Q,q);var M=Z.settings.margin;(0,f.addTableBorder)(Q,Z,H,q),le(Q),Z.pageNumber++,Z.pageCount++,q.x=M.left,q.y=M.top,H.y=M.top,Z.callWillDrawPageHooks(Q,q),Z.settings.showHead==="everyPage"&&(Z.head.forEach(function(B){return V(Q,Z,B,q,ee)}),Q.applyStyles(Q.userStyles))}u.addPage=U;function le(Q){var Z=Q.pageNumber();Q.setPage(Z+1);var H=Q.pageNumber();return H===Z?(Q.addPage(),!0):!1}},224:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var f=h(420);function m(g,b,N){var k;N===void 0&&(N={});var v=(0,f.getPageAvailableWidth)(g,b),w=new Map,j=[],E=[],T=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?T=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(T=[b.settings.horizontalPageBreakRepeat]),T.forEach(function(Y){var V=b.columns.find(function(I){return I.dataKey===Y||I.index===Y});V&&!w.has(V.index)&&(w.set(V.index,!0),j.push(V.index),E.push(b.columns[V.index]),v-=V.wrappedWidth)});for(var F=!0,D=(k=N==null?void 0:N.start)!==null&&k!==void 0?k:0;D<b.columns.length;){if(w.has(D)){D++;continue}var P=b.columns[D].wrappedWidth;if(F||v>=P)F=!1,j.push(D),E.push(b.columns[D]),v-=P;else break;D++}return{colIndexes:j,columns:E,lastIndex:D-1}}function x(g,b){for(var N=[],k=0;k<b.columns.length;k++){var v=m(g,b,{start:k});v.columns.length&&(N.push(v),k=v.lastIndex)}return N}u.calculateAllColumnsCanFitInPage=x},324:function(c,u,h){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var f=h(420);function m(j,E){x(j,E);var T=[],F=0;E.columns.forEach(function(P){var Y=P.getMaxCustomCellWidth(E);Y?P.width=Y:(P.width=P.wrappedWidth,T.push(P)),F+=P.width});var D=E.getWidth(j.pageSize().width)-F;D&&(D=g(T,D,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),D&&(D=g(T,D,function(P){return P.minWidth})),D=Math.abs(D),!E.settings.horizontalPageBreak&&D>.1/j.scaleFactor()&&(D=D<1?D:Math.round(D),console.warn("Of the table content, ".concat(D," units width could not fit page"))),N(E),k(E,j),b(E)}u.calculateWidths=m;function x(j,E){var T=j.scaleFactor(),F=E.settings.horizontalPageBreak,D=(0,f.getPageAvailableWidth)(j,E);E.allRows().forEach(function(P){for(var Y=0,V=E.columns;Y<V.length;Y++){var I=V[Y],R=P.cells[I.index];if(R){var K=E.hooks.didParseCell;E.callCellHooks(j,K,R,P,I,null);var U=R.padding("horizontal");R.contentWidth=(0,f.getStringWidth)(R.text,R.styles,j)+U;var le=(0,f.getStringWidth)(R.text.join(" ").split(/\s+/),R.styles,j);if(R.minReadableWidth=le+R.padding("horizontal"),typeof R.styles.cellWidth=="number")R.minWidth=R.styles.cellWidth,R.wrappedWidth=R.styles.cellWidth;else if(R.styles.cellWidth==="wrap"||F===!0)R.contentWidth>D?(R.minWidth=D,R.wrappedWidth=D):(R.minWidth=R.contentWidth,R.wrappedWidth=R.contentWidth);else{var Q=10/T;R.minWidth=R.styles.minCellWidth||Q,R.wrappedWidth=R.contentWidth,R.minWidth>R.wrappedWidth&&(R.wrappedWidth=R.minWidth)}}}}),E.allRows().forEach(function(P){for(var Y=0,V=E.columns;Y<V.length;Y++){var I=V[Y],R=P.cells[I.index];if(R&&R.colSpan===1)I.wrappedWidth=Math.max(I.wrappedWidth,R.wrappedWidth),I.minWidth=Math.max(I.minWidth,R.minWidth),I.minReadableWidth=Math.max(I.minReadableWidth,R.minReadableWidth);else{var K=E.styles.columnStyles[I.dataKey]||E.styles.columnStyles[I.index]||{},U=K.cellWidth||K.minCellWidth;U&&typeof U=="number"&&(I.minWidth=U,I.wrappedWidth=U)}R&&(R.colSpan>1&&!I.minWidth&&(I.minWidth=R.minWidth),R.colSpan>1&&!I.wrappedWidth&&(I.wrappedWidth=R.minWidth))}})}function g(j,E,T){for(var F=E,D=j.reduce(function(Q,Z){return Q+Z.wrappedWidth},0),P=0;P<j.length;P++){var Y=j[P],V=Y.wrappedWidth/D,I=F*V,R=Y.width+I,K=T(Y),U=R<K?K:R;E-=U-Y.width,Y.width=U}if(E=Math.round(E*1e10)/1e10,E){var le=j.filter(function(Q){return E<0?Q.width>T(Q):!0});le.length&&(E=g(le,E,T))}return E}u.resizeColumns=g;function b(j){for(var E={},T=1,F=j.allRows(),D=0;D<F.length;D++)for(var P=F[D],Y=0,V=j.columns;Y<V.length;Y++){var I=V[Y],R=E[I.index];if(T>1)T--,delete P.cells[I.index];else if(R)R.cell.height+=P.height,T=R.cell.colSpan,delete P.cells[I.index],R.left--,R.left<=1&&delete E[I.index];else{var K=P.cells[I.index];if(!K)continue;if(K.height=P.height,K.rowSpan>1){var U=F.length-D,le=K.rowSpan>U?U:K.rowSpan;E[I.index]={cell:K,left:le,row:P}}}}}function N(j){for(var E=j.allRows(),T=0;T<E.length;T++)for(var F=E[T],D=null,P=0,Y=0,V=0;V<j.columns.length;V++){var I=j.columns[V];if(Y-=1,Y>1&&j.columns[V+1])P+=I.width,delete F.cells[I.index];else if(D){var R=D;delete F.cells[I.index],D=null,R.width=I.width+P}else{var R=F.cells[I.index];if(!R)continue;if(Y=R.colSpan,P=0,R.colSpan>1){D=R,P+=I.width;continue}R.width=I.width+P}}}function k(j,E){for(var T={count:0,height:0},F=0,D=j.allRows();F<D.length;F++){for(var P=D[F],Y=0,V=j.columns;Y<V.length;Y++){var I=V[Y],R=P.cells[I.index];if(R){E.applyStyles(R.styles,!0);var K=R.width-R.padding("horizontal");if(R.styles.overflow==="linebreak")R.text=E.splitTextToSize(R.text,K+1/E.scaleFactor(),{fontSize:R.styles.fontSize});else if(R.styles.overflow==="ellipsize")R.text=v(R.text,K,R.styles,E,"...");else if(R.styles.overflow==="hidden")R.text=v(R.text,K,R.styles,E,"");else if(typeof R.styles.overflow=="function"){var U=R.styles.overflow(R.text,K);typeof U=="string"?R.text=[U]:R.text=U}R.contentHeight=R.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var le=R.contentHeight/R.rowSpan;R.rowSpan>1&&T.count*T.height<le*R.rowSpan?T={height:le,count:R.rowSpan}:T&&T.count>0&&T.height>le&&(le=T.height),le>P.height&&(P.height=le)}}T.count--}}function v(j,E,T,F,D){return j.map(function(P){return w(P,E,T,F,D)})}u.ellipsize=v;function w(j,E,T,F,D){var P=1e4*F.scaleFactor();if(E=Math.ceil(E*P)/P,E>=(0,f.getStringWidth)(j,T,F))return j;for(;E<(0,f.getStringWidth)(j+D,T,F)&&!(j.length<=1);)j=j.substring(0,j.length-1);return j.trim()+D}},964:function(c){if(typeof n>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}c.exports=n}},i={};function s(c){var u=i[c];if(u!==void 0)return u.exports;var h=i[c]={exports:{}};return r[c].call(h.exports,h,h.exports,s),h.exports}var a={};return function(){var c=a;Object.defineProperty(c,"__esModule",{value:!0}),c.Cell=c.Column=c.Row=c.Table=c.CellHookData=c.__drawTable=c.__createTable=c.applyPlugin=void 0;var u=s(340),h=s(776),f=s(664),m=s(972),x=s(260);Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return x.Table}});var g=s(172);Object.defineProperty(c,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var b=s(260);Object.defineProperty(c,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(c,"Row",{enumerable:!0,get:function(){return b.Row}});function N(E){(0,u.default)(E)}c.applyPlugin=N;function k(E,T){var F=(0,h.parseInput)(E,T),D=(0,m.createTable)(E,F);(0,f.drawTable)(E,D)}function v(E,T){var F=(0,h.parseInput)(E,T);return(0,m.createTable)(E,F)}c.__createTable=v;function w(E,T){(0,f.drawTable)(E,T)}c.__drawTable=w;try{var j=s(964);j.jsPDF&&(j=j.jsPDF),N(j)}catch{}c.default=k}(),a}()})})(i7);const go="/AgriTayo_Logo_wName.png",Ef="AgriTayoAPIKey2024";function o7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({user_id:"",firstname:"",middlename:"",lastname:"",password:"",phone_number:"",gender:"",birthday:"",user_type_id:"",image:null}),[a,c]=O.useState(""),[u,h]=O.useState([]),[f,m]=O.useState(""),[x,g]=O.useState(""),[b,N]=O.useState(!1),[k,v]=O.useState(!1),[w,j]=O.useState(!1),[E,T]=O.useState(null),[F,D]=O.useState(!1);O.useEffect(()=>{P(),Y()},[]),O.useEffect(()=>{h(t.filter(q=>{var he,pe,_e;const ee=a.toLowerCase(),te=`${q.firstname} ${q.middlename} ${q.lastname}`.toLowerCase().includes(ee),M=((he=q.phone_number)==null?void 0:he.toLowerCase().includes(ee))||((pe=q.secondary_phone_number)==null?void 0:pe.toLowerCase().includes(ee)),G=(((_e=n.find(Me=>Me.user_type_id===q.user_type_id))==null?void 0:_e.user_type_name)||"").toLowerCase().includes(ee),$=f?q.gender===f:!0,ne=x?q.user_type_id===parseInt(x):!0;return(te||M||G)&&$&&ne}))},[a,t,f,x,n]);const P=async()=>{try{const q=await fetch("/api/users",{headers:{"x-api-key":Ef}});if(!q.ok)throw new Error("Network response was not ok");const ee=await q.json();e(ee)}catch(q){console.error("Error fetching users:",q)}},Y=async()=>{try{const q=await fetch("/api/user_types",{headers:{"x-api-key":Ef}});if(!q.ok)throw new Error("Network response was not ok");const ee=await q.json();r(ee)}catch(q){console.error("Error fetching user types:",q)}},V=q=>{const{name:ee,value:te}=q.target;s({...i,[ee]:te})},I=q=>{s({...i,image:q.target.files[0]})},R=async q=>{q.preventDefault(),await U("/api/users","POST")},K=async q=>{q.preventDefault(),await U(`/api/users/${i.user_id}`,"PUT"),v(!1)},U=async(q,ee)=>{const te=new FormData;te.append("firstname",i.firstname),te.append("middlename",i.middlename),te.append("lastname",i.lastname),te.append("password",i.password),te.append("phone_number",i.phone_number),te.append("secondary_phone_number",i.secondary_phone_number),te.append("gender",i.gender),te.append("birthday",i.birthday),te.append("user_type_id",i.user_type_id),i.image&&te.append("image",i.image);try{if(!(await fetch(q,{method:ee,headers:{"x-api-key":Ef},body:te})).ok)throw new Error("Network response was not ok");P(),s({user_id:"",firstname:"",middlename:"",lastname:"",password:"",phone_number:"",secondary_phone_number:"",gender:"",birthday:"",user_type_id:"",image:null}),N(!1),D(!1),v(!1)}catch(M){console.error("Error submitting form:",M)}},le=q=>{s({...q,password:"",image:null}),N(!0),v(!0)},Q=async()=>{try{if(!(await fetch(`/api/users/${E}`,{method:"DELETE",headers:{"x-api-key":Ef}})).ok)throw new Error("Network response was not ok");P(),j(!1)}catch(q){console.error("Error deleting user:",q)}},Z=()=>{const q=new vt("landscape"),ee=["ID","Name","Phone","Gender","Birthday","User Type"],te=u.map(ne=>{var he;return[ne.user_id,`${ne.firstname} ${ne.lastname}`,ne.phone_number,ne.gender,ne.birthday,((he=n.find(pe=>pe.user_type_id===ne.user_type_id))==null?void 0:he.user_type_name)||"Unknown"]}),M=50,B=50,$=(q.internal.pageSize.getWidth()-M)/2;q.addImage(go,"PNG",$,10,M,B),q.text("List of Users",$+M/2,B+15,{align:"center"}),q.autoTable({head:[ee],body:te,startY:B+20}),q.save("user-reports.pdf")},H=()=>{D(!0),s({user_id:"",firstname:"",middlename:"",lastname:"",password:"",phone_number:"",secondary_phone_number:"",gender:"",birthday:"",user_type_id:"",image:null})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Users Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize system users"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[u.length," Users"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-8",children:[o.jsx("button",{onClick:H,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Add User"}),o.jsx("button",{onClick:Z,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"Export to PDF"})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("select",{value:f,onChange:q=>m(q.target.value),className:"p-2 rounded-xl border border-gray-200 focus:ring-green-500 focus:border-green-500",children:[o.jsx("option",{value:"",children:"All Genders"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"})]}),o.jsxs("select",{value:x,onChange:q=>g(q.target.value),className:"p-2 rounded-xl border border-gray-200 focus:ring-green-500 focus:border-green-500",children:[o.jsx("option",{value:"",children:"All User Types"}),o.jsx("option",{value:"1",children:"Admin"}),o.jsx("option",{value:"2",children:"Seller"}),o.jsx("option",{value:"3",children:"Buyer"})]}),o.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:q=>c(q.target.value),className:"p-2 rounded-xl border border-gray-200 focus:ring-green-500 focus:border-green-500 flex-1"})]})}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Name","Phone Number","Alt. Phone Number","Gender","Birthday","User Type","Profile Picture","Actions"].map(q=>o.jsx("th",{className:"px-6 py-4 text-left",children:q},q))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(q=>{var ee;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4",children:q.user_id}),o.jsx("td",{className:"px-6 py-4",children:`${q.firstname} ${q.lastname}`}),o.jsx("td",{className:"px-6 py-4",children:q.phone_number}),o.jsx("td",{className:"px-6 py-4",children:q.secondary_phone_number}),o.jsx("td",{className:"px-6 py-4",children:q.gender}),o.jsx("td",{className:"px-6 py-4",children:q.birthday}),o.jsx("td",{className:"px-6 py-4",children:((ee=n.find(te=>te.user_type_id===q.user_type_id))==null?void 0:ee.user_type_name)||"Unknown"}),o.jsx("td",{className:"px-6 py-4",children:q.user_image_url&&o.jsx("img",{src:q.user_image_url,alt:`${q.firstname} ${q.lastname}`,className:"w-8 h-8 rounded-full"})}),o.jsxs("td",{className:"px-6 py-4 border border-gray-200 p-4 flex justify-center items-center gap-2",children:[o.jsx("button",{onClick:()=>le(q),className:"bg-green-600 text-white px-3 py-1 rounded mb-1 text-xs hover:bg-green-700 transition-colors duration-200",children:"Edit"}),o.jsx("button",{onClick:()=>{T(q.user_id),j(!0)},className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition-colors duration-200",children:"Delete"})]})]},q.user_id)})})]})})}),(F||k)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:b?"Edit User":"Add New User"}),o.jsxs("form",{onSubmit:b?K:R,encType:"multipart/form-data",className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["firstname","middlename","lastname"].map(q=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:q.charAt(0).toUpperCase()+q.slice(1)}),o.jsx("input",{type:"text",name:q,value:i[q],onChange:V,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]},q))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["phone_number","secondary_phone_number"].map(q=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:q==="phone_number"?"Phone Number":"Alternative Phone"}),o.jsx("input",{type:"text",name:q,value:i[q],onChange:V,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:q==="phone_number"})]},q))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),o.jsxs("select",{name:"gender",value:i.gender,onChange:V,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Others",children:"Others"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birthday"}),o.jsx("input",{type:"date",name:"birthday",value:i.birthday,onChange:V,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),o.jsxs("select",{name:"user_type_id",value:i.user_type_id,onChange:V,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0,children:[o.jsx("option",{value:"",children:"Select User Type"}),n.map(q=>o.jsx("option",{value:q.user_type_id,children:q.user_type_name},q.user_type_id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Picture"}),o.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:I,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{D(!1),v(!1),N(!1)},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:b?"Update User":"Add User"})]})]})]})})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-96 m-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Confirm Delete"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this user? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:Q,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                                        transition-colors duration-200`,children:"Delete"})]})]})})]})})}const Mf="AgriTayoAPIKey2024";function a7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({address:"",user_id:""}),[a,c]=O.useState(!1);O.useEffect(()=>{u(),h()},[]);const u=async()=>{try{const b=await fetch("/api/addresses",{headers:{"x-api-key":Mf}});if(!b.ok)throw new Error("Network response was not ok");const N=await b.json();e(N)}catch(b){console.error("Error fetching addresses:",b)}},h=async()=>{try{const b=await fetch("/api/users",{headers:{"x-api-key":Mf}});if(!b.ok)throw new Error("Network response was not ok");const N=await b.json();r(N)}catch(b){console.error("Error fetching users:",b)}},f=b=>{const{name:N,value:k}=b.target;s({...i,[N]:k})},m=async b=>{b.preventDefault();const N=a?`/api/addresses/${i.address_id}`:"/api/addresses",k=a?"PUT":"POST";try{if(!(await fetch(N,{method:k,headers:{"Content-Type":"application/json","x-api-key":Mf},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");u(),s({address:"",user_id:""}),c(!1)}catch(v){console.error("Error submitting form:",v)}},x=b=>{s(b),c(!0)},g=async b=>{try{if(!(await fetch(`/api/addresses/${b}`,{method:"DELETE",headers:{"x-api-key":Mf}})).ok)throw new Error("Network response was not ok");u()}catch(N){console.error("Error deleting address:",N)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Addresses Management"}),o.jsxs("form",{onSubmit:m,children:[o.jsx("input",{type:"text",name:"address",value:i.address,onChange:f,placeholder:"Address",required:!0}),o.jsxs("select",{name:"user_id",value:i.user_id,onChange:f,required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),n.map(b=>o.jsxs("option",{value:b.user_id,children:[b.firstname," ",b.lastname]},b.user_id))]}),o.jsx("button",{type:"submit",children:a?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Address"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"User"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(b=>{var N,k;return o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.address_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.address}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[(N=n.find(v=>v.user_id===b.user_id))==null?void 0:N.firstname," ",(k=n.find(v=>v.user_id===b.user_id))==null?void 0:k.lastname]}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>x(b),children:"Edit"}),o.jsx("button",{onClick:()=>g(b.address_id),children:"Delete"})]})]},b.address_id)})})]})]})}const Tf="AgriTayoAPIKey2024";function l7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState({delivery:"",pickup:"",gcash:"",cod:"",bank:"",submitLater:""}),[u,h]=O.useState({shop_id:"",shop_name:"",shop_address:"",shop_description:"",user_id:"",shop_image_url:null,delivery:!1,pickup:!1,delivery_price:"",pickup_price:"",gcash:!1,cod:!1,bank:!1,shop_number:"",submit_later:!1,tin_number:"",bir_image_url:null,pickup_address:""}),[f,m]=O.useState(!1),[x,g]=O.useState(!1),[b,N]=O.useState(!1),[k,v]=O.useState(null);O.useEffect(()=>{w(),j()},[]);const w=async()=>{try{const U=await fetch("/api/shops",{headers:{"x-api-key":Tf}});if(!U.ok)throw new Error("Network response was not ok");const le=await U.json();e(le)}catch(U){console.error("Error fetching shops:",U)}},j=async()=>{try{const U=await fetch("/api/users",{headers:{"x-api-key":Tf}});if(!U.ok)throw new Error("Network response was not ok");const le=await U.json();r(le)}catch(U){console.error("Error fetching users:",U)}},E=U=>{const{name:le,value:Q,type:Z,checked:H}=U.target;h({...u,[le]:Z==="checkbox"?H:Q})},T=U=>{const{name:le,files:Q}=U.target;h({...u,[le]:Q[0]})},F=()=>{h({shop_id:"",shop_name:"",shop_address:"",shop_description:"",user_id:"",shop_image_url:null,delivery:!1,pickup:!1,delivery_price:"",pickup_price:"",gcash:!1,cod:!1,bank:!1,shop_number:"",submit_later:!1,tin_number:"",bir_image_url:null,pickup_address:""}),m(!1),g(!0)},D=U=>{h({shop_id:U.shop_id,shop_name:U.shop_name,shop_address:U.shop_address,shop_description:U.shop_description,user_id:U.user_id,shop_image_url:U.shop_image_url,delivery:U.delivery,pickup:U.pickup,delivery_price:U.delivery_price,pickup_price:U.pickup_price,gcash:U.gcash,cod:U.cod,bank:U.bank,shop_number:U.shop_number,submit_later:U.submit_later,tin_number:U.tin_number,bir_image_url:U.bir_image_url,pickup_address:U.pickup_address}),m(!0),g(!0)},P=U=>{v(U),N(!0)},Y=async U=>{U.preventDefault();const le=f?`/api/shops/${u.shop_id}`:"/api/shops",Q=f?"PUT":"POST",Z=new FormData;for(const H in u)Z.append(H,u[H]);try{if(!(await fetch(le,{method:Q,headers:{"x-api-key":Tf},body:Z})).ok)throw new Error("Network response was not ok");w(),g(!1)}catch(H){console.error("Error submitting form:",H)}},V=async()=>{try{if(!(await fetch(`/api/shops/${k.shop_id}`,{method:"DELETE",headers:{"x-api-key":Tf}})).ok)throw new Error("Network response was not ok");w(),N(!1)}catch(U){console.error("Error deleting shop:",U)}},I=U=>{c({...a,[U.target.name]:U.target.value})},R=t.filter(U=>{const le=a.delivery===""||a.delivery==="Yes"&&U.delivery||a.delivery==="No"&&!U.delivery,Q=a.pickup===""||a.pickup==="Yes"&&U.pickup||a.pickup==="No"&&!U.pickup,Z=a.gcash===""||a.gcash==="Yes"&&U.gcash||a.gcash==="No"&&!U.gcash,H=a.cod===""||a.cod==="Yes"&&U.cod||a.cod==="No"&&!U.cod,q=a.bank===""||a.bank==="Yes"&&U.bank||a.bank==="No"&&!U.bank,ee=U.shop_name.toLowerCase().includes(i.toLowerCase())||U.shop_address.toLowerCase().includes(i.toLowerCase())||U.shop_description.toLowerCase().includes(i.toLowerCase())||U.shop_number.toLowerCase().includes(i.toLowerCase())||(()=>{const te=n.find(M=>M.user_id===U.user_id);return te?`${te.firstname} ${te.lastname}`.toLowerCase().includes(i.toLowerCase()):!1})();return le&&Q&&Z&&H&&q&&ee}),K=()=>{const U=new vt("landscape");U.addImage(go,"PNG",135,10,50,50),U.text("List of Shops",160,70,{align:"center"}),U.autoTable({startY:80,head:[["ID","Shop Name","Address","Description","User ID","Delivery","Pickup","Delivery Price","Pickup Price","GCash","COD","Bank","Shop Number","TIN Number","Pickup Address"]],body:R.map(le=>[le.shop_id,le.shop_name,le.shop_address,le.shop_description,le.user_id,le.delivery?"Yes":"No",le.pickup?"Yes":"No",le.delivery_price,le.pickup_price,le.gcash?"Yes":"No",le.cod?"Yes":"No",le.bank?"Yes":"No",le.shop_number,le.tin_number,le.pickup_address]),headStyles:{fillColor:[0,178,81]}}),U.save("filtered_shops.pdf")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Shop Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize shop information"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[R.length," Shops"]})})})]})}),o.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("button",{onClick:F,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"+ Add Shop"}),o.jsx("button",{onClick:K,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Export PDF"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[["delivery","pickup","gcash","cod","bank"].map(U=>o.jsxs("select",{name:U,value:a[U],onChange:I,className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                                    focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:U.charAt(0).toUpperCase()+U.slice(1)}),o.jsx("option",{value:"Yes",children:"Yes"}),o.jsx("option",{value:"No",children:"No"})]},U)),o.jsx("input",{type:"text",value:i,onChange:U=>s(U.target.value),placeholder:"Search shops...",className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`})]})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsxs("tr",{className:"bg-green-600 text-white",children:[o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"ID"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Shop Name"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Address"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Description"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"User"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Delivery"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Pickup"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Delivery Price"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Pickup Price"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"GCash"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"COD"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Bank"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Shop Number"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"TIN Number"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Pickup Address"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"BIR Image"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Shop Image"}),o.jsx("th",{className:"py-2 px-4 text-xs sm:text-sm",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map(U=>o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.shop_id}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.shop_name}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.shop_address}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.shop_description}),o.jsx("td",{className:"p-2",children:(()=>{const le=n.find(Q=>Q.user_id===U.user_id);return le?`${le.firstname} ${le.lastname}`:"N/A"})()}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.delivery?"Yes":"No"}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.pickup?"Yes":"No"}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.delivery_price}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.pickup_price}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.gcash?"Yes":"No"}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.cod?"Yes":"No"}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.bank?"Yes":"No"}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.shop_number}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.tin_number}),o.jsx("td",{className:"border px-4 py-2 text-xs sm:text-sm",children:U.pickup_address}),o.jsx("td",{className:"border py-2 px-4 text-xs sm:text-sm",children:U.bir_image_url&&o.jsx("img",{src:U.bir_image_url,alt:U.shop_name,className:"w-20 h-auto"})}),o.jsx("td",{className:"border py-2 px-4 text-xs sm:text-sm",children:U.shop_image_url&&o.jsx("img",{src:U.shop_image_url,alt:U.shop_name,className:"w-20 h-auto"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>D(U),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                                                    transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>P(U),className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                                                    transition-colors duration-200`,children:"Delete"})]})})]},U.shop_id))})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4 max-h-[80vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:f?"Edit Shop":"Add Shop"}),o.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Object.keys(u).map(U=>U!=="shop_id"&&!["shop_image_url","bir_image_url"].includes(U)&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{htmlFor:U,className:"text-sm font-semibold text-gray-700",children:U.replace("_"," ").toUpperCase()}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:typeof u[U]=="boolean"?"checkbox":"text",name:U,value:u[U]||"",onChange:E,className:"p-2 border rounded-md",checked:typeof u[U]=="boolean"?u[U]:void 0}),typeof u[U]=="boolean"&&o.jsx("span",{className:"ml-2",children:"Check to enable"})]})]},U)),o.jsxs("div",{className:"flex flex-col col-span-2",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Shop Image"}),o.jsx("input",{type:"file",name:"shop_image_url",accept:"image/*",onChange:T,className:"p-2 border rounded-md"})]}),o.jsxs("div",{className:"flex flex-col col-span-2",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"BIR Image"}),o.jsx("input",{type:"file",name:"bir_image_url",accept:"image/*",onChange:T,className:"p-2 border rounded-md"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md",children:f?"Save":"Create"})]})]})]})})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this shop?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>N(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:V,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                                        transition-colors duration-200`,children:"Delete"})]})]})})]})})}const Ig="AgriTayoAPIKey2024";function c7(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[i,s]=O.useState({crop_category_id:"",crop_category_name:"",crop_category_description:"",image:null}),[a,c]=O.useState(!1),[u,h]=O.useState(!1),[f,m]=O.useState(!1),[x,g]=O.useState(!1),[b,N]=O.useState(null);O.useEffect(()=>{k()},[]);const k=async()=>{try{const I=await fetch("/api/crop_categories",{headers:{"x-api-key":Ig}});if(!I.ok)throw new Error("Network response was not ok");const R=await I.json();e(R)}catch(I){console.error("Error fetching crop categories:",I)}},v=I=>{const{name:R,value:K}=I.target;s({...i,[R]:K})},w=I=>{s({...i,image:I.target.files[0]})},j=async I=>{I.preventDefault();const R=u?`/api/crop_categories/${i.crop_category_id}`:"/api/crop_categories",K=u?"PUT":"POST",U=new FormData;U.append("crop_category_name",i.crop_category_name),U.append("crop_category_description",i.crop_category_description),i.image&&U.append("image",i.image);try{if(!(await fetch(R,{method:K,headers:{"x-api-key":Ig},body:U})).ok)throw new Error("Network response was not ok");k(),s({crop_category_id:"",crop_category_name:"",crop_category_description:"",image:null}),h(!1),m(!1)}catch(le){console.error("Error submitting form:",le)}},E=I=>{s({crop_category_id:I.crop_category_id,crop_category_name:I.crop_category_name,crop_category_description:I.crop_category_description,image:null}),h(!0),m(!0)},T=async()=>{try{if(!(await fetch(`/api/crop_categories/${b}`,{method:"DELETE",headers:{"x-api-key":Ig}})).ok)throw new Error("Network response was not ok");k(),g(!1)}catch(I){console.error("Error deleting crop category:",I)}},F=I=>{r(I.target.value.toLowerCase())},D=t.filter(I=>I.crop_category_name.toLowerCase().includes(n)||I.crop_category_description.toLowerCase().includes(n)),P=()=>{const I=new vt("landscape"),R=50,K=50,U=5,le=5,Z=(I.internal.pageSize.getWidth()-R)/2;I.addImage(go,"PNG",Z,10,R,K);const H=10+K+le;I.text("Crop Categories List",Z+R/2,H,{align:"center"});const q=H+U+5,ee=D.map(te=>[te.crop_category_id,te.crop_category_name,te.crop_category_description]);I.autoTable({startY:q,head:[["ID","Category Name","Description"]],body:ee,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),I.save("crop_categories_list.pdf")},Y=()=>{c(!a),s({metric_system_name:"",metric_val_kilogram:"",metric_val_gram:"",metric_val_pounds:""}),h(!1)},V=I=>{j(I),c(!1)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Crop Categories Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize crop categories"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[D.length," Categories"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[o.jsx("button",{onClick:Y,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
              hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Add Category"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Search categories...",value:n,onChange:F,className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-96
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`}),o.jsx("button",{onClick:P,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Export to PDF"})]})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left",children:"ID"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Category Name"}),o.jsx("th",{className:"px-6 py-4 text-left",children:"Description"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Image"}),o.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:D.map(I=>o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4",children:I.crop_category_id}),o.jsx("td",{className:"px-6 py-4 font-medium",children:I.crop_category_name}),o.jsx("td",{className:"px-6 py-4",children:I.crop_category_description}),o.jsx("td",{className:"px-6 py-4 text-center",children:I.crop_category_image_url&&o.jsx("img",{src:I.crop_category_image_url,alt:I.crop_category_name,className:"w-20 h-20 object-cover rounded-lg mx-auto"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>E(I),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                          transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{N(I.crop_category_id),g(!0)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                          transition-colors duration-200`,children:"Delete"})]})})]},I.crop_category_id))})]})}),(a||f)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:u?"Edit Category":"Add Category"}),o.jsxs("form",{onSubmit:V,className:"space-y-4",children:[o.jsx("input",{type:"hidden",name:"crop_category_id",value:i.crop_category_id}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Category Name"}),o.jsx("input",{type:"text",name:"crop_category_name",value:i.crop_category_name,onChange:v,placeholder:"Crop Category Name",required:!0,className:"border p-2 w-full rounded-md"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Category Description"}),o.jsx("input",{type:"text",name:"crop_category_description",value:i.crop_category_description,onChange:v,placeholder:"Crop Category Description",className:"border p-2 w-full rounded-md"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Image"}),o.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:w,className:"border p-2 w-full rounded-md"})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{c(!1),m(!1)},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200`,children:u?"Save":"Create"})]})]})]})})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this category?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>g(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:T,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Delete"})]})]})})]})})}const Rg="AgriTayoAPIKey2024";function u7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({metric_system_name:"",metric_val_kilogram:"",metric_val_gram:"",metric_val_pounds:""}),[a,c]=O.useState(!1),u=()=>c(!1),[h,f]=O.useState(!1),[m,x]=O.useState("");O.useState(!1);const[g,b]=O.useState(!1),[N,k]=O.useState(null),v=()=>{s({metric_system_name:"",metric_val_kilogram:"",metric_val_gram:"",metric_val_pounds:""}),f(!1),c(!0)};O.useEffect(()=>{w()},[]);const w=async()=>{try{const P=await fetch("/api/metric_systems",{headers:{"x-api-key":Rg}});if(!P.ok)throw new Error("Network response was not ok");const Y=await P.json();e(Y),r(Y)}catch(P){console.error("Error fetching metric systems:",P)}},j=P=>{const{name:Y,value:V}=P.target;s({...i,[Y]:V})},E=P=>{const Y=P.target.value;x(Y);const V=t.filter(I=>I.metric_system_name.toLowerCase().includes(Y.toLowerCase())||I.metric_val_kilogram.toString().includes(Y)||I.metric_val_gram.toString().includes(Y)||I.metric_val_pounds.toString().includes(Y));r(V)},T=async P=>{P.preventDefault();const Y=h?`/api/metric_systems/${i.metric_system_id}`:"/api/metric_systems",V=h?"PUT":"POST";try{if(!(await fetch(Y,{method:V,headers:{"Content-Type":"application/json","x-api-key":Rg},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");w(),s({metric_system_name:"",metric_val_kilogram:"",metric_val_gram:"",metric_val_pounds:""}),f(!1),c(!1)}catch(I){console.error("Error submitting form:",I)}},F=P=>{s({metric_system_id:P.metric_system_id,metric_system_name:P.metric_system_name,metric_val_kilogram:P.metric_val_kilogram,metric_val_gram:P.metric_val_gram,metric_val_pounds:P.metric_val_pounds}),f(!0),c(!0)},D=async()=>{try{if(!(await fetch(`/api/metric_systems/${N}`,{method:"DELETE",headers:{"x-api-key":Rg}})).ok)throw new Error("Network response was not ok");w(),b(!1)}catch(P){console.error("Error deleting metric system:",P)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Metric Systems Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize measurement systems"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[n.length," Systems"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[o.jsx("button",{onClick:v,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
              hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Metric System"}),o.jsx("input",{type:"text",placeholder:"Search for metric system",value:m,onChange:E,className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-96
              focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Name","Kilogram","Gram","Pounds","Actions"].map(P=>o.jsx("th",{className:"px-6 py-4 text-center",children:P},P))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(P=>o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:P.metric_system_id}),o.jsx("td",{className:"px-6 py-4 text-center font-medium",children:P.metric_system_name}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[P.metric_val_kilogram," kg"]}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[P.metric_val_gram," g"]}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[P.metric_val_pounds," lb"]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>F(P),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                          transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{k(P.metric_system_id),b(!0)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                          transition-colors duration-200`,children:"Delete"})]})})]},P.metric_system_id))})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:h?"Edit Metric System":"Add Metric System"}),o.jsxs("form",{onSubmit:T,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-20px"},children:"Metric System Name"}),o.jsx("input",{type:"text",name:"metric_system_name",value:i.metric_system_name,onChange:j,placeholder:"Metric System",required:!0,className:"border p-2 w-full rounded-md"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Kilogram (kg)"}),o.jsx("input",{type:"number",step:"0.0001",name:"metric_val_kilogram",value:i.metric_val_kilogram,onChange:j,placeholder:"Value in Kilogram",required:!0,className:"border p-2 w-full rounded-md"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Gram (g)"}),o.jsx("input",{type:"number",step:"0.0001",name:"metric_val_gram",value:i.metric_val_gram,onChange:j,placeholder:"Value in Gram",required:!0,className:"border p-2 w-full rounded-md"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Pounds (lb)"}),o.jsx("input",{type:"number",step:"0.0001",name:"metric_val_pounds",value:i.metric_val_pounds,onChange:j,placeholder:"Value in Pounds",required:!0,className:"border p-2 w-full rounded-md"})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:u,className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200`,children:h?"Save":"Create"})]})]})]})})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this metric system?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>b(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:D,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Confirm"})]})]})})]})})}const zo="AgriTayoAPIKey2024";function d7(){const[t,e]=O.useState([]),[n,r]=O.useState({crop_id:"",crop_name:"",crop_description:"",category_id:"",shop_id:"",image:null,crop_price:"",crop_quantity:"",metric_system_id:""}),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState([]),[x,g]=O.useState([]),[b,N]=O.useState(!1),[k,v]=O.useState(""),[w,j]=O.useState(""),[E,T]=O.useState(""),[F,D]=O.useState(""),[P,Y]=O.useState(""),[V,I]=O.useState(""),[R,K]=O.useState(!1),[U,le]=O.useState(!1),[Q,Z]=O.useState(!1),[H,q]=O.useState(null);O.useEffect(()=>{ee(),te(),M(),B(),G(),$()},[]);const ee=async()=>{try{const ue=await(await fetch("/api/crops",{headers:{"x-api-key":zo}})).json();e(ue)}catch(fe){console.error("Error fetching crops:",fe)}},te=async()=>{try{const ue=await(await fetch("/api/crop_categories",{headers:{"x-api-key":zo}})).json();s(ue)}catch(fe){console.error("Error fetching crop categories:",fe)}},M=async()=>{try{const ue=await(await fetch("/api/crop_sub_categories",{headers:{"x-api-key":zo}})).json();c(ue)}catch(fe){console.error("Error fetching crop subcategories:",fe)}},B=async()=>{try{const ue=await(await fetch("/api/crop_varieties",{headers:{"x-api-key":zo}})).json();h(ue)}catch(fe){console.error("Error fetching crop varieties:",fe)}},G=async()=>{try{const ue=await(await fetch("/api/shops",{headers:{"x-api-key":zo}})).json();m(ue)}catch(fe){console.error("Error fetching shops:",fe)}},$=async()=>{try{const ue=await(await fetch("/api/metric_systems",{headers:{"x-api-key":zo}})).json();g(ue)}catch(fe){console.error("Error fetching metric systems:",fe)}},ne=fe=>{const{name:ue,value:ct,type:Ke,files:He}=fe.target;r({...n,[ue]:Ke==="file"?He[0]:ct})},he=async fe=>{fe.preventDefault();const ue="/api/crops",ct=new FormData;for(const Ke in n)ct.append(Ke,n[Ke]);try{if(!(await fetch(ue,{method:"POST",headers:{"x-api-key":zo},body:ct})).ok)throw new Error("Network response was not ok");ee(),_e(),K(!1)}catch(Ke){console.error("Error submitting form:",Ke)}},pe=async fe=>{fe.preventDefault();const ue=`/api/crops/${n.crop_id}`,ct=new FormData;for(const Ke in n)ct.append(Ke,n[Ke]);try{if(!(await fetch(ue,{method:"PUT",headers:{"x-api-key":zo},body:ct})).ok)throw new Error("Network response was not ok");ee(),_e(),le(!1)}catch(Ke){console.error("Error submitting form:",Ke)}},_e=()=>{r({crop_id:"",crop_name:"",crop_description:"",category_id:"",shop_id:"",image:null,crop_price:"",crop_quantity:"",metric_system_id:""})},Me=fe=>{r(fe),le(!0),N(!0)},De=fe=>{q(fe),Z(!0)},We=async()=>{if(H)try{if(!(await fetch(`/api/crops/${H}`,{method:"DELETE",headers:{"x-api-key":zo}})).ok)throw new Error("Network response was not ok");ee()}catch(fe){console.error("Error deleting crop:",fe)}finally{Z(!1),q(null)}},qe=t.filter(fe=>{var Ce,Re,Je,tt;const ue=fe.crop_name.toLowerCase().includes(k.toLowerCase())||fe.crop_description.toLowerCase().includes(k.toLowerCase())||fe.crop_price.toString().toLowerCase().includes(k.toLowerCase())||((Ce=i.find(dt=>dt.crop_category_id===fe.category_id))==null?void 0:Ce.crop_category_name.toLowerCase().includes(k.toLowerCase()))||""||((Re=a.find(dt=>dt.crop_sub_category_id===fe.sub_category_id))==null?void 0:Re.crop_sub_category_name.toLowerCase().includes(k.toLowerCase()))||""||((Je=u.find(dt=>dt.crop_variety_id===fe.crop_variety_id))==null?void 0:Je.crop_variety_name.toLowerCase().includes(k.toLowerCase()))||""||((tt=x.find(dt=>dt.metric_system_id===fe.metric_system_id))==null?void 0:tt.metric_system_name.toLowerCase().includes(k.toLowerCase()))||"",ct=w?fe.category_id===parseInt(w):!0,Ke=F?fe.sub_category_id===parseInt(F):!0,He=E?fe.crop_variety_id===parseInt(E):!0,Ge=P?fe.shop_id===parseInt(P):!0,Ye=V?fe.metric_system_id===parseInt(V):!0;return ue&&ct&&Ke&&He&&Ge&&Ye}),mt=()=>{const fe=new vt("landscape"),ue=50,ct=50,Ke=5,He=5,Ye=(fe.internal.pageSize.getWidth()-ue)/2;fe.addImage(go,"PNG",Ye,10,ue,ct);const Ce=10+ct+He;fe.text("Crop List",Ye+ue/2,Ce,{align:"center"});const Re=Ce+Ke+5,Je=qe.map(tt=>{var dt,Nt,Ut,_t,At;return[tt.crop_id,tt.crop_name,tt.crop_description,((dt=i.find(Qe=>Qe.crop_category_id===tt.category_id))==null?void 0:dt.crop_category_name)||"N/A",((Nt=a.find(Qe=>Qe.crop_subcategory_id===tt.subcategory_id))==null?void 0:Nt.crop_subcategory_name)||"N/A",((Ut=u.find(Qe=>Qe.crop_variety_id===tt.crop_variety_id))==null?void 0:Ut.crop_variety_name)||"N/A",((_t=f.find(Qe=>Qe.shop_id===tt.shop_id))==null?void 0:_t.shop_name)||"N/A",tt.crop_image,tt.crop_price,tt.crop_quantity,((At=x.find(Qe=>Qe.metric_system_id===tt.metric_system_id))==null?void 0:At.metric_system_name)||"N/A"]});fe.autoTable({startY:Re,head:[["ID","Name","Description","Category","Shop","Image","Price","Quantity","Weight","Metric System"]],body:Je,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),fe.save("crops_list.pdf")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Crops Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and organize crop information"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[qe.length," Crops"]})})})]})}),o.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("button",{onClick:()=>K(!0),className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"+ Add Crop"}),o.jsx("button",{onClick:mt,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Export PDF"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[o.jsxs("select",{value:w,onChange:fe=>j(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:"All Categories"}),i.map(fe=>o.jsx("option",{value:fe.crop_category_id,children:fe.crop_category_name},fe.crop_category_id))]}),o.jsxs("select",{value:F,onChange:fe=>D(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:"All Subcategories"}),a.map(fe=>o.jsx("option",{value:fe.crop_sub_category_id,children:fe.crop_sub_category_name},fe.crop_sub_category_id))]}),o.jsxs("select",{value:E,onChange:fe=>T(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:"All Varieties"}),u.map(fe=>o.jsx("option",{value:fe.crop_variety_id,children:fe.crop_variety_name},fe.crop_variety_id))]}),o.jsxs("select",{value:P,onChange:fe=>Y(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:"All Shops"}),f.map(fe=>o.jsx("option",{value:fe.shop_id,children:fe.shop_name},fe.shop_id))]}),o.jsxs("select",{value:V,onChange:fe=>I(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`,children:[o.jsx("option",{value:"",children:"All Metric Systems"}),x.map(fe=>o.jsx("option",{value:fe.metric_system_id,children:fe.metric_system_name},fe.metric_system_id))]}),o.jsx("input",{type:"text",placeholder:"Search Crops",value:k,onChange:fe=>v(fe.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg w-full`})]})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-x-auto w-full",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"w-20 px-6 py-4 text-center",children:"ID"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Name"}),o.jsx("th",{className:"w-64 px-6 py-4 text-center",children:"Description"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Category"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Subcategory"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Variety"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Shop"}),o.jsx("th",{className:"w-32 px-6 py-4 text-center",children:"Price"}),o.jsx("th",{className:"w-32 px-6 py-4 text-center",children:"Quantity"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Metric System"}),o.jsx("th",{className:"w-40 px-6 py-4 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:qe.map(fe=>{var ue,ct,Ke,He,Ge;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:fe.crop_id}),o.jsx("td",{className:"px-6 py-4 text-center font-medium",children:fe.crop_name}),o.jsx("td",{className:"px-6 py-4 text-center whitespace-normal",children:fe.crop_description}),o.jsx("td",{className:"px-6 py-4 text-center",children:((ue=i.find(Ye=>Ye.crop_category_id===fe.category_id))==null?void 0:ue.crop_category_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-center",children:((ct=a.find(Ye=>Ye.crop_sub_category_id===fe.sub_category_id))==null?void 0:ct.crop_sub_category_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-center",children:((Ke=u.find(Ye=>Ye.crop_variety_id===fe.crop_variety_id))==null?void 0:Ke.crop_variety_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-center",children:((He=f.find(Ye=>Ye.shop_id===fe.shop_id))==null?void 0:He.shop_name)||"N/A"}),o.jsxs("td",{className:"px-6 py-4 text-center",children:["",fe.crop_price]}),o.jsx("td",{className:"px-6 py-4 text-center",children:fe.crop_quantity}),o.jsx("td",{className:"px-6 py-4 text-center",children:((Ge=x.find(Ye=>Ye.metric_system_id===fe.metric_system_id))==null?void 0:Ge.metric_system_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>Me(fe),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                          transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>De(fe.crop_id),className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                          transition-colors duration-200`,children:"Delete"})]})})]},fe.crop_id)})})]})}),(R||U)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4 max-h-[80vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:U?"Edit Crop":"Add Crop"}),o.jsxs("form",{onSubmit:U?pe:he,className:"space-y-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Crop Name"}),o.jsx("input",{type:"text",name:"crop_name",value:n.crop_name,onChange:ne,placeholder:"Crop Name",required:!0,className:"p-2 border rounded mb-2 w-full"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Crop Description"}),o.jsx("input",{type:"text",name:"crop_description",value:n.crop_description,onChange:ne,placeholder:"Crop Description",className:"p-2 border rounded mb-2 w-full"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Crop Category"}),o.jsxs("select",{name:"category_id",value:n.category_id,onChange:ne,required:!0,className:"p-2 border rounded mb-2 w-full",children:[o.jsx("option",{value:"",children:"Select Category"}),i.map(fe=>o.jsx("option",{value:fe.crop_category_id,children:fe.crop_category_name},fe.crop_category_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Subcategory"}),o.jsxs("select",{name:"sub_category_id",value:n.crop_sub_category_id,onChange:ne,required:!0,className:"p-2 border rounded mb-2 w-full",children:[o.jsx("option",{value:"",children:"Select Subcategory"}),a.map(fe=>o.jsx("option",{value:fe.crop_sub_category_id,children:fe.crop_sub_category_name},fe.crop_sub_category_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Variety"}),o.jsxs("select",{name:"variety_id",value:n.crop_variety_id,onChange:ne,required:!0,className:"p-2 border rounded mb-2 w-full",children:[o.jsx("option",{value:"",children:"Select Variety"}),u.map(fe=>o.jsx("option",{value:fe.crop_variety_id,children:fe.crop_variety_name},fe.crop_variety_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Shop"}),o.jsxs("select",{name:"shop_id",value:n.shop_id,onChange:ne,required:!0,className:"p-2 border rounded mb-2 w-full",children:[o.jsx("option",{value:"",children:"Select Shop"}),f.map(fe=>o.jsx("option",{value:fe.shop_id,children:fe.shop_name},fe.shop_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Crop Image"}),o.jsx("input",{type:"file",name:"image",onChange:ne,accept:"image/*",required:!b,className:"p-2 border rounded mb-2 w-full"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Price"}),o.jsx("input",{type:"number",step:"0.01",name:"crop_price",value:n.crop_price,onChange:ne,placeholder:"Crop Price",required:!0,className:"p-2 border rounded mb-2 w-full"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Quantity"}),o.jsx("input",{type:"number",name:"crop_quantity",value:n.crop_quantity,onChange:ne,placeholder:"Crop Quantity",className:"p-2 border rounded mb-2 w-full"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-15px"},children:"Metric System"}),o.jsxs("select",{name:"metric_system_id",value:n.metric_system_id,onChange:ne,required:!0,className:"p-2 border rounded mb-4 w-full",children:[o.jsx("option",{value:"",children:"Select Metric System"}),x.map(fe=>o.jsx("option",{value:fe.metric_system_id,children:fe.metric_system_name},fe.metric_system_id))]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{_e(),le(!1),K(!1)},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200`,children:U?"Save":"Create"})]})]})]})})}),Q&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this crop?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>Z(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:We,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Delete"})]})]})})]})})}const Of="AgriTayoAPIKey2024";function h7(){const[t,e]=O.useState([]),[n,r]=O.useState({order_status_name:"",order_status_description:""}),[i,s]=O.useState(!1),[a,c]=O.useState(null);O.useEffect(()=>{u()},[]);const u=async()=>{try{const g=await fetch("/api/order_statuses",{headers:{"x-api-key":Of}});if(!g.ok)throw new Error("Failed to fetch order statuses");const b=await g.json();e(b)}catch(g){console.error("Error fetching order statuses:",g)}},h=g=>{const{name:b,value:N}=g.target;r({...n,[b]:N})},f=async g=>{g.preventDefault();try{let b;if(i?b=await fetch(`/api/order_statuses/${a}`,{method:"PUT",headers:{"Content-Type":"application/json","x-api-key":Of},body:JSON.stringify(n)}):b=await fetch("/api/order_statuses",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Of},body:JSON.stringify(n)}),!b.ok)throw new Error("Failed to submit form");u(),r({order_status_name:"",order_status_description:""}),s(!1),c(null)}catch(b){console.error("Error submitting form:",b)}},m=g=>{r({order_status_name:g.order_status_name,order_status_description:g.order_status_description}),s(!0),c(g.order_status_id)},x=async g=>{try{if(!(await fetch(`/api/order_statuses/${g}`,{method:"DELETE",headers:{"x-api-key":Of}})).ok)throw new Error("Failed to delete order status");u()}catch(b){console.error("Error deleting order status:",b)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Order Status Management"}),o.jsxs("form",{onSubmit:f,children:[o.jsx("input",{type:"text",name:"order_status_name",value:n.order_status_name,onChange:h,placeholder:"Order Status Name",required:!0}),o.jsx("input",{type:"text",name:"order_status_description",value:n.order_status_description,onChange:h,placeholder:"Order Status Description",required:!0}),o.jsx("button",{type:"submit",children:i?"Update":"Add"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Name"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Description"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(g=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:g.order_status_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:g.order_status_name}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:g.order_status_description}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>m(g),children:"Edit"}),o.jsx("button",{onClick:()=>x(g.order_status_id),children:"Delete"})]})]},g.order_status_id))})]})]})}const Dl="AgriTayoAPIKey2024";function f7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState({total_price:"",total_weight:"",status_id:"",user_id:"",order_metric_system_id:""}),[x,g]=O.useState(!1),[b,N]=O.useState(!1),[k,v]=O.useState(""),[w,j]=O.useState(""),[E,T]=O.useState(!1),[F,D]=O.useState(!1),[P,Y]=O.useState(null);O.useEffect(()=>{V(),I(),R(),K()},[]),O.useEffect(()=>{r(t.filter(B=>{var G,$,ne;return(B.total_price.toString().includes(k)||B.total_weight.toString().includes(k)||((G=i.find(he=>he.order_status_id===B.status_id))==null?void 0:G.order_status_name.toLowerCase().includes(k.toLowerCase()))||(($=a.find(he=>he.user_id===B.user_id))==null?void 0:$.firstname.toLowerCase().includes(k.toLowerCase()))||((ne=a.find(he=>he.user_id===B.user_id))==null?void 0:ne.lastname.toLowerCase().includes(k.toLowerCase())))&&(w===""||B.status_id===parseInt(w))}))},[t,k,w]);const V=async()=>{try{const G=await(await fetch("/api/orders",{headers:{"x-api-key":Dl}})).json();e(G)}catch(B){console.error("Error fetching orders:",B)}},I=async()=>{try{const G=await(await fetch("/api/order_statuses",{headers:{"x-api-key":Dl}})).json();s(G)}catch(B){console.error("Error fetching order statuses:",B)}},R=async()=>{try{const G=await(await fetch("/api/users",{headers:{"x-api-key":Dl}})).json();c(G)}catch(B){console.error("Error fetching users:",B)}},K=async()=>{try{const G=await(await fetch("/api/metric_systems",{headers:{"x-api-key":Dl}})).json();h(G)}catch(B){console.error("Error fetching metric systems:",B)}},U=B=>{const{name:G,value:$}=B.target;m({...f,[G]:$})},le=B=>{j(B.target.value)},Q=async B=>{B.preventDefault(),x?await H():await Z()},Z=async()=>{try{await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Dl},body:JSON.stringify(f)}),V(),m({total_price:"",total_weight:"",status_id:"",user_id:"",order_metric_system_id:""}),N(!1)}catch(B){console.error("Error creating order:",B)}},H=async()=>{try{await fetch(`/api/orders/${f.order_id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-api-key":Dl},body:JSON.stringify(f)}),V(),g(!1),T(!1)}catch(B){console.error("Error updating order:",B)}},q=B=>{m(B),g(!0),T(!0)},ee=async()=>{try{await fetch(`/api/orders/${P}`,{method:"DELETE",headers:{"x-api-key":Dl}}),V(),D(!1)}catch(B){console.error("Error deleting order:",B)}},te=()=>{const B=new vt("landscape"),G=50,$=50,ne=B.internal.pageSize.getWidth(),he=(ne-G)/2;B.addImage(go,"PNG",he,10,G,$),B.text("Orders List",ne/2,70,{align:"center"}),B.autoTable({startY:80,head:[["ID","Total Price","Total Weight","Status","User","Order Date","Metric System"]],body:n.map(pe=>{var _e,Me,De,We;return[pe.order_id,pe.total_price,pe.total_weight,((_e=i.find(qe=>qe.order_status_id===pe.status_id))==null?void 0:_e.order_status_name)||"Unknown",`${((Me=a.find(qe=>qe.user_id===pe.user_id))==null?void 0:Me.firstname)||""} ${((De=a.find(qe=>qe.user_id===pe.user_id))==null?void 0:De.lastname)||""}`,new Date(pe.order_date).toLocaleString(),((We=u.find(qe=>qe.metric_system_id===pe.order_metric_system_id))==null?void 0:We.metric_system_name)||"Unknown"]}),headStyles:{fillColor:[0,178,81],halign:"center",valign:"middle"}}),B.save("orders.pdf")},M=()=>{m({total_price:"",total_weight:"",status_id:"",user_id:"",order_metric_system_id:""}),g(!1),N(!0)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Orders Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and track orders efficiently"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[n.length," Orders"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 items-center mb-6",children:[o.jsx("input",{type:"text",value:k,onChange:B=>v(B.target.value),placeholder:"Search Orders",className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/4
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-2 sm:mb-0`}),o.jsxs("select",{onChange:le,value:w,className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/4
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-2 sm:mb-0`,children:[o.jsx("option",{value:"",children:"All Statuses"}),i.map(B=>o.jsx("option",{value:B.order_status_id,children:B.order_status_name},B.order_status_id))]}),o.jsx("button",{onClick:M,className:`bg-green-600 text-white font-semibold py-2 px-4 rounded-xl
                            hover:bg-green-700 transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto mb-2 sm:mb-0`,children:"+ Add Order"}),o.jsx("button",{onClick:te,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"Export to PDF"})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Total Price","Total Weight","Status","User","Order Date","Metric System","Actions"].map(B=>o.jsx("th",{className:"px-6 py-4 text-center",children:B},B))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(B=>{var G,$,ne,he;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:B.order_id}),o.jsx("td",{className:"px-6 py-4 text-center",children:B.total_price}),o.jsx("td",{className:"px-6 py-4 text-center",children:B.total_weight}),o.jsx("td",{className:"px-6 py-4 text-center",children:((G=i.find(pe=>pe.order_status_id===B.status_id))==null?void 0:G.order_status_name)||"Unknown"}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[($=a.find(pe=>pe.user_id===B.user_id))==null?void 0:$.firstname," ",(ne=a.find(pe=>pe.user_id===B.user_id))==null?void 0:ne.lastname]}),o.jsx("td",{className:"px-6 py-4 text-center",children:new Date(B.order_date).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-center",children:((he=u.find(pe=>pe.metric_system_id===B.order_metric_system_id))==null?void 0:he.metric_system_name)||"Unknown"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>q(B),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                                                    transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{Y(B.order_id),D(!0)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                                                    transition-colors duration-200`,children:"Delete"})]})})]},B.order_id)})})]})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:x?"Edit Order":"Create New Order"}),o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-l font-bold mb-2",children:"Total Price"}),o.jsx("input",{type:"text",name:"total_price",value:f.total_price,onChange:U,placeholder:"Total Price",className:"p-2 border border-gray-300 rounded w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-l font-bold mb-2",children:"Total Weight"}),o.jsx("input",{type:"text",name:"total_weight",value:f.total_weight,onChange:U,placeholder:"Total Weight",className:"p-2 border border-gray-300 rounded w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-l font-bold mb-2",children:"Order Status"}),o.jsxs("select",{name:"status_id",value:f.status_id,onChange:U,className:"p-2 border border-gray-300 rounded w-full",required:!0,children:[o.jsx("option",{value:"",children:"Select Status"}),i.map(B=>o.jsx("option",{value:B.order_status_id,children:B.order_status_name},B.order_status_id))]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-l font-bold mb-2",children:"User"}),o.jsxs("select",{name:"user_id",value:f.user_id,onChange:U,className:"p-2 border border-gray-300 rounded w-full",required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map(B=>o.jsxs("option",{value:B.user_id,children:[B.firstname," ",B.lastname]},B.user_id))]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-l font-bold mb-2",children:"Metric System"}),o.jsxs("select",{name:"order_metric_system_id",value:f.order_metric_system_id,onChange:U,className:"p-2 border border-gray-300 rounded w-full",required:!0,children:[o.jsx("option",{value:"",children:"Select Metric System"}),u.map(B=>o.jsx("option",{value:B.metric_system_id,children:B.metric_system_name},B.metric_system_id))]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:x?"Save Changes":"Create Order"})]})]})]})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Edit Order"}),o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-20px"},children:"Total Price"}),o.jsx("input",{type:"text",name:"total_price",value:f.total_price,onChange:U,placeholder:"Total Price",className:"p-2 border border-gray-300 rounded",required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Total Weight"}),o.jsx("input",{type:"text",name:"total_weight",value:f.total_weight,onChange:U,placeholder:"Total Weight",className:"p-2 border border-gray-300 rounded"}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Order Status"}),o.jsxs("select",{name:"status_id",value:f.status_id,onChange:U,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Status"}),i.map(B=>o.jsx("option",{value:B.order_status_id,children:B.order_status_name},B.order_status_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"User"}),o.jsxs("select",{name:"user_id",value:f.user_id,onChange:U,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map(B=>o.jsxs("option",{value:B.user_id,children:[B.firstname," ",B.lastname]},B.user_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Metric System"}),o.jsxs("select",{name:"order_metric_system_id",value:f.order_metric_system_id,onChange:U,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Metric System"}),u.map(B=>o.jsx("option",{value:B.metric_system_id,children:B.metric_system_name},B.metric_system_id))]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>T(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:"Save"})]})]})]})})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this order?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>D(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:ee,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                                        transition-colors duration-200`,children:"Confirm"})]})]})})]})})}const Il="AgriTayoAPIKey2024";function p7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState({order_id:"",order_prod_crop_id:"",order_prod_total_weight:"",order_prod_total_price:"",order_prod_user_id:"",order_prod_metric_system_id:""}),[x,g]=O.useState(!1),[b,N]=O.useState(!1),[k,v]=O.useState(""),[w,j]=O.useState(""),[E,T]=O.useState(!1),[F,D]=O.useState(!1),[P,Y]=O.useState(!1),[V,I]=O.useState(null);O.useEffect(()=>{R(),K(),U(),le(),Q()},[]);const R=async()=>{try{const $=await fetch("/api/order_products",{headers:{"x-api-key":Il}});if(!$.ok)throw new Error("Network response was not ok");const ne=await $.json();e(ne)}catch($){console.error("Error fetching order products:",$)}},K=async()=>{try{const $=await fetch("/api/orders",{headers:{"x-api-key":Il}});if(!$.ok)throw new Error("Network response was not ok");const ne=await $.json();r(ne)}catch($){console.error("Error fetching orders:",$)}},U=async()=>{try{const $=await fetch("/api/crops",{headers:{"x-api-key":Il}});if(!$.ok)throw new Error("Network response was not ok");const ne=await $.json();s(ne)}catch($){console.error("Error fetching crops:",$)}},le=async()=>{try{const $=await fetch("/api/users",{headers:{"x-api-key":Il}});if(!$.ok)throw new Error("Network response was not ok");const ne=await $.json();c(ne)}catch($){console.error("Error fetching users:",$)}},Q=async()=>{try{const $=await fetch("/api/metric_systems",{headers:{"x-api-key":Il}});if(!$.ok)throw new Error("Network response was not ok");const ne=await $.json();h(ne)}catch($){console.error("Error fetching metric systems:",$)}},Z=$=>{const{name:ne,value:he}=$.target;m({...f,[ne]:he})},H=async $=>{$.preventDefault();const ne=x?`/api/order_products/${f.order_prod_id}`:"/api/order_products",he=x?"PUT":"POST";try{if(!(await fetch(ne,{method:he,headers:{"Content-Type":"application/json","x-api-key":Il},body:JSON.stringify(f)})).ok)throw new Error("Network response was not ok");R(),G()}catch(pe){console.error("Error submitting form:",pe)}},q=$=>{m($),g(!0),T(!0)},ee=()=>{console.log("Create button clicked"),m({order_id:"",order_prod_crop_id:"",order_prod_total_weight:"",order_prod_total_price:"",order_prod_user_id:"",order_prod_metric_system_id:""}),N(!0),D(!0)},te=async()=>{try{if(!(await fetch(`/api/order_products/${V}`,{method:"DELETE",headers:{"x-api-key":Il}})).ok)throw new Error("Network response was not ok");R(),Y(!1)}catch($){console.error("Error deleting order product:",$)}},M=t.filter($=>{var _e;const ne=((_e=i.find(Me=>Me.crop_id===$.order_prod_crop_id))==null?void 0:_e.crop_name.toLowerCase())||"",he=a.find(Me=>Me.user_id===$.order_prod_user_id),pe=he?`${he.firstname} ${he.lastname}`.toLowerCase():"";return w==="crop"&&ne?ne.includes(k.toLowerCase()):w==="user"&&pe?pe.includes(k.toLowerCase()):w==="weight"?$.order_prod_total_weight.toString().includes(k):w==="price"?$.order_prod_total_price.toString().includes(k):ne.includes(k.toLowerCase())||pe.includes(k.toLowerCase())||$.order_prod_total_weight.toString().includes(k)||$.order_prod_total_price.toString().includes(k)}),B=()=>{const $=new vt("landscape"),ne=50,he=50,pe=5,_e=5,De=($.internal.pageSize.getWidth()-ne)/2;$.addImage(go,"PNG",De,10,ne,he);const We=10+he+_e;$.text("Order Product List",De+ne/2,We,{align:"center"});const qe=We+pe+5,mt=["ID","Order ID","Product Crop Name","Total Weight","Total Price","User Name","Metric System Name"],fe=[];M.forEach(ue=>{var Ye,Ce;const ct=((Ye=i.find(Re=>Re.crop_id===ue.order_prod_crop_id))==null?void 0:Ye.crop_name)||"",Ke=a.find(Re=>Re.user_id===ue.order_prod_user_id),He=Ke?`${Ke.firstname} ${Ke.lastname}`:"",Ge=((Ce=u.find(Re=>Re.metric_system_id===ue.order_prod_metric_system_id))==null?void 0:Ce.metric_system_name)||"";fe.push([ue.order_prod_id,ue.order_id,ct,ue.order_prod_total_weight,ue.order_prod_total_price,He,Ge])}),$.autoTable({head:[mt],body:fe,startY:qe,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),$.save("order_products.pdf")},G=()=>{m({order_id:"",order_prod_crop_id:"",order_prod_total_weight:"",order_prod_total_price:"",order_prod_user_id:"",order_prod_metric_system_id:""}),g(!1),T(!1),N(!1),D(!1)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Order Products Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and track order products efficiently"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[M.length," Products"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 items-center mb-6",children:[o.jsxs("select",{value:w,onChange:$=>j($.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/4
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-2 sm:mb-0`,children:[o.jsx("option",{value:"",children:"Select Filter Type"}),o.jsx("option",{value:"crop",children:"Crop Name"}),o.jsx("option",{value:"user",children:"User Name"}),o.jsx("option",{value:"weight",children:"Total Weight"}),o.jsx("option",{value:"price",children:"Total Price"})]}),o.jsx("input",{type:"text",placeholder:"Search Order Products",value:k,onChange:$=>v($.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/4
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-2 sm:mb-0`}),o.jsx("button",{onClick:ee,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto mb-2 sm:mb-0`,children:"+ Add Order Product"}),o.jsx("button",{onClick:B,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"Export to PDF"})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Order ID","Product Crop Name","Total Weight","Total Price","User Name","Metric System Name","Actions"].map($=>o.jsx("th",{className:"px-6 py-4 text-center",children:$},$))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map($=>{var ne,he,pe,_e;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:$.order_prod_id}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.order_id}),o.jsx("td",{className:"px-6 py-4 text-center",children:(ne=i.find(Me=>Me.crop_id===$.order_prod_crop_id))==null?void 0:ne.crop_name}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.order_prod_total_weight}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.order_prod_total_price}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[(he=a.find(Me=>Me.user_id===$.order_prod_user_id))==null?void 0:he.firstname," ",(pe=a.find(Me=>Me.user_id===$.order_prod_user_id))==null?void 0:pe.lastname]}),o.jsx("td",{className:"px-6 py-4 text-center",children:(_e=u.find(Me=>Me.metric_system_id===$.order_prod_metric_system_id))==null?void 0:_e.metric_system_name}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>q($),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                                                    transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{I($.order_prod_id),Y(!0)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                                                    transition-colors duration-200`,children:"Delete"})]})})]},$.order_prod_id)})})]})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Order Product"}),o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-10px"},children:"Order ID"}),o.jsxs("select",{name:"order_id",value:f.order_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Order"}),n.map($=>o.jsx("option",{value:$.order_id,children:$.order_id},$.order_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Product Crop Name"}),o.jsxs("select",{name:"order_prod_crop_id",value:f.order_prod_crop_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Crop"}),i.map($=>o.jsx("option",{value:$.crop_id,children:$.crop_name},$.crop_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Total Weight"}),o.jsx("input",{type:"text",name:"order_prod_total_weight",value:f.order_prod_total_weight,onChange:Z,placeholder:"Order Product Total Weight",className:"p-2 border border-gray-300 rounded",required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Total Price"}),o.jsx("input",{type:"text",name:"order_prod_total_price",value:f.order_prod_total_price,onChange:Z,placeholder:"Order Product Total Price",className:"p-2 border border-gray-300 rounded",required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"User"}),o.jsxs("select",{name:"order_prod_user_id",value:f.order_prod_user_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map($=>o.jsxs("option",{value:$.user_id,children:[$.firstname," ",$.lastname]},$.user_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Metric System"}),o.jsxs("select",{name:"order_prod_metric_system_id",value:f.order_prod_metric_system_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Metric System"}),u.map($=>o.jsx("option",{value:$.metric_system_id,children:$.metric_system_name},$.metric_system_id))]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{D(!1),m({order_id:"",order_prod_crop_id:"",order_prod_total_weight:"",order_prod_total_price:"",order_prod_user_id:"",order_prod_metric_system_id:""})},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:"Create"})]})]})]})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Edit Order Products"}),o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-10px"},children:"Order ID"}),o.jsxs("select",{name:"order_id",value:f.order_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Order"}),n.map($=>o.jsx("option",{value:$.order_id,children:$.order_id},$.order_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Product Crop Name"}),o.jsxs("select",{name:"order_prod_crop_id",value:f.order_prod_crop_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Crop"}),i.map($=>o.jsx("option",{value:$.crop_id,children:$.crop_name},$.crop_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Total Weight"}),o.jsx("input",{type:"text",name:"order_prod_total_weight",value:f.order_prod_total_weight,onChange:Z,placeholder:"Order Product Total Weight",className:"p-2 border border-gray-300 rounded",required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Total Price"}),o.jsx("input",{type:"text",name:"order_prod_total_price",value:f.order_prod_total_price,onChange:Z,placeholder:"Order Product Total Price",className:"p-2 border border-gray-300 rounded",required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"User"}),o.jsxs("select",{name:"order_prod_user_id",value:f.order_prod_user_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map($=>o.jsxs("option",{value:$.user_id,children:[$.firstname," ",$.lastname]},$.user_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-10px"},children:"Metric System"}),o.jsxs("select",{name:"order_prod_metric_system_id",value:f.order_prod_metric_system_id,onChange:Z,className:"p-2 border border-gray-300 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Metric System"}),u.map($=>o.jsx("option",{value:$.metric_system_id,children:$.metric_system_name},$.metric_system_id))]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>T(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:"Save"})]})]})]})})}),P&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this order product?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>Y(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:te,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                                        transition-colors duration-200`,children:"Confirm"})]})]})})]})})}const hd="AgriTayoAPIKey2024";function m7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState({cart_total_price:"",cart_total_quantity:"",cart_user_id:"",cart_crop_id:"",cart_metric_system_id:""}),[u,h]=O.useState(!1);O.useEffect(()=>{f(),m(),x()},[]);const f=async()=>{try{const v=await fetch("/api/carts",{headers:{"x-api-key":hd}});if(!v.ok)throw new Error("Network response was not ok");const w=await v.json();e(w)}catch(v){console.error("Error fetching carts:",v)}},m=async()=>{try{const v=await fetch("/api/users",{headers:{"x-api-key":hd}});if(!v.ok)throw new Error("Network response was not ok");const w=await v.json();r(w)}catch(v){console.error("Error fetching users:",v)}},x=async()=>{try{const v=await fetch("/api/metric_systems",{headers:{"x-api-key":hd}});if(!v.ok)throw new Error("Network response was not ok");const w=await v.json();s(w)}catch(v){console.error("Error fetching metric systems:",v)}},g=v=>{const{name:w,value:j}=v.target;c({...a,[w]:j})},b=async v=>{v.preventDefault();const w=u?`/api/carts/${a.cart_id}`:"/api/carts",j=u?"PUT":"POST";try{if(!(await fetch(w,{method:j,headers:{"Content-Type":"application/json","x-api-key":hd},body:JSON.stringify(a)})).ok)throw new Error("Network response was not ok");f(),c({cart_total_price:"",cart_total_quantity:"",cart_user_id:"",cart_crop_id:"",cart_metric_system_id:""}),h(!1)}catch(E){console.error("Error submitting form:",E)}},N=v=>{c(v),h(!0)},k=async v=>{try{if(!(await fetch(`/api/carts/${v}`,{method:"DELETE",headers:{"x-api-key":hd}})).ok)throw new Error("Network response was not ok");f()}catch(w){console.error("Error deleting cart:",w)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{style:{marginBottom:"20px"},children:"Cart Management"}),o.jsxs("form",{onSubmit:b,style:{marginBottom:"20px"},children:[o.jsx("input",{type:"number",step:"0.01",name:"cart_total_price",value:a.cart_total_price,onChange:g,placeholder:"Total Price",required:!0,style:{marginRight:"10px",marginBottom:"10px",padding:"5px"}}),o.jsx("input",{type:"number",step:"0.0001",name:"cart_total_quantity",value:a.cart_total_quantity,onChange:g,placeholder:"Total Quantity",style:{marginRight:"10px",marginBottom:"10px",padding:"5px"}}),o.jsxs("select",{name:"cart_user_id",value:a.cart_user_id,onChange:g,style:{marginRight:"10px",marginBottom:"10px",padding:"5px"},children:[o.jsx("option",{value:"",children:"Select User"}),n.map(v=>o.jsx("option",{value:v.user_id,children:v.firstname},v.user_id))]}),o.jsxs("select",{name:"cart_metric_system_id",value:a.cart_metric_system_id,onChange:g,style:{marginRight:"10px",marginBottom:"10px",padding:"5px"},children:[o.jsx("option",{value:"",children:"Select Metric System"}),i.map(v=>o.jsx("option",{value:v.metric_system_id,children:v.metric_system_name},v.metric_system_id))]}),o.jsx("button",{type:"submit",children:u?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Total Price"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Total Quantity"})," ",o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"User ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Metric System"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(v=>{var w,j;return o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:v.cart_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:v.cart_total_price}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:v.cart_total_quantity})," ",o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:((w=n.find(E=>E.user_id===v.cart_user_id))==null?void 0:w.username)||"N/A"}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:((j=i.find(E=>E.metric_system_id===v.cart_metric_system_id))==null?void 0:j.metric_system_name)||"N/A"}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>N(v),children:"Edit"}),o.jsx("button",{onClick:()=>k(v.cart_id),children:"Delete"})]})]},v.cart_id)})})]})]})}const Rl="AgriTayoAPIKey2024";function g7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState({cart_id:"",cart_prod_crop_id:"",cart_prod_total_weight:"",cart_prod_total_price:"",cart_prod_user_id:"",cart_prod_metric_system_id:""}),[x,g]=O.useState(!1);O.useEffect(()=>{b(),N(),k(),v(),w()},[]);const b=async()=>{try{const D=await fetch("/api/cart_products",{headers:{"x-api-key":Rl}});if(!D.ok)throw new Error("Network response was not ok");const P=await D.json();e(P)}catch(D){console.error("Error fetching cart products:",D)}},N=async()=>{try{const D=await fetch("/api/carts",{headers:{"x-api-key":Rl}});if(!D.ok)throw new Error("Network response was not ok");const P=await D.json();r(P)}catch(D){console.error("Error fetching carts:",D)}},k=async()=>{try{const D=await fetch("/api/crops",{headers:{"x-api-key":Rl}});if(!D.ok)throw new Error("Network response was not ok");const P=await D.json();s(P)}catch(D){console.error("Error fetching crops:",D)}},v=async()=>{try{const D=await fetch("/api/users",{headers:{"x-api-key":Rl}});if(!D.ok)throw new Error("Network response was not ok");const P=await D.json();c(P)}catch(D){console.error("Error fetching users:",D)}},w=async()=>{try{const D=await fetch("/api/metric_systems",{headers:{"x-api-key":Rl}});if(!D.ok)throw new Error("Network response was not ok");const P=await D.json();h(P)}catch(D){console.error("Error fetching metric systems:",D)}},j=D=>{const{name:P,value:Y}=D.target;m({...f,[P]:Y})},E=async D=>{D.preventDefault();const P=x?`/api/cart_products/${f.cart_prod_id}`:"/api/cart_products",Y=x?"PUT":"POST";try{if(!(await fetch(P,{method:Y,headers:{"Content-Type":"application/json","x-api-key":Rl},body:JSON.stringify(f)})).ok)throw new Error("Network response was not ok");b(),m({cart_id:"",cart_prod_crop_id:"",cart_prod_total_weight:"",cart_prod_total_price:"",cart_prod_user_id:"",cart_prod_metric_system_id:""}),g(!1)}catch(V){console.error("Error submitting form:",V)}},T=D=>{m(D),g(!0)},F=async D=>{try{if(!(await fetch(`/api/cart_products/${D}`,{method:"DELETE",headers:{"x-api-key":Rl}})).ok)throw new Error("Network response was not ok");b()}catch(P){console.error("Error deleting cart product:",P)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Cart Products Management"}),o.jsxs("form",{onSubmit:E,children:[o.jsxs("select",{name:"cart_id",value:f.cart_id,onChange:j,required:!0,children:[o.jsx("option",{value:"",children:"Select Cart"}),n.map(D=>o.jsxs("option",{value:D.cart_id,children:["Cart ID: ",D.cart_id]},D.cart_id))]}),o.jsxs("select",{name:"cart_prod_crop_id",value:f.cart_prod_crop_id,onChange:j,required:!0,children:[o.jsx("option",{value:"",children:"Select Crop"}),i.map(D=>o.jsx("option",{value:D.crop_id,children:D.crop_name},D.crop_id))]}),o.jsx("input",{type:"text",name:"cart_prod_total_weight",value:f.cart_prod_total_weight,onChange:j,placeholder:"Total Weight"}),o.jsx("input",{type:"text",name:"cart_prod_total_price",value:f.cart_prod_total_price,onChange:j,placeholder:"Total Price",required:!0}),o.jsxs("select",{name:"cart_prod_user_id",value:f.cart_prod_user_id,onChange:j,required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map(D=>o.jsxs("option",{value:D.user_id,children:[D.firstname," ",D.lastname]},D.user_id))]}),o.jsxs("select",{name:"cart_prod_metric_system_id",value:f.cart_prod_metric_system_id,onChange:j,required:!0,children:[o.jsx("option",{value:"",children:"Select Metric System"}),u.map(D=>o.jsx("option",{value:D.metric_system_id,children:D.metric_system_name},D.metric_system_id))]}),o.jsx("button",{type:"submit",children:x?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Cart ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Crop"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Total Weight"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Total Price"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"User"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Metric System"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(D=>{var P,Y,V,I;return o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:D.cart_prod_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:D.cart_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:(P=i.find(R=>R.crop_id===D.cart_prod_crop_id))==null?void 0:P.crop_name}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:D.cart_prod_total_weight}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:D.cart_prod_total_price}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[(Y=a.find(R=>R.user_id===D.cart_prod_user_id))==null?void 0:Y.firstname," ",(V=a.find(R=>R.user_id===D.cart_prod_user_id))==null?void 0:V.lastname]}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:(I=u.find(R=>R.metric_system_id===D.cart_prod_metric_system_id))==null?void 0:I.metric_system_name}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>T(D),children:"Edit"}),o.jsx("button",{onClick:()=>F(D.cart_prod_id),children:"Delete"})]})]},D.cart_prod_id)})})]})]})}const fd="AgriTayoAPIKey2024";function x7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState({crop_id:"",user_id:"",rating:"",review_text:""}),[f,m]=O.useState(!1),[x,g]=O.useState(!1),[b,N]=O.useState(!1),[k,v]=O.useState(!1),[w,j]=O.useState(null),[E,T]=O.useState("");O.useEffect(()=>{F(),D(),P()},[]),O.useEffect(()=>{r(t)},[t]);const F=async()=>{try{const H=await fetch("/api/reviews",{headers:{"x-api-key":fd}});if(!H.ok)throw new Error("Network response was not ok");const q=await H.json();e(q)}catch(H){console.error("Error fetching reviews:",H)}},D=async()=>{try{const H=await fetch("/api/crops",{headers:{"x-api-key":fd}});if(!H.ok)throw new Error("Network response was not ok");const q=await H.json();s(q)}catch(H){console.error("Error fetching crops:",H)}},P=async()=>{try{const H=await fetch("/api/users",{headers:{"x-api-key":fd}});if(!H.ok)throw new Error("Network response was not ok");const q=await H.json();c(q)}catch(H){console.error("Error fetching users:",H)}},Y=H=>{const{name:q,value:ee}=H.target;h({...u,[q]:ee})},V=async H=>{H.preventDefault();const q=f?`/api/reviews/${u.review_id}`:"/api/reviews",ee=f?"PUT":"POST";try{if(!(await fetch(q,{method:ee,headers:{"Content-Type":"application/json","x-api-key":fd},body:JSON.stringify(u)})).ok)throw new Error("Network response was not ok");F(),h({crop_id:"",user_id:"",rating:"",review_text:""}),m(!1),N(!1),g(!1)}catch(te){console.error("Error submitting form:",te)}},I=H=>{h(H),m(!0),N(!0)},R=()=>{h({crop_id:"",user_id:"",rating:"",review_text:""}),m(!1),g(!0)},K=async()=>{try{if(!(await fetch(`/api/reviews/${w}`,{method:"DELETE",headers:{"x-api-key":fd}})).ok)throw new Error("Network response was not ok");F(),v(!1)}catch(H){console.error("Error deleting review:",H)}},U=()=>{const H=new vt("landscape"),q=n.map(pe=>{var _e,Me,De;return[pe.review_id,(_e=i.find(We=>We.crop_id===pe.crop_id))==null?void 0:_e.crop_name,((Me=a.find(We=>We.user_id===pe.user_id))==null?void 0:Me.firstname)+" "+((De=a.find(We=>We.user_id===pe.user_id))==null?void 0:De.lastname),pe.rating,pe.review_text,new Date(pe.review_date).toLocaleString()]}),ee=50,te=50,M=5,B=5,$=(H.internal.pageSize.getWidth()-ee)/2;H.addImage(go,"PNG",$,10,ee,te);const ne=10+te+B;H.text("Reviews",$+ee/2,ne,{align:"center"});const he=ne+M+5;H.autoTable({head:[["ID","Crop","User","Rating","Review Text","Review Date"]],body:q,startY:he,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),H.save("reviews_list.pdf")},le=H=>{const q=H.target.value.toLowerCase();T(q);const ee=t.filter(te=>{var $,ne,he;const M=(($=i.find(pe=>pe.crop_id===te.crop_id))==null?void 0:$.crop_name.toLowerCase())||"",B=((ne=a.find(pe=>pe.user_id===te.user_id))==null?void 0:ne.firstname.toLowerCase())+" "+((he=a.find(pe=>pe.user_id===te.user_id))==null?void 0:he.lastname.toLowerCase())||"",G=te.review_text.toLowerCase();return M.includes(q)||B.includes(q)||G.includes(q)||te.rating.toString().includes(q)});r(ee)},Q=H=>{const q=H.target.value,ee=t.filter(te=>te.crop_id===q||q==="");r(ee)},Z=H=>{const q=H.target.value,ee=t.filter(te=>te.rating===parseInt(q)||q==="");r(ee)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Reviews Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Manage and review user feedback"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[n.length," Reviews"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsx("input",{type:"text",value:E,onChange:le,placeholder:"Search reviews...",className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/3
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-4 sm:mb-0`}),o.jsxs("select",{className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/6
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-4 sm:mb-0`,onChange:Q,children:[o.jsx("option",{value:"",children:"Filter by Crop"}),i.map(H=>o.jsx("option",{value:H.crop_id,children:H.crop_name},H.crop_id))]}),o.jsxs("select",{className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-1/6
                            focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg mb-4 sm:mb-0`,onChange:Z,children:[o.jsx("option",{value:"",children:"Filter by Rating"}),o.jsx("option",{value:"5",children:"5 Stars"}),o.jsx("option",{value:"4",children:"4 Stars"}),o.jsx("option",{value:"3",children:"3 Stars"}),o.jsx("option",{value:"2",children:"2 Stars"}),o.jsx("option",{value:"1",children:"1 Star"})]}),o.jsx("button",{onClick:R,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto mr-2`,children:"+ Review"}),o.jsx("button",{onClick:U,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                            hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"Export to PDF"})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Crop","User","Rating","Review Text","Review Date","Actions"].map(H=>o.jsx("th",{className:"px-6 py-4 text-center",children:H},H))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(H=>{var q,ee,te;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:H.review_id}),o.jsx("td",{className:"px-6 py-4 text-center",children:(q=i.find(M=>M.crop_id===H.crop_id))==null?void 0:q.crop_name}),o.jsxs("td",{className:"px-6 py-4 text-center",children:[(ee=a.find(M=>M.user_id===H.user_id))==null?void 0:ee.firstname," ",(te=a.find(M=>M.user_id===H.user_id))==null?void 0:te.lastname]}),o.jsx("td",{className:"px-6 py-4 text-center",children:H.rating}),o.jsx("td",{className:"px-6 py-4 text-center",children:H.review_text}),o.jsx("td",{className:"px-6 py-4 text-center",children:new Date(H.review_date).toLocaleString()}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>I(H),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                                                    transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>{v(!0),j(H.review_id)},className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                                                    transition-colors duration-200`,children:"Delete"})]})})]},H.review_id)})})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Review"}),o.jsxs("form",{onSubmit:V,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-20px"},children:"Crop Name"}),o.jsxs("select",{name:"crop_id",value:u.crop_id,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0,children:[o.jsx("option",{value:"",children:"Select Crop"}),i.map(H=>o.jsx("option",{value:H.crop_id,children:H.crop_name},H.crop_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"User"}),o.jsxs("select",{name:"user_id",value:u.user_id,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map(H=>o.jsxs("option",{value:H.user_id,children:[H.firstname," ",H.lastname]},H.user_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Rating"}),o.jsx("input",{type:"number",name:"rating",value:u.rating,onChange:Y,placeholder:"Rating (1-5)",min:"1",max:"5",step:"0.1",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Review Text"}),o.jsx("textarea",{name:"review_text",value:u.review_text,onChange:Y,placeholder:"Review Text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:"Create"})]})]})]})})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Edit Review"}),o.jsxs("form",{onSubmit:V,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"-20px"},children:"Crop Name"}),o.jsxs("select",{name:"crop_id",value:u.crop_id,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0,children:[o.jsx("option",{value:"",children:"Select Crop"}),i.map(H=>o.jsx("option",{value:H.crop_id,children:H.crop_name},H.crop_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"User"}),o.jsxs("select",{name:"user_id",value:u.user_id,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),a.map(H=>o.jsxs("option",{value:H.user_id,children:[H.firstname," ",H.lastname]},H.user_id))]}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Rating"}),o.jsx("input",{type:"number",name:"rating",value:u.rating,onChange:Y,placeholder:"Rating (1-5)",min:"1",max:"5",step:"0.1",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",style:{marginBottom:"-10px"},required:!0}),o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"-20px"},children:"Review Text"}),o.jsx("textarea",{name:"review_text",value:u.review_text,onChange:Y,placeholder:"Review Text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                                transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                                                transition-colors duration-200`,children:"Save"})]})]})]})})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Delete"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this review?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:K,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                                        transition-colors duration-200`,children:"Delete"}),o.jsx("button",{onClick:()=>v(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                                        transition-colors duration-200`,children:"Cancel"})]})]})})]})})}const Fg="AgriTayoAPIKey2024";function y7(){const[t,e]=O.useState([]),[n,r]=O.useState({order_id:"",status:""}),[i,s]=O.useState(!1);O.useEffect(()=>{a()},[]);const a=async()=>{try{const m=await fetch("/api/order_trackings",{headers:{"x-api-key":Fg}});if(!m.ok)throw new Error("Network response was not ok");const x=await m.json();e(x)}catch(m){console.error("Error fetching order trackings:",m)}},c=m=>{const{name:x,value:g}=m.target;r({...n,[x]:g})},u=async m=>{m.preventDefault();const x=i?`/api/order_trackings/${n.tracking_id}`:"/api/order_trackings",g=i?"PUT":"POST";try{if(!(await fetch(x,{method:g,headers:{"Content-Type":"application/json","x-api-key":Fg},body:JSON.stringify(n)})).ok)throw new Error("Network response was not ok");a(),r({order_id:"",status:""}),s(!1)}catch(b){console.error("Error submitting form:",b)}},h=m=>{r(m),s(!0)},f=async m=>{try{if(!(await fetch(`/api/order_trackings/${m}`,{method:"DELETE",headers:{"x-api-key":Fg}})).ok)throw new Error("Network response was not ok");a()}catch(x){console.error("Error deleting order tracking:",x)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Order Tracking Management"}),o.jsxs("form",{onSubmit:u,children:[o.jsx("input",{type:"text",name:"order_id",value:n.order_id,onChange:c,placeholder:"Order ID",required:!0}),o.jsxs("select",{name:"status",value:n.status,onChange:c,required:!0,children:[o.jsx("option",{value:"",children:"Select Status"}),o.jsx("option",{value:"Placed",children:"Placed"}),o.jsx("option",{value:"Processed",children:"Processed"}),o.jsx("option",{value:"Shipped",children:"Shipped"}),o.jsx("option",{value:"Delivered",children:"Delivered"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),o.jsx("button",{type:"submit",children:i?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Order ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Status"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Update Date"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(m=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.tracking_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.order_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:m.status}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:new Date(m.update_date).toLocaleString()}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>h(m),children:"Edit"}),o.jsx("button",{onClick:()=>f(m.tracking_id),children:"Delete"})]})]},m.tracking_id))})]})]})}const Df="AgriTayoAPIKey2024";function v7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({order_id:"",payment_method:"",payment_status:"",amount:""}),[a,c]=O.useState(!1);O.useEffect(()=>{u(),h()},[]);const u=async()=>{try{const b=await fetch("/api/payments",{headers:{"x-api-key":Df}});if(!b.ok)throw new Error("Network response was not ok");const N=await b.json();e(N)}catch(b){console.error("Error fetching payments:",b)}},h=async()=>{try{const b=await fetch("/api/orders",{headers:{"x-api-key":Df}});if(!b.ok)throw new Error("Network response was not ok");const N=await b.json();r(N)}catch(b){console.error("Error fetching orders:",b)}},f=b=>{const{name:N,value:k}=b.target;s({...i,[N]:k})},m=async b=>{b.preventDefault();const N=a?`/api/payments/${i.payment_id}`:"/api/payments",k=a?"PUT":"POST";try{if(!(await fetch(N,{method:k,headers:{"Content-Type":"application/json","x-api-key":Df},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");u(),s({order_id:"",payment_method:"",payment_status:"",amount:""}),c(!1)}catch(v){console.error("Error submitting form:",v)}},x=b=>{s(b),c(!0)},g=async b=>{try{if(!(await fetch(`/api/payments/${b}`,{method:"DELETE",headers:{"x-api-key":Df}})).ok)throw new Error("Network response was not ok");u()}catch(N){console.error("Error deleting payment:",N)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Payments Management"}),o.jsxs("form",{onSubmit:m,children:[o.jsxs("select",{name:"order_id",value:i.order_id,onChange:f,required:!0,children:[o.jsx("option",{value:"",children:"Select Order"}),n.map(b=>o.jsxs("option",{value:b.order_id,children:["Order #",b.order_id," - $",b.total_price]},b.order_id))]}),o.jsx("input",{type:"text",name:"payment_method",value:i.payment_method,onChange:f,placeholder:"Payment Method",required:!0}),o.jsxs("select",{name:"payment_status",value:i.payment_status,onChange:f,required:!0,children:[o.jsx("option",{value:"",children:"Select Payment Status"}),o.jsx("option",{value:"Pending",children:"Pending"}),o.jsx("option",{value:"Completed",children:"Completed"}),o.jsx("option",{value:"Failed",children:"Failed"})]}),o.jsx("input",{type:"text",name:"amount",value:i.amount,onChange:f,placeholder:"Amount",required:!0}),o.jsx("button",{type:"submit",children:a?"Update":"Create"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Order ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Payment Method"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Payment Status"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Amount"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Payment Date"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(b=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.payment_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.order_id}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.payment_method}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.payment_status}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:b.amount}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:new Date(b.payment_date).toLocaleString()}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>x(b),children:"Edit"}),o.jsx("button",{onClick:()=>g(b.payment_id),children:"Delete"})]})]},b.payment_id))})]})]})}const pd="AgriTayoAPIKey2024";function b7(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState({user_id:"",message:""});O.useEffect(()=>{a(),c()},[]);const a=async()=>{try{const x=await fetch("/api/notifications",{headers:{"x-api-key":pd}});if(!x.ok)throw new Error("Network response was not ok");const g=await x.json();e(g)}catch(x){console.error("Error fetching notifications:",x)}},c=async()=>{try{const x=await fetch("/api/users",{headers:{"x-api-key":pd}});if(!x.ok)throw new Error("Network response was not ok");const g=await x.json();r(g)}catch(x){console.error("Error fetching users:",x)}},u=x=>{const{name:g,value:b}=x.target;s({...i,[g]:b})},h=async x=>{x.preventDefault();try{if(!(await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":pd},body:JSON.stringify(i)})).ok)throw new Error("Network response was not ok");a(),s({user_id:"",message:""})}catch(g){console.error("Error submitting form:",g)}},f=async x=>{try{if(!(await fetch(`/api/notifications/${x}`,{method:"DELETE",headers:{"x-api-key":pd}})).ok)throw new Error("Network response was not ok");a()}catch(g){console.error("Error deleting notification:",g)}},m=async x=>{try{if(!(await fetch(`/api/notifications/${x}`,{method:"PUT",headers:{"Content-Type":"application/json","x-api-key":pd}})).ok)throw new Error("Network response was not ok");a()}catch(g){console.error("Error marking notification as read:",g)}};return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Notifications Management"}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("select",{name:"user_id",value:i.user_id,onChange:u,required:!0,children:[o.jsx("option",{value:"",children:"Select User"}),n.map(x=>o.jsxs("option",{value:x.user_id,children:[x.firstname," ",x.lastname]},x.user_id))]}),o.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,placeholder:"Title",required:!0}),o.jsx("input",{type:"text",name:"message",value:i.message,onChange:u,placeholder:"Notification Message",required:!0}),o.jsx("button",{type:"submit",children:"Create Notification"})]}),o.jsxs("table",{style:{border:"1px solid black",width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"ID"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"User"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Title"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Message"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Read"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Date"}),o.jsx("th",{style:{border:"1px solid black",padding:"8px"},children:"Actions"})]})}),o.jsx("tbody",{children:t.map(x=>{var g,b;return o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:x.notification_id}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[(g=n.find(N=>N.user_id===x.user_id))==null?void 0:g.firstname," ",(b=n.find(N=>N.user_id===x.user_id))==null?void 0:b.lastname]}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:x.title}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:x.message}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:x.is_read?"Yes":"No"}),o.jsx("td",{style:{border:"1px solid black",padding:"8px"},children:new Date(x.notification_date).toLocaleString()}),o.jsxs("td",{style:{border:"1px solid black",padding:"8px"},children:[o.jsx("button",{onClick:()=>m(x.notification_id),children:"Mark as Read"}),o.jsx("button",{onClick:()=>f(x.notification_id),children:"Delete"})]})]},x.notification_id)})})]})]})}function _7(){return o.jsxs("div",{className:"grid grid-cols-3 grid-rows-5 gap-4 pt-10 px-4",children:[o.jsx("div",{className:"border",children:"1"}),o.jsx("div",{className:"border",children:"2"}),o.jsx("div",{className:"border",children:"3"}),o.jsx("div",{className:"col-span-2 row-span-4 border",children:"4"}),o.jsx("div",{className:"row-span-2 col-start-3 border",children:"7"}),o.jsx("div",{className:"row-span-2 col-start-3 row-start-4 border",children:"9"})]})}function w7(){const t=Cn(),e=br(),{categoryName:n,items:r}=e.state||{};return o.jsx("div",{className:"analytics-page",children:n&&o.jsxs("div",{className:"category-container",children:[o.jsx("h2",{children:n}),o.jsx("div",{className:"items-list",children:r.map(i=>o.jsx("button",{className:"item-button",onClick:()=>t("/admin/MarketAnalytics",{state:{category:r,selectedItemId:i.id}}),children:o.jsx("span",{children:i.name})},i.id))})]})})}function Lv(){const t=()=>{try{const e=new vt,n=["ID","Name","Email"],r=[[1,"John Doe","john.doe@example.com"],[2,"Jane Smith","jane.smith@example.com"],[3,"Sam Johnson","sam.johnson@example.com"]];e.setFontSize(18),e.text("My Custom PDF Report",14,22),e.autoTable({head:[n],body:r,theme:"striped",headStyles:{fillColor:[0,0,256]},bodyStyles:{fontSize:10},styles:{cellPadding:2},margin:{top:30},didDrawPage:i=>{e.setFontSize(10),e.text(`Page ${i.pageNumber} of ${i.pageCount}`,200,290,{align:"right"})}}),e.save("custom-reports.pdf")}catch(e){console.error("Error generating PDF:",e)}};return o.jsxs("div",{className:"",children:[o.jsx("h1",{className:"",children:"PDF Report"}),o.jsx("button",{onClick:t,className:"",children:"Generate PDF"})]})}(()=>{var t={181:(i,s,a)=>{var c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,x=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,g=typeof self=="object"&&self&&self.Object===Object&&self,b=x||g||Function("return this")(),N=Object.prototype.toString,k=Math.max,v=Math.min,w=function(){return b.Date.now()};function j(T){var F=typeof T;return!!T&&(F=="object"||F=="function")}function E(T){if(typeof T=="number")return T;if(function(P){return typeof P=="symbol"||function(Y){return!!Y&&typeof Y=="object"}(P)&&N.call(P)=="[object Symbol]"}(T))return NaN;if(j(T)){var F=typeof T.valueOf=="function"?T.valueOf():T;T=j(F)?F+"":F}if(typeof T!="string")return T===0?T:+T;T=T.replace(c,"");var D=h.test(T);return D||f.test(T)?m(T.slice(2),D?2:8):u.test(T)?NaN:+T}i.exports=function(T,F,D){var P,Y,V,I,R,K,U=0,le=!1,Q=!1,Z=!0;if(typeof T!="function")throw new TypeError("Expected a function");function H(B){var G=P,$=Y;return P=Y=void 0,U=B,I=T.apply($,G)}function q(B){var G=B-K;return K===void 0||G>=F||G<0||Q&&B-U>=V}function ee(){var B=w();if(q(B))return te(B);R=setTimeout(ee,function(G){var $=F-(G-K);return Q?v($,V-(G-U)):$}(B))}function te(B){return R=void 0,Z&&P?H(B):(P=Y=void 0,I)}function M(){var B=w(),G=q(B);if(P=arguments,Y=this,K=B,G){if(R===void 0)return function($){return U=$,R=setTimeout(ee,F),le?H($):I}(K);if(Q)return R=setTimeout(ee,F),H(K)}return R===void 0&&(R=setTimeout(ee,F)),I}return F=E(F)||0,j(D)&&(le=!!D.leading,V=(Q="maxWait"in D)?k(E(D.maxWait)||0,F):V,Z="trailing"in D?!!D.trailing:Z),M.cancel=function(){R!==void 0&&clearTimeout(R),U=0,P=K=Y=R=void 0},M.flush=function(){return R===void 0?I:te(w())},M}},858:(i,s,a)=>{var c="Expected a function",u=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,g=/^0o[0-7]+$/i,b=parseInt,N=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,k=typeof self=="object"&&self&&self.Object===Object&&self,v=N||k||Function("return this")(),w=Object.prototype.toString,j=Math.max,E=Math.min,T=function(){return v.Date.now()};function F(P){var Y=typeof P;return!!P&&(Y=="object"||Y=="function")}function D(P){if(typeof P=="number")return P;if(function(I){return typeof I=="symbol"||function(R){return!!R&&typeof R=="object"}(I)&&w.call(I)==h}(P))return u;if(F(P)){var Y=typeof P.valueOf=="function"?P.valueOf():P;P=F(Y)?Y+"":Y}if(typeof P!="string")return P===0?P:+P;P=P.replace(f,"");var V=x.test(P);return V||g.test(P)?b(P.slice(2),V?2:8):m.test(P)?u:+P}i.exports=function(P,Y,V){var I=!0,R=!0;if(typeof P!="function")throw new TypeError(c);return F(V)&&(I="leading"in V?!!V.leading:I,R="trailing"in V?!!V.trailing:R),function(K,U,le){var Q,Z,H,q,ee,te,M=0,B=!1,G=!1,$=!0;if(typeof K!="function")throw new TypeError(c);function ne(De){var We=Q,qe=Z;return Q=Z=void 0,M=De,q=K.apply(qe,We)}function he(De){var We=De-te;return te===void 0||We>=U||We<0||G&&De-M>=H}function pe(){var De=T();if(he(De))return _e(De);ee=setTimeout(pe,function(We){var qe=U-(We-te);return G?E(qe,H-(We-M)):qe}(De))}function _e(De){return ee=void 0,$&&Q?ne(De):(Q=Z=void 0,q)}function Me(){var De=T(),We=he(De);if(Q=arguments,Z=this,te=De,We){if(ee===void 0)return function(qe){return M=qe,ee=setTimeout(pe,U),B?ne(qe):q}(te);if(G)return ee=setTimeout(pe,U),ne(te)}return ee===void 0&&(ee=setTimeout(pe,U)),q}return U=D(U)||0,F(le)&&(B=!!le.leading,H=(G="maxWait"in le)?j(D(le.maxWait)||0,U):H,$="trailing"in le?!!le.trailing:$),Me.cancel=function(){ee!==void 0&&clearTimeout(ee),M=0,Q=te=Z=ee=void 0},Me.flush=function(){return ee===void 0?q:_e(T())},Me}(P,Y,{leading:I,maxWait:Y,trailing:R})}},694:(i,s,a)=>{var c=a(925);function u(){}function h(){}h.resetWarningCache=u,i.exports=function(){function f(g,b,N,k,v,w){if(w!==c){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}function m(){return f}f.isRequired=f;var x={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:m,element:f,elementType:f,instanceOf:m,node:f,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:h,resetWarningCache:u};return x.PropTypes=x,x}},556:(i,s,a)=>{i.exports=a(694)()},925:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var a in s)n.o(s,a)&&!n.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Ye,LazyLoadImage:()=>tn,trackWindowScroll:()=>B});const i=O;var s=n.n(i),a=n(556);function c(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u(Ae){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},u(Ae)}function h(Ae,ge){var Se=Object.keys(Ae);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(Ae);ge&&(ze=ze.filter(function(je){return Object.getOwnPropertyDescriptor(Ae,je).enumerable})),Se.push.apply(Se,ze)}return Se}function f(Ae,ge,Se){return(ge=x(ge))in Ae?Object.defineProperty(Ae,ge,{value:Se,enumerable:!0,configurable:!0,writable:!0}):Ae[ge]=Se,Ae}function m(Ae,ge){for(var Se=0;Se<ge.length;Se++){var ze=ge[Se];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Ae,x(ze.key),ze)}}function x(Ae){var ge=function(Se,ze){if(u(Se)!="object"||!Se)return Se;var je=Se[Symbol.toPrimitive];if(je!==void 0){var Ie=je.call(Se,"string");if(u(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ae);return u(ge)=="symbol"?ge:ge+""}function g(Ae,ge,Se){return ge=N(ge),function(ze,je){if(je&&(u(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ze)}(Ae,b()?Reflect.construct(ge,Se||[],N(Ae).constructor):ge.apply(Ae,Se))}function b(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!Ae})()}function N(Ae){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},N(Ae)}function k(Ae,ge){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ze){return Se.__proto__=ze,Se},k(Ae,ge)}var v=function(Ae){Ae.forEach(function(ge){ge.isIntersecting&&ge.target.onVisible()})},w={},j=function(Ae){function ge(je){var Ie;if(function(rt,et){if(!(rt instanceof et))throw new TypeError("Cannot call a class as a function")}(this,ge),(Ie=g(this,ge,[je])).supportsObserver=!je.scrollPosition&&je.useIntersectionObserver&&c(),Ie.supportsObserver){var bt=je.threshold;Ie.observer=function(rt){return w[rt]=w[rt]||new IntersectionObserver(v,{rootMargin:rt+"px"}),w[rt]}(bt)}return Ie}return function(je,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),Ie&&k(je,Ie)}(ge,Ae),Se=ge,ze=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,Ie=this.placeholder.getBoundingClientRect(),bt=this.placeholder.style,rt=parseInt(bt.getPropertyValue("margin-left"),10)||0,et=parseInt(bt.getPropertyValue("margin-top"),10)||0;return{bottom:je.y+Ie.bottom+et,left:je.x+Ie.left+rt,right:je.x+Ie.right+rt,top:je.y+Ie.top+et}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var je=this.props,Ie=je.scrollPosition,bt=je.threshold,rt=this.getPlaceholderBoundingBox(Ie),et=Ie.y+window.innerHeight,yt=Ie.x,Gt=Ie.x+window.innerWidth,Ot=Ie.y;return Ot-bt<=rt.bottom&&et+bt>=rt.top&&yt-bt<=rt.right&&Gt+bt>=rt.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var je=this,Ie=this.props,bt=Ie.className,rt=Ie.height,et=Ie.placeholder,yt=Ie.style,Gt=Ie.width;if(et&&typeof et.type!="function")return s().cloneElement(et,{ref:function(Bt){return je.placeholder=Bt}});var Ot=function(Bt){for(var nn=1;nn<arguments.length;nn++){var lt=arguments[nn]!=null?arguments[nn]:{};nn%2?h(Object(lt),!0).forEach(function(rn){f(Bt,rn,lt[rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(lt)):h(Object(lt)).forEach(function(rn){Object.defineProperty(Bt,rn,Object.getOwnPropertyDescriptor(lt,rn))})}return Bt}({display:"inline-block"},yt);return Gt!==void 0&&(Ot.width=Gt),rt!==void 0&&(Ot.height=rt),s().createElement("span",{className:bt,ref:function(Bt){return je.placeholder=Bt},style:Ot},et)}}],ze&&m(Se.prototype,ze),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,ze}(s().Component);j.propTypes={onVisible:a.PropTypes.func.isRequired,className:a.PropTypes.string,height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),placeholder:a.PropTypes.element,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,scrollPosition:a.PropTypes.shape({x:a.PropTypes.number.isRequired,y:a.PropTypes.number.isRequired}),width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string])},j.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const E=j;var T=n(181),F=n.n(T),D=n(858),P=n.n(D),Y=function(Ae){var ge=getComputedStyle(Ae,null);return ge.getPropertyValue("overflow")+ge.getPropertyValue("overflow-y")+ge.getPropertyValue("overflow-x")};const V=function(Ae){if(!(Ae instanceof HTMLElement))return window;for(var ge=Ae;ge&&ge instanceof HTMLElement;){if(/(scroll|auto)/.test(Y(ge)))return ge;ge=ge.parentNode}return window};function I(Ae){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},I(Ae)}var R=["delayMethod","delayTime"];function K(){return K=Object.assign?Object.assign.bind():function(Ae){for(var ge=1;ge<arguments.length;ge++){var Se=arguments[ge];for(var ze in Se)({}).hasOwnProperty.call(Se,ze)&&(Ae[ze]=Se[ze])}return Ae},K.apply(null,arguments)}function U(Ae,ge){for(var Se=0;Se<ge.length;Se++){var ze=ge[Se];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Ae,le(ze.key),ze)}}function le(Ae){var ge=function(Se,ze){if(I(Se)!="object"||!Se)return Se;var je=Se[Symbol.toPrimitive];if(je!==void 0){var Ie=je.call(Se,"string");if(I(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ae);return I(ge)=="symbol"?ge:ge+""}function Q(Ae,ge,Se){return ge=q(ge),Z(Ae,H()?Reflect.construct(ge,Se||[],q(Ae).constructor):ge.apply(Ae,Se))}function Z(Ae,ge){if(ge&&(I(ge)=="object"||typeof ge=="function"))return ge;if(ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}(Ae)}function H(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!Ae})()}function q(Ae){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},q(Ae)}function ee(Ae,ge){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ze){return Se.__proto__=ze,Se},ee(Ae,ge)}var te=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},M=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const B=function(Ae){var ge=function(Se){function ze(bt){var rt;if(function(yt,Gt){if(!(yt instanceof Gt))throw new TypeError("Cannot call a class as a function")}(this,ze),(rt=Q(this,ze,[bt])).useIntersectionObserver=bt.useIntersectionObserver&&c(),rt.useIntersectionObserver)return Z(rt);var et=rt.onChangeScroll.bind(rt);return bt.delayMethod==="debounce"?rt.delayedScroll=F()(et,bt.delayTime):bt.delayMethod==="throttle"&&(rt.delayedScroll=P()(et,bt.delayTime)),rt.state={scrollPosition:{x:te(),y:M()}},rt.baseComponentRef=s().createRef(),rt}return function(bt,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(rt&&rt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),rt&&ee(bt,rt)}(ze,Se),je=ze,Ie=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||V(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=V(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:te(),y:M()}})}},{key:"render",value:function(){var bt=this.props,rt=(bt.delayMethod,bt.delayTime,function(yt,Gt){if(yt==null)return{};var Ot,Bt,nn=function(rn,Pr){if(rn==null)return{};var rr={};for(var Zt in rn)if({}.hasOwnProperty.call(rn,Zt)){if(Pr.indexOf(Zt)>=0)continue;rr[Zt]=rn[Zt]}return rr}(yt,Gt);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(yt);for(Bt=0;Bt<lt.length;Bt++)Ot=lt[Bt],Gt.indexOf(Ot)>=0||{}.propertyIsEnumerable.call(yt,Ot)&&(nn[Ot]=yt[Ot])}return nn}(bt,R)),et=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(Ae,K({forwardRef:this.baseComponentRef,scrollPosition:et},rt))}}],Ie&&U(je.prototype,Ie),Object.defineProperty(je,"prototype",{writable:!1}),je;var je,Ie}(s().Component);return ge.propTypes={delayMethod:a.PropTypes.oneOf(["debounce","throttle"]),delayTime:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool},ge.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},ge};function G(Ae){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},G(Ae)}function $(Ae,ge){for(var Se=0;Se<ge.length;Se++){var ze=ge[Se];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Ae,ne(ze.key),ze)}}function ne(Ae){var ge=function(Se,ze){if(G(Se)!="object"||!Se)return Se;var je=Se[Symbol.toPrimitive];if(je!==void 0){var Ie=je.call(Se,"string");if(G(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ae);return G(ge)=="symbol"?ge:ge+""}function he(Ae,ge,Se){return ge=_e(ge),function(ze,je){if(je&&(G(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ze)}(Ae,pe()?Reflect.construct(ge,Se||[],_e(Ae).constructor):ge.apply(Ae,Se))}function pe(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pe=function(){return!!Ae})()}function _e(Ae){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},_e(Ae)}function Me(Ae,ge){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ze){return Se.__proto__=ze,Se},Me(Ae,ge)}var De=function(Ae){function ge(je){return function(Ie,bt){if(!(Ie instanceof bt))throw new TypeError("Cannot call a class as a function")}(this,ge),he(this,ge,[je])}return function(je,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),Ie&&Me(je,Ie)}(ge,Ae),Se=ge,(ze=[{key:"render",value:function(){return s().createElement(E,this.props)}}])&&$(Se.prototype,ze),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,ze}(s().Component);const We=B(De);function qe(Ae){return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},qe(Ae)}function mt(Ae,ge){for(var Se=0;Se<ge.length;Se++){var ze=ge[Se];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Ae,fe(ze.key),ze)}}function fe(Ae){var ge=function(Se,ze){if(qe(Se)!="object"||!Se)return Se;var je=Se[Symbol.toPrimitive];if(je!==void 0){var Ie=je.call(Se,"string");if(qe(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ae);return qe(ge)=="symbol"?ge:ge+""}function ue(Ae,ge,Se){return ge=Ke(ge),function(ze,je){if(je&&(qe(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ze)}(Ae,ct()?Reflect.construct(ge,Se||[],Ke(Ae).constructor):ge.apply(Ae,Se))}function ct(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ct=function(){return!!Ae})()}function Ke(Ae){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},Ke(Ae)}function He(Ae,ge){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ze){return Se.__proto__=ze,Se},He(Ae,ge)}var Ge=function(Ae){function ge(je){var Ie;(function(Gt,Ot){if(!(Gt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,ge),Ie=ue(this,ge,[je]);var bt=je.afterLoad,rt=je.beforeLoad,et=je.scrollPosition,yt=je.visibleByDefault;return Ie.state={visible:yt},yt&&(rt(),bt()),Ie.onVisible=Ie.onVisible.bind(Ie),Ie.isScrollTracked=!!(et&&Number.isFinite(et.x)&&et.x>=0&&Number.isFinite(et.y)&&et.y>=0),Ie}return function(je,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),Ie&&He(je,Ie)}(ge,Ae),Se=ge,(ze=[{key:"componentDidUpdate",value:function(je,Ie){Ie.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var je=this.props,Ie=je.className,bt=je.delayMethod,rt=je.delayTime,et=je.height,yt=je.placeholder,Gt=je.scrollPosition,Ot=je.style,Bt=je.threshold,nn=je.useIntersectionObserver,lt=je.width;return this.isScrollTracked||nn&&c()?s().createElement(E,{className:Ie,height:et,onVisible:this.onVisible,placeholder:yt,scrollPosition:Gt,style:Ot,threshold:Bt,useIntersectionObserver:nn,width:lt}):s().createElement(We,{className:Ie,delayMethod:bt,delayTime:rt,height:et,onVisible:this.onVisible,placeholder:yt,style:Ot,threshold:Bt,width:lt})}}])&&mt(Se.prototype,ze),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,ze}(s().Component);Ge.propTypes={afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool},Ge.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ye=Ge;function Ce(Ae){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},Ce(Ae)}var Re=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Je(Ae,ge){var Se=Object.keys(Ae);if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(Ae);ge&&(ze=ze.filter(function(je){return Object.getOwnPropertyDescriptor(Ae,je).enumerable})),Se.push.apply(Se,ze)}return Se}function tt(Ae){for(var ge=1;ge<arguments.length;ge++){var Se=arguments[ge]!=null?arguments[ge]:{};ge%2?Je(Object(Se),!0).forEach(function(ze){dt(Ae,ze,Se[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Se)):Je(Object(Se)).forEach(function(ze){Object.defineProperty(Ae,ze,Object.getOwnPropertyDescriptor(Se,ze))})}return Ae}function dt(Ae,ge,Se){return(ge=_t(ge))in Ae?Object.defineProperty(Ae,ge,{value:Se,enumerable:!0,configurable:!0,writable:!0}):Ae[ge]=Se,Ae}function Nt(){return Nt=Object.assign?Object.assign.bind():function(Ae){for(var ge=1;ge<arguments.length;ge++){var Se=arguments[ge];for(var ze in Se)({}).hasOwnProperty.call(Se,ze)&&(Ae[ze]=Se[ze])}return Ae},Nt.apply(null,arguments)}function Ut(Ae,ge){for(var Se=0;Se<ge.length;Se++){var ze=ge[Se];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Ae,_t(ze.key),ze)}}function _t(Ae){var ge=function(Se,ze){if(Ce(Se)!="object"||!Se)return Se;var je=Se[Symbol.toPrimitive];if(je!==void 0){var Ie=je.call(Se,"string");if(Ce(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ae);return Ce(ge)=="symbol"?ge:ge+""}function At(Ae,ge,Se){return ge=An(ge),function(ze,je){if(je&&(Ce(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ze)}(Ae,Qe()?Reflect.construct(ge,Se||[],An(Ae).constructor):ge.apply(Ae,Se))}function Qe(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qe=function(){return!!Ae})()}function An(Ae){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},An(Ae)}function Ft(Ae,ge){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,ze){return Se.__proto__=ze,Se},Ft(Ae,ge)}var nr=function(Ae){function ge(je){var Ie;return function(bt,rt){if(!(bt instanceof rt))throw new TypeError("Cannot call a class as a function")}(this,ge),(Ie=At(this,ge,[je])).state={loaded:!1},Ie}return function(je,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),Ie&&Ft(je,Ie)}(ge,Ae),Se=ge,ze=[{key:"onImageLoad",value:function(){var je=this;return this.state.loaded?null:function(Ie){je.props.onLoad(Ie),je.props.afterLoad(),je.setState({loaded:!0})}}},{key:"getImg",value:function(){var je=this.props,Ie=(je.afterLoad,je.beforeLoad,je.delayMethod,je.delayTime,je.effect,je.placeholder,je.placeholderSrc,je.scrollPosition,je.threshold,je.useIntersectionObserver,je.visibleByDefault,je.wrapperClassName,je.wrapperProps,function(bt,rt){if(bt==null)return{};var et,yt,Gt=function(Bt,nn){if(Bt==null)return{};var lt={};for(var rn in Bt)if({}.hasOwnProperty.call(Bt,rn)){if(nn.indexOf(rn)>=0)continue;lt[rn]=Bt[rn]}return lt}(bt,rt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(bt);for(yt=0;yt<Ot.length;yt++)et=Ot[yt],rt.indexOf(et)>=0||{}.propertyIsEnumerable.call(bt,et)&&(Gt[et]=bt[et])}return Gt}(je,Re));return s().createElement("img",Nt({},Ie,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var je=this.props,Ie=je.beforeLoad,bt=je.className,rt=je.delayMethod,et=je.delayTime,yt=je.height,Gt=je.placeholder,Ot=je.scrollPosition,Bt=je.style,nn=je.threshold,lt=je.useIntersectionObserver,rn=je.visibleByDefault,Pr=je.width;return s().createElement(Ye,{beforeLoad:Ie,className:bt,delayMethod:rt,delayTime:et,height:yt,placeholder:Gt,scrollPosition:Ot,style:Bt,threshold:nn,useIntersectionObserver:lt,visibleByDefault:rn,width:Pr},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(je){var Ie=this.props,bt=Ie.effect,rt=Ie.height,et=Ie.placeholderSrc,yt=Ie.width,Gt=Ie.wrapperClassName,Ot=Ie.wrapperProps,Bt=this.state.loaded,nn=Bt?" lazy-load-image-loaded":"",lt=Bt||!et?{}:{backgroundImage:"url(".concat(et,")"),backgroundSize:"100% 100%"};return s().createElement("span",Nt({className:Gt+" lazy-load-image-background "+bt+nn,style:tt(tt({},lt),{},{color:"transparent",display:"inline-block",height:rt,width:yt})},Ot),je)}},{key:"render",value:function(){var je=this.props,Ie=je.effect,bt=je.placeholderSrc,rt=je.visibleByDefault,et=je.wrapperClassName,yt=je.wrapperProps,Gt=this.getLazyLoadImage();return(Ie||bt)&&!rt||et||yt?this.getWrappedLazyLoadImage(Gt):Gt}}],ze&&Ut(Se.prototype,ze),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,ze}(s().Component);nr.propTypes={onLoad:a.PropTypes.func,afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,delayMethod:a.PropTypes.string,delayTime:a.PropTypes.number,effect:a.PropTypes.string,placeholderSrc:a.PropTypes.string,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool,wrapperClassName:a.PropTypes.string,wrapperProps:a.PropTypes.object},nr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const tn=nr})()})();const If="AgriTayoAPIKey2024",N7=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(null),[i,s]=O.useState(null),[a,c]=O.useState(!0),[u,h]=O.useState(null),[f,m]=O.useState(""),x=Cn(),g=O.useCallback(async()=>{try{c(!0);const v=await fetch("/api/crops",{headers:{"x-api-key":If}}),w=await fetch("/api/crop_categories",{headers:{"x-api-key":If}}),j=await fetch("/api/crop_sub_categories",{headers:{"x-api-key":If}}),E=await fetch("/api/crop_varieties",{headers:{"x-api-key":If}}),T=await v.json(),F=await w.json(),D=await j.json(),P=await E.json(),Y=F.sort((K,U)=>K.crop_category_id-U.crop_category_id),V=P.map(K=>{const U=T.filter(le=>le.crop_variety_id===K.crop_variety_id);return{...K,crops:U||null}}),I=D.map(K=>{const U=V.filter(le=>le.crop_sub_category_id===K.crop_sub_category_id);return{...K,varieties:U||null}}),R=Y.map(K=>{const U=I.filter(le=>le.crop_category_id===K.crop_category_id);return{...K,subcategories:U||null}});e(R),console.log("combinedCategories :",R)}catch(v){h(v),console.error("Error fetching data:",v)}finally{c(!1)}},[]);O.useEffect(()=>{g()},[g]);const b=t.map(v=>{var j;const w=(j=v.subcategories)==null?void 0:j.filter(E=>{var F;const T=(F=E.varieties)==null?void 0:F.filter(D=>D.crop_variety_name.toLowerCase().includes(f.toLowerCase()));return E.crop_sub_category_name.toLowerCase().includes(f.toLowerCase())||T&&T.length>0});return{...v,subcategories:w,matched:v.crop_category_name.toLowerCase().includes(f.toLowerCase())||w&&w.length>0}}).filter(v=>v.matched);if(a)return o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading market data..."})]})});const N=v=>{r(n===v?null:v)},k=v=>{s(i===v?null:v)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Market Analytics"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Explore market categories and their performance"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[t.length," Categories"]})})})]}),o.jsx("div",{className:"relative mb-6",children:o.jsx("input",{type:"text",placeholder:"Search categories, subcategories, or varieties...",value:f,onChange:v=>m(v.target.value),className:`w-full px-4 py-3 rounded-xl bg-white/90 backdrop-blur-sm 
                  border border-white/30 focus:outline-none focus:ring-2 
                  focus:ring-green-500 text-gray-800 placeholder-gray-500`})})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(v=>{var w;return o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden h-fit",children:[o.jsxs("button",{className:`w-full p-4 flex items-center justify-between transition-colors duration-200 ${n===v.crop_category_id?"bg-green-50":"hover:bg-gray-50/50"}`,onClick:()=>N(v.crop_category_id),children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"h-12 w-12 rounded-xl overflow-hidden shadow-md",children:o.jsx("img",{src:v.crop_category_image_url,alt:v.crop_category_name,className:"h-full w-full object-cover transform transition-transform duration-300 hover:scale-110",loading:"lazy"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:v.crop_category_name})]}),o.jsx("div",{className:`transition-transform duration-300 ${n===v.crop_category_id?"rotate-180":""}`,children:o.jsx(tv,{className:"h-5 w-5 text-green-600"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n===v.crop_category_id?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:o.jsx("div",{className:"p-4 space-y-3",children:(w=v.subcategories)==null?void 0:w.map(j=>{var E;return o.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-sm",children:[o.jsxs("button",{className:`w-full p-3 flex items-center justify-between transition-colors duration-200 ${i===j.crop_sub_category_id?"bg-green-50":"hover:bg-gray-100/50"}`,onClick:()=>k(j.crop_sub_category_id),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden shadow-sm",children:o.jsx("img",{src:j.crop_sub_category_image_url,alt:j.crop_sub_category_name,className:"h-full w-full object-cover transform transition-transform duration-300 hover:scale-110",loading:"lazy"})}),o.jsx("span",{className:"text-lg font-semibold text-green-600",children:j.crop_sub_category_name})]}),o.jsx("div",{className:`transition-transform duration-300 ${i===j.crop_sub_category_id?"rotate-180":""}`,children:o.jsx(tv,{className:"h-4 w-4 text-green-600"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${i===j.crop_sub_category_id?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:o.jsx("div",{className:"p-3 space-y-2",children:(E=j.varieties)==null?void 0:E.map(T=>o.jsxs("button",{className:`w-full bg-white rounded-lg p-3 flex items-center space-x-3 
                                hover:bg-green-50 transition-all duration-200 transform hover:scale-[1.02] shadow-sm`,onClick:()=>x(`/admin/VarietyAnalytics/${T.crop_variety_id}`),children:[o.jsx("div",{className:"h-8 w-8 rounded-lg overflow-hidden shadow-sm",children:o.jsx("img",{src:T.crop_variety_image_url,alt:T.crop_variety_name,className:"h-full w-full object-cover transform transition-transform duration-300 hover:scale-110",loading:"lazy"})}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.crop_variety_name})]},T.crop_variety_id))})})]},j.crop_sub_category_id)})})})]},v.crop_category_id)})})]})})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Dh(t){return t+.5|0}const qa=(t,e,n)=>Math.max(Math.min(t,n),e);function Pd(t){return qa(Dh(t*2.55),0,255)}function rl(t){return qa(Dh(t*255),0,255)}function $o(t){return qa(Dh(t/2.55)/100,0,1)}function Av(t){return qa(Dh(t*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},N1=[..."0123456789ABCDEF"],j7=t=>N1[t&15],S7=t=>N1[(t&240)>>4]+N1[t&15],Rf=t=>(t&240)>>4===(t&15),k7=t=>Rf(t.r)&&Rf(t.g)&&Rf(t.b)&&Rf(t.a);function C7(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ns[t[1]]*17,g:255&ns[t[2]]*17,b:255&ns[t[3]]*17,a:e===5?ns[t[4]]*17:255}:(e===7||e===9)&&(n={r:ns[t[1]]<<4|ns[t[2]],g:ns[t[3]]<<4|ns[t[4]],b:ns[t[5]]<<4|ns[t[6]],a:e===9?ns[t[7]]<<4|ns[t[8]]:255})),n}const P7=(t,e)=>t<255?e(t):"";function L7(t){var e=k7(t)?j7:S7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+P7(t.a,e):void 0}const A7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function l4(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function E7(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function M7(t,e,n){const r=l4(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function T7(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function U2(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),c=(s+a)/2;let u,h,f;return s!==a&&(f=s-a,h=c>.5?f/(2-s-a):f/(s+a),u=T7(n,r,i,f,s),u=u*60+.5),[u|0,h||0,c]}function W2(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(rl)}function H2(t,e,n){return W2(l4,t,e,n)}function O7(t,e,n){return W2(M7,t,e,n)}function D7(t,e,n){return W2(E7,t,e,n)}function c4(t){return(t%360+360)%360}function I7(t){const e=A7.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Pd(+e[5]):rl(+e[5]));const i=c4(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=O7(i,s,a):e[1]==="hsv"?r=D7(i,s,a):r=H2(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function R7(t,e){var n=U2(t);n[0]=c4(n[0]+e),n=H2(n),t.r=n[0],t.g=n[1],t.b=n[2]}function F7(t){if(!t)return;const e=U2(t),n=e[0],r=Av(e[1]),i=Av(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${$o(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Ev={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function B7(){const t={},e=Object.keys(Mv),n=Object.keys(Ev);let r,i,s,a,c;for(r=0;r<e.length;r++){for(a=c=e[r],i=0;i<n.length;i++)s=n[i],c=c.replace(s,Ev[s]);s=parseInt(Mv[a],16),t[c]=[s>>16&255,s>>8&255,s&255]}return t}let Ff;function z7(t){Ff||(Ff=B7(),Ff.transparent=[0,0,0,0]);const e=Ff[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const U7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function W7(t){const e=U7.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Pd(a):qa(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Pd(r):qa(r,0,255)),i=255&(e[4]?Pd(i):qa(i,0,255)),s=255&(e[6]?Pd(s):qa(s,0,255)),{r,g:i,b:s,a:n}}}function H7(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$o(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Bg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,qc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function q7(t,e,n){const r=qc($o(t.r)),i=qc($o(t.g)),s=qc($o(t.b));return{r:rl(Bg(r+n*(qc($o(e.r))-r))),g:rl(Bg(i+n*(qc($o(e.g))-i))),b:rl(Bg(s+n*(qc($o(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Bf(t,e,n){if(t){let r=U2(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=H2(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function u4(t,e){return t&&Object.assign(e||{},t)}function Tv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rl(t[3]))):(e=u4(t,{r:0,g:0,b:0,a:1}),e.a=rl(e.a)),e}function V7(t){return t.charAt(0)==="r"?W7(t):I7(t)}class _h{constructor(e){if(e instanceof _h)return e;const n=typeof e;let r;n==="object"?r=Tv(e):n==="string"&&(r=C7(e)||z7(e)||V7(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=u4(this._rgb);return e&&(e.a=$o(e.a)),e}set rgb(e){this._rgb=Tv(e)}rgbString(){return this._valid?H7(this._rgb):void 0}hexString(){return this._valid?L7(this._rgb):void 0}hslString(){return this._valid?F7(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,c=2*a-1,u=r.a-i.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=q7(this._rgb,e._rgb,n)),this}clone(){return new _h(this.rgb)}alpha(e){return this._rgb.a=rl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Dh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bf(this._rgb,2,e),this}darken(e){return Bf(this._rgb,2,-e),this}saturate(e){return Bf(this._rgb,1,e),this}desaturate(e){return Bf(this._rgb,1,-e),this}rotate(e){return R7(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Uo(){}const $7=(()=>{let t=0;return()=>t++})();function bn(t){return t===null||typeof t>"u"}function cr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function en(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ds(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xs(t,e){return ds(t)?t:e}function Ht(t,e){return typeof t>"u"?e:t}const Y7=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,d4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function jn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function un(t,e,n,r){let i,s,a;if(cr(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(en(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function Jp(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Qp(t){if(cr(t))return t.map(Qp);if(en(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Qp(t[n[i]]);return e}return t}function h4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Z7(t,e,n,r){if(!h4(t))return;const i=e[t],s=n[t];en(i)&&en(s)?wh(i,s,r):e[t]=Qp(s)}function wh(t,e,n){const r=cr(e)?e:[e],i=r.length;if(!en(t))return t;n=n||{};const s=n.merger||Z7;let a;for(let c=0;c<i;++c){if(a=r[c],!en(a))continue;const u=Object.keys(a);for(let h=0,f=u.length;h<f;++h)s(u[h],t,a,n)}return t}function Yd(t,e){return wh(t,e,{merger:K7})}function K7(t,e,n){if(!h4(t))return;const r=e[t],i=n[t];en(r)&&en(i)?Yd(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qp(i))}const Ov={"":t=>t,x:t=>t.x,y:t=>t.y};function G7(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function X7(t){const e=G7(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function hc(t,e){return(Ov[e]||(Ov[e]=X7(e)))(t)}function q2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nh=t=>typeof t<"u",ll=t=>typeof t=="function",Dv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function J7(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Wn=Math.PI,Un=2*Wn,Q7=Un+Wn,em=Number.POSITIVE_INFINITY,eC=Wn/180,dr=Wn/2,Fl=Wn/4,Iv=Wn*2/3,j1=Math.log10,ho=Math.sign;function Zd(t,e,n){return Math.abs(t-e)<n}function Rv(t){const e=Math.round(t);t=Zd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(j1(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function tC(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function jh(t){return!isNaN(parseFloat(t))&&isFinite(t)}function nC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function rC(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ko(t){return t*(Wn/180)}function iC(t){return t*(180/Wn)}function Fv(t){if(!ds(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function f4(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Wn&&(s+=Un),{angle:s,distance:i}}function S1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sC(t,e){return(t-e+Q7)%Un-Wn}function Oa(t){return(t%Un+Un)%Un}function Sh(t,e,n,r){const i=Oa(t),s=Oa(e),a=Oa(n),c=Oa(s-i),u=Oa(a-i),h=Oa(i-s),f=Oa(i-a);return i===s||i===a||r&&s===a||c>u&&h<f}function Vr(t,e,n){return Math.max(e,Math.min(n,t))}function oC(t){return Vr(t,-32768,32767)}function Va(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function V2(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Xl=(t,e,n,r)=>V2(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),aC=(t,e,n)=>V2(t,n,r=>t[r][e]>=n);function lC(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const p4=["push","pop","shift","splice","unshift"];function cC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),p4.forEach(n=>{const r="_onData"+q2(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...s)}),a}})})}function Bv(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(p4.forEach(s=>{delete t[s]}),delete t._chartjs)}function m4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const g4=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function x4(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,g4.call(window,()=>{r=!1,t.apply(e,n)}))}}function uC(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const $2=t=>t==="start"?"left":t==="end"?"right":"center",Hr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,dC=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function hC(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,_parsed:c}=t,u=a.axis,{min:h,max:f,minDefined:m,maxDefined:x}=a.getUserBounds();m&&(i=Vr(Math.min(Xl(c,u,h).lo,n?r:Xl(e,u,a.getPixelForValue(h)).lo),0,r-1)),x?s=Vr(Math.max(Xl(c,a.axis,f,!0).hi+1,n?0:Xl(e,u,a.getPixelForValue(f),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function fC(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const zf=t=>t===0||t===1,zv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Un/n)),Uv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Un/n)+1,Kd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*dr)+1,easeOutSine:t=>Math.sin(t*dr),easeInOutSine:t=>-.5*(Math.cos(Wn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zf(t)?t:zv(t,.075,.3),easeOutElastic:t=>zf(t)?t:Uv(t,.075,.3),easeInOutElastic(t){return zf(t)?t:t<.5?.5*zv(t*2,.1125,.45):.5+.5*Uv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Kd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Kd.easeInBounce(t*2)*.5:Kd.easeOutBounce(t*2-1)*.5+.5};function Y2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Wv(t){return Y2(t)?t:new _h(t)}function zg(t){return Y2(t)?t:new _h(t).saturate(.5).darken(.1).hexString()}const pC=["x","y","borderWidth","radius","tension"],mC=["color","borderColor","backgroundColor"];function gC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:mC},numbers:{type:"number",properties:pC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hv=new Map;function yC(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Hv.get(n);return r||(r=new Intl.NumberFormat(t,e),Hv.set(n,r)),r}function Z2(t,e,n){return yC(e,n).format(t)}const y4={values(t){return cr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=vC(t,n)}const a=j1(Math.abs(s)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Z2(t,r,u)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(j1(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?y4.numeric.call(this,t,e,n):""}};function vC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var v4={formatters:y4};function bC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:v4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fc=Object.create(null),k1=Object.create(null);function Gd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Ug(t,e,n){return typeof e=="string"?wh(Gd(t,e),n):wh(Gd(t,""),e)}class _C{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>zg(i.backgroundColor),this.hoverBorderColor=(r,i)=>zg(i.borderColor),this.hoverColor=(r,i)=>zg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ug(this,e,n)}get(e){return Gd(this,e)}describe(e,n){return Ug(k1,e,n)}override(e,n){return Ug(fc,e,n)}route(e,n,r,i){const s=Gd(this,e),a=Gd(this,r),c="_"+n;Object.defineProperties(s,{[c]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],h=a[i];return en(u)?Object.assign({},h,u):Ht(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var Xn=new _C({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gC,xC,bC]);function wC(t){return!t||bn(t.size)||bn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function qv(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Bl(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Vv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function C1(t,e,n,r){b4(t,e,n,r,null)}function b4(t,e,n,r,i){let s,a,c,u,h,f,m,x;const g=e.pointStyle,b=e.rotation,N=e.radius;let k=(b||0)*eC;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(k),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(N)||N<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,N,0,0,Un):t.arc(n,r,N,0,Un),t.closePath();break;case"triangle":f=i?i/2:N,t.moveTo(n+Math.sin(k)*f,r-Math.cos(k)*N),k+=Iv,t.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*N),k+=Iv,t.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*N),t.closePath();break;case"rectRounded":h=N*.516,u=N-h,a=Math.cos(k+Fl)*u,m=Math.cos(k+Fl)*(i?i/2-h:u),c=Math.sin(k+Fl)*u,x=Math.sin(k+Fl)*(i?i/2-h:u),t.arc(n-m,r-c,h,k-Wn,k-dr),t.arc(n+x,r-a,h,k-dr,k),t.arc(n+m,r+c,h,k,k+dr),t.arc(n-x,r+a,h,k+dr,k+Wn),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*N,f=i?i/2:u,t.rect(n-f,r-u,2*f,2*u);break}k+=Fl;case"rectRot":m=Math.cos(k)*(i?i/2:N),a=Math.cos(k)*N,c=Math.sin(k)*N,x=Math.sin(k)*(i?i/2:N),t.moveTo(n-m,r-c),t.lineTo(n+x,r-a),t.lineTo(n+m,r+c),t.lineTo(n-x,r+a),t.closePath();break;case"crossRot":k+=Fl;case"cross":m=Math.cos(k)*(i?i/2:N),a=Math.cos(k)*N,c=Math.sin(k)*N,x=Math.sin(k)*(i?i/2:N),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+x,r-a),t.lineTo(n-x,r+a);break;case"star":m=Math.cos(k)*(i?i/2:N),a=Math.cos(k)*N,c=Math.sin(k)*N,x=Math.sin(k)*(i?i/2:N),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+x,r-a),t.lineTo(n-x,r+a),k+=Fl,m=Math.cos(k)*(i?i/2:N),a=Math.cos(k)*N,c=Math.sin(k)*N,x=Math.sin(k)*(i?i/2:N),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+x,r-a),t.lineTo(n-x,r+a);break;case"line":a=i?i/2:Math.cos(k)*N,c=Math.sin(k)*N,t.moveTo(n-a,r-c),t.lineTo(n+a,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(k)*(i?i/2:N),r+Math.sin(k)*N);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function kh(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function K2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function G2(t){t.restore()}function NC(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function jC(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function SC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),bn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function kC(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,f),t.lineTo(c,f),t.stroke()}}function CC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ch(t,e,n,r,i,s={}){const a=cr(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,h;for(t.save(),t.font=i.string,SC(t,s),u=0;u<a.length;++u)h=a[u],s.backdrop&&CC(t,s.backdrop),c&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),bn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,r,s.maxWidth)),t.fillText(h,n,r,s.maxWidth),kC(t,n,r,h,s),r+=Number(i.lineHeight);t.restore()}function tm(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Wn,Wn,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Wn,dr,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,dr,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-dr,!0),t.lineTo(n+a.topLeft,r)}const PC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AC(t,e){const n=(""+t).match(PC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const EC=t=>+t||0;function X2(t,e){const n={},r=en(e),i=r?Object.keys(e):e,s=en(t)?r?a=>Ht(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=EC(s(a));return n}function _4(t){return X2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yu(t){return X2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hs(t){const e=_4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $r(t,e){t=t||{},e=e||Xn.font;let n=Ht(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ht(t.style,e.style);r&&!(""+r).match(LC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ht(t.family,e.family),lineHeight:AC(Ht(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ht(t.weight,e.weight),string:""};return i.string=wC(i),i}function Uf(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function MC(t,e,n){const{min:r,max:i}=t,s=d4(e,(i-r)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function vc(t,e){return Object.assign(Object.create(t),e)}function J2(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=S4("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:c=>J2([c,...t],e,s,r)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return N4(c,u,()=>zC(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return Yv(c).includes(u)},ownKeys(c){return Yv(c)},set(c,u,h){const f=c._storage||(c._storage=i());return c[u]=f[u]=h,delete c._keys,!0}})}function Eu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:w4(t,r),setContext:s=>Eu(t,s,n,r),override:s=>Eu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,c){return N4(s,a,()=>OC(s,a,c))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,c){return t[a]=c,delete s[a],!0}})}function w4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ll(n)?n:()=>n,isIndexable:ll(r)?r:()=>r}}const TC=(t,e)=>t?t+q2(e):e,Q2=(t,e)=>en(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function OC(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let c=r[e];return ll(c)&&a.isScriptable(e)&&(c=DC(e,c,t,n)),cr(c)&&c.length&&(c=IC(e,c,t,a.isIndexable)),Q2(e,c)&&(c=Eu(c,i,s&&s[e],a)),c}function DC(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(s,a||r);return c.delete(t),Q2(t,u)&&(u=ex(i._scopes,i,t,u)),u}function IC(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:c}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(en(e[0])){const u=e,h=i._scopes.filter(f=>f!==u);e=[];for(const f of u){const m=ex(h,i,t,f);e.push(Eu(m,s,a&&a[t],c))}}return e}function j4(t,e,n){return ll(t)?t(e,n):t}const RC=(t,e)=>t===!0?e:typeof t=="string"?hc(e,t):void 0;function FC(t,e,n,r,i){for(const s of e){const a=RC(n,s);if(a){t.add(a);const c=j4(a._fallback,n,i);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function ex(t,e,n,r){const i=e._rootScopes,s=j4(e._fallback,n,r),a=[...t,...i],c=new Set;c.add(r);let u=$v(c,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=$v(c,a,s,u,r),u===null)?!1:J2(Array.from(c),[""],i,s,()=>BC(e,n,r))}function $v(t,e,n,r,i){for(;n;)n=FC(t,e,n,r,i);return n}function BC(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return cr(i)&&en(n)?n:i||{}}function zC(t,e,n,r){let i;for(const s of e)if(i=S4(TC(s,t),n),typeof i<"u")return Q2(t,i)?ex(n,r,t,i):i}function S4(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Yv(t){let e=t._keys;return e||(e=t._keys=UC(t._scopes)),e}function UC(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const WC=Number.EPSILON||1e-14,Mu=(t,e)=>e<t.length&&!t[e].skip&&t[e],k4=t=>t==="x"?"y":"x";function HC(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,c=S1(s,i),u=S1(a,s);let h=c/(c+u),f=u/(c+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const m=r*h,x=r*f;return{previous:{x:s.x-m*(a.x-i.x),y:s.y-m*(a.y-i.y)},next:{x:s.x+x*(a.x-i.x),y:s.y+x*(a.y-i.y)}}}function qC(t,e,n){const r=t.length;let i,s,a,c,u,h=Mu(t,0);for(let f=0;f<r-1;++f)if(u=h,h=Mu(t,f+1),!(!u||!h)){if(Zd(e[f],0,WC)){n[f]=n[f+1]=0;continue}i=n[f]/e[f],s=n[f+1]/e[f],c=Math.pow(i,2)+Math.pow(s,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=i*a*e[f],n[f+1]=s*a*e[f])}}function VC(t,e,n="x"){const r=k4(n),i=t.length;let s,a,c,u=Mu(t,0);for(let h=0;h<i;++h){if(a=c,c=u,u=Mu(t,h+1),!c)continue;const f=c[n],m=c[r];a&&(s=(f-a[n])/3,c[`cp1${n}`]=f-s,c[`cp1${r}`]=m-s*e[h]),u&&(s=(u[n]-f)/3,c[`cp2${n}`]=f+s,c[`cp2${r}`]=m+s*e[h])}}function $C(t,e="x"){const n=k4(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,c,u,h=Mu(t,0);for(a=0;a<r;++a)if(c=u,u=h,h=Mu(t,a+1),!!u){if(h){const f=h[e]-u[e];i[a]=f!==0?(h[n]-u[n])/f:0}s[a]=c?h?ho(i[a-1])!==ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}qC(t,i,s),VC(t,s,e)}function Wf(t,e,n){return Math.max(Math.min(t,n),e)}function YC(t,e){let n,r,i,s,a,c=kh(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=c,c=n<r-1&&kh(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=Wf(i.cp1x,e.left,e.right),i.cp1y=Wf(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=Wf(i.cp2x,e.left,e.right),i.cp2y=Wf(i.cp2y,e.top,e.bottom)))}function ZC(t,e,n,r,i){let s,a,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")$C(t,i);else{let h=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)c=t[s],u=HC(h,c,t[Math.min(s+1,a-(r?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&YC(t,n)}function tx(){return typeof window<"u"&&typeof document<"u"}function nx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function nm(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Em=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KC(t,e){return Em(t).getPropertyValue(e)}const GC=["top","right","bottom","left"];function sc(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=GC[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const XC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function JC(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,c,u;if(XC(i,s,t.target))c=i,u=s;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,u=r.clientY-h.top,a=!0}return{x:c,y:u,box:a}}function Vl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Em(n),s=i.boxSizing==="border-box",a=sc(i,"padding"),c=sc(i,"border","width"),{x:u,y:h,box:f}=JC(t,n),m=a.left+(f&&c.left),x=a.top+(f&&c.top);let{width:g,height:b}=e;return s&&(g-=a.width+c.width,b-=a.height+c.height),{x:Math.round((u-m)/g*n.width/r),y:Math.round((h-x)/b*n.height/r)}}function QC(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&nx(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),c=Em(s),u=sc(c,"border","width"),h=sc(c,"padding");e=a.width-h.width-u.width,n=a.height-h.height-u.height,r=nm(c.maxWidth,s,"clientWidth"),i=nm(c.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||em,maxHeight:i||em}}const Hf=t=>Math.round(t*10)/10;function eP(t,e,n,r){const i=Em(t),s=sc(i,"margin"),a=nm(i.maxWidth,t,"clientWidth")||em,c=nm(i.maxHeight,t,"clientHeight")||em,u=QC(t,e,n);let{width:h,height:f}=u;if(i.boxSizing==="content-box"){const x=sc(i,"border","width"),g=sc(i,"padding");h-=g.width+x.width,f-=g.height+x.height}return h=Math.max(0,h-s.width),f=Math.max(0,r?h/r:f-s.height),h=Hf(Math.min(h,a,u.maxWidth)),f=Hf(Math.min(f,c,u.maxHeight)),h&&!f&&(f=Hf(h/2)),(e!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,h=Hf(Math.floor(f*r))),{width:h,height:f}}function Zv(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const tP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};tx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Kv(t,e){const n=KC(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function $l(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function nP(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function rP(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=$l(t,i,n),c=$l(i,s,n),u=$l(s,e,n),h=$l(a,c,n),f=$l(c,u,n);return $l(h,f,n)}const iP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},sP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vu(t,e,n){return t?iP(e,n):sP()}function C4(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function P4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function L4(t){return t==="angle"?{between:Sh,compare:sC,normalize:Oa}:{between:Va,compare:(e,n)=>e-n,normalize:e=>e}}function Gv({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function oP(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:c}=L4(r),u=e.length;let{start:h,end:f,loop:m}=t,x,g;if(m){for(h+=u,f+=u,x=0,g=u;x<g&&a(c(e[h%u][r]),i,s);++x)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:m,style:t.style}}function aP(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:c,between:u,normalize:h}=L4(r),{start:f,end:m,loop:x,style:g}=oP(t,e,n),b=[];let N=!1,k=null,v,w,j;const E=()=>u(i,j,v)&&c(i,j)!==0,T=()=>c(s,v)===0||u(s,j,v),F=()=>N||E(),D=()=>!N||T();for(let P=f,Y=f;P<=m;++P)w=e[P%a],!w.skip&&(v=h(w[r]),v!==j&&(N=u(v,i,s),k===null&&F()&&(k=c(v,i)===0?P:Y),k!==null&&D()&&(b.push(Gv({start:k,end:P,loop:x,count:a,style:g})),k=null),Y=P,j=v));return k!==null&&b.push(Gv({start:k,end:m,loop:x,count:a,style:g})),b}function lP(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=aP(r[i],t.points,e);s.length&&n.push(...s)}return n}function cP(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function uP(t,e,n,r){const i=t.length,s=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%i];h.skip||h.stop?c.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=a=h.stop?u:null):(a=u,c.skip&&(e=u)),c=h}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function dP(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:c}=cP(n,i,s,r);if(r===!0)return Xv(t,[{start:a,end:c,loop:s}],n,e);const u=c<a?c+i:c,h=!!t._fullLoop&&a===0&&c===i-1;return Xv(t,uP(n,a,u,h),n,e)}function Xv(t,e,n,r){return!r||!r.setContext||!n?e:hP(t,e,n,r)}function hP(t,e,n,r){const i=t._chart.getContext(),s=Jv(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,h=[];let f=s,m=e[0].start,x=m;function g(b,N,k,v){const w=c?-1:1;if(b!==N){for(b+=u;n[b%u].skip;)b-=w;for(;n[N%u].skip;)N+=w;b%u!==N%u&&(h.push({start:b%u,end:N%u,loop:k,style:v}),f=v,m=N%u)}}for(const b of e){m=c?m:b.start;let N=n[m%u],k;for(x=m+1;x<=b.end;x++){const v=n[x%u];k=Jv(r.setContext(vc(i,{type:"segment",p0:N,p1:v,p0DataIndex:(x-1)%u,p1DataIndex:x%u,datasetIndex:a}))),fP(k,f)&&g(m,x-1,b.loop,f),N=v,f=k}m<x-1&&g(m,x-1,b.loop,f)}return h}function Jv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fP(t,e){if(!e)return!1;const n=[],r=function(i,s){return Y2(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class pP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=g4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,c=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),c=!0):(s[a]=s[s.length-1],s.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wo=new pP;const Qv="transparent",mP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Wv(t||Qv),i=r.valid&&Wv(e||Qv);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class gP{constructor(e,n,r,i){const s=n[r];i=Uf([e.to,i,s,e.from]);const a=Uf([e.from,s,i]);this._active=!0,this._fn=e.fn||mP[e.type||typeof a],this._easing=Kd[e.easing]||Kd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Uf([e.to,n,i,e.from]),this._from=Uf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,c=this._to;let u;if(this._active=s!==c&&(a||n<r),!this._active){this._target[i]=c,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class A4{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!en(e))return;const n=Object.keys(Xn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!en(s))return;const a={};for(const c of n)a[c]=s[c];(cr(s.properties)&&s.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,a)})})}_animateOptions(e,n){const r=n.options,i=yP(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&xP(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,n));continue}const f=n[h];let m=s[h];const x=r.get(h);if(m)if(x&&m.active()){m.update(x,f,c);continue}else m.cancel();if(!x||!x.duration){e[h]=f;continue}s[h]=m=new gP(x,e,h,f),i.push(m)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Wo.add(this._chart,r),!0}}function xP(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function yP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function eb(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function vP(t,e,n){if(n===!1)return!1;const r=eb(t,n),i=eb(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function bP(t){let e,n,r,i;return en(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function E4(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function tb(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,c,u,h;if(e!==null){for(a=0,c=i.length;a<c;++a){if(u=+i[a],u===n){if(r.all)continue;break}h=t.values[u],ds(h)&&(s||e===0||ho(e)===ho(h))&&(e+=h)}return e}}function _P(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let u,h,f;for(u=0,h=a.length;u<h;++u)f=a[u],c[u]={[i]:f,[s]:t[f]};return c}function nb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function wP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function NP(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function jP(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function rb(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function ib(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:c}=r,u=s.axis,h=a.axis,f=wP(s,a,r),m=e.length;let x;for(let g=0;g<m;++g){const b=e[g],{[u]:N,[h]:k}=b,v=b._stacks||(b._stacks={});x=v[h]=jP(i,f,N),x[c]=k,x._top=rb(x,a,!0,r.type),x._bottom=rb(x,a,!1,r.type);const w=x._visualValues||(x._visualValues={});w[c]=k}}function Wg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function SP(t,e){return vc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kP(t,e,n){return vc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function md(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Hg=t=>t==="reset"||t==="none",sb=(t,e)=>e?t:Object.assign({},t),CP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:E4(n,!0),values:null};class oc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&md(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(m,x,g,b)=>m==="x"?x:m==="r"?b:g,s=n.xAxisID=Ht(r.xAxisID,Wg(e,"x")),a=n.yAxisID=Ht(r.yAxisID,Wg(e,"y")),c=n.rAxisID=Ht(r.rAxisID,Wg(e,"r")),u=n.indexAxis,h=n.iAxisID=i(u,s,a,c),f=n.vAxisID=i(u,a,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bv(this._data,this),e._stacked&&md(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(en(n)){const i=this._cachedMeta;this._data=_P(n,i)}else if(r!==n){if(r){Bv(r,this);const i=this._cachedMeta;md(i),i._parsed=[]}n&&Object.isExtensible(n)&&cC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=nb(n.vScale,n),n.stack!==r.stack&&(i=!0,md(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&ib(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,c=s.axis;let u=e===0&&n===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],f,m,x;if(this._parsing===!1)r._parsed=i,r._sorted=!0,x=i;else{cr(i[e])?x=this.parseArrayData(r,i,e,n):en(i[e])?x=this.parseObjectData(r,i,e,n):x=this.parsePrimitiveData(r,i,e,n);const g=()=>m[c]===null||h&&m[c]<h[c];for(f=0;f<n;++f)r._parsed[f+e]=m=x[f],u&&(g()&&(u=!1),h=m);r._sorted=u}a&&ib(this,x)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,c=s.axis,u=a.axis,h=s.getLabels(),f=s===a,m=new Array(i);let x,g,b;for(x=0,g=i;x<g;++x)b=x+r,m[x]={[c]:f||s.parse(h[b],b),[u]:a.parse(n[b],b)};return m}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,c=new Array(i);let u,h,f,m;for(u=0,h=i;u<h;++u)f=u+r,m=n[f],c[u]={x:s.parse(m[0],f),y:a.parse(m[1],f)};return c}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(i);let f,m,x,g;for(f=0,m=i;f<m;++f)x=f+r,g=n[x],h[f]={x:s.parse(hc(g,c),x),y:a.parse(hc(g,u),x)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],c={keys:E4(i,!0),values:n._stacks[e.axis]._visualValues};return tb(c,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const c=i&&r._stacks[n.axis];i&&c&&(i.values=c,a=tb(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,c=this._getOtherScale(e),u=CP(n,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=NP(c);let x,g;function b(){g=i[x];const N=g[c.axis];return!ds(g[e.axis])||f>N||m<N}for(x=0;x<a&&!(!b()&&(this.updateRangeFromParsed(h,e,g,u),s));++x);if(s){for(x=a-1;x>=0;--x)if(!b()){this.updateRangeFromParsed(h,e,g,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],ds(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bP(Ht(this.options.clip,vP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||i.length-c,h=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,c,u),f=c;f<c+u;++f){const m=i[f];m.hidden||(m.active&&h?a.push(m):m.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=kP(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=SP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,c=s[a],u=this.enableOptionSharing&&Nh(r);if(c)return sb(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],x=h.getOptionScopes(this.getDataset(),f),g=Object.keys(Xn.elements[e]),b=()=>this.getContext(r,i,n),N=h.resolveNamedOptions(x,g,b,m);return N.$shared&&(N.$shared=u,s[a]=Object.freeze(sb(N,u))),N}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,c=s[a];if(c)return c;let u;if(i.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),x=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(x,this.getContext(e,r,n))}const h=new A4(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){Hg(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Hg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let c;const u=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(u(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&md(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gt(oc,"defaults",{}),gt(oc,"datasetElementType",null),gt(oc,"dataElementType",null);function PP(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=m4(r.sort((i,s)=>i-s))}return t._cache.$bar}function LP(t){const e=t.iScale,n=PP(e,t.type);let r=e._length,i,s,a,c;const u=()=>{a===32767||a===-32768||(Nh(c)&&(r=Math.min(r,Math.abs(a-c)||r)),c=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),u();for(c=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),u();return r}function AP(t,e,n,r){const i=n.barThickness;let s,a;return bn(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function EP(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,c=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;a===null&&(a=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-a);const h=s-(s-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/r,ratio:n.barPercentage,start:h}}function MP(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),c=Math.max(i,s);let u=a,h=c;Math.abs(a)>Math.abs(c)&&(u=c,h=a),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:i,end:s,min:a,max:c}}function M4(t,e,n,r){return cr(t)?MP(t,e,n,r):e[n.axis]=n.parse(t,r),e}function ob(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),c=i===s,u=[];let h,f,m,x;for(h=n,f=n+r;h<f;++h)x=e[h],m={},m[i.axis]=c||i.parse(a[h],h),u.push(M4(x,m,s,h));return u}function qg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function TP(t,e,n){return t!==0?ho(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function OP(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function DP(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:h,bottom:f}=OP(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=h:(n._bottom||0)===r?i=f:(s[ab(f,a,c,u)]=!0,i=h)),s[ab(i,a,c,u)]=!0,t.borderSkipped=s}function ab(t,e,n,r){return r?(t=IP(t,e,n),t=lb(t,n,e)):t=lb(t,e,n),t}function IP(t,e,n){return t===e?n:t===n?e:t}function lb(t,e,n){return t==="start"?e:t==="end"?n:t}function RP(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class xp extends oc{parsePrimitiveData(e,n,r,i){return ob(e,n,r,i)}parseArrayData(e,n,r,i){return ob(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=s.axis==="x"?c:u,f=a.axis==="x"?c:u,m=[];let x,g,b,N;for(x=r,g=r+i;x<g;++x)N=n[x],b={},b[s.axis]=s.parse(hc(N,h),x),m.push(M4(hc(N,f),b,a,x));return m}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,c=qg(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:x}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const b=this.getParsed(g),N=s||bn(b[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(g),k=this._calculateBarIndexPixels(g,f),v=(b._stacks||{})[c.axis],w={horizontal:h,base:N.base,enableBorderRadius:!v||qg(b._custom)||a===v._top||a===v._bottom,x:h?N.head:k.center,y:h?k.center:N.head,height:h?k.size:Math.abs(N.size),width:h?Math.abs(N.size):k.size};x&&(w.options=m||this.resolveDataElementOptions(g,e[g].active?"active":i));const j=w.options||e[g].options;DP(w,j,v,a),RP(w,j,f.ratio),this.updateElement(e[g],g,w,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[r.axis],h=f=>{const m=f._parsed.find(g=>g[r.axis]===u),x=m&&m[f.vScale.axis];if(bn(x)||isNaN(x))return!0};for(const f of i)if(!(n!==void 0&&h(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||LP(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,c=s||0,u=this.getParsed(e),h=u._custom,f=qg(h);let m=u[n.axis],x=0,g=r?this.applyStack(n,u,r):m,b,N;g!==m&&(x=g-m,g=m),f&&(m=h.barStart,g=h.barEnd-h.barStart,m!==0&&ho(m)!==ho(h.barEnd)&&(x=0),x+=m);const k=!bn(s)&&!f?s:x;let v=n.getPixelForValue(k);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(x+g):b=v,N=b-v,Math.abs(N)<a){N=TP(N,n,c)*a,m===c&&(v-=N/2);const w=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),E=Math.min(w,j),T=Math.max(w,j);v=Math.max(Math.min(v,T),E),b=v+N,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(v))}if(v===n.getPixelForValue(c)){const w=ho(N)*n.getLineWidthForValue(c)/2;v+=w,N-=w}return{size:N,base:v,head:b,center:b+N/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=Ht(i.maxBarThickness,1/0);let c,u;if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?EP(e,n,i,h):AP(e,n,i,h),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=f.start+f.chunk*m+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}gt(xp,"id","bar"),gt(xp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gt(xp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function FP(t,e,n){let r=1,i=1,s=0,a=0;if(e<Un){const c=t,u=c+e,h=Math.cos(c),f=Math.sin(c),m=Math.cos(u),x=Math.sin(u),g=(j,E,T)=>Sh(j,c,u,!0)?1:Math.max(E,E*n,T,T*n),b=(j,E,T)=>Sh(j,c,u,!0)?-1:Math.min(E,E*n,T,T*n),N=g(0,h,m),k=g(dr,f,x),v=b(Wn,h,m),w=b(Wn+dr,f,x);r=(N-v)/2,i=(k-w)/2,s=-(N+v)/2,a=-(k+w)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class Ld extends oc{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(en(r[e])){const{key:u="value"}=this._parsing;s=h=>+hc(r[h],u)}let a,c;for(a=e,c=e+n;a<c;++a)i._parsed[a]=s(a)}}_getRotation(){return Ko(this.options.rotation-90)}_getCircumference(){return Ko(this.options.circumference)}_getRotationExtents(){let e=Un,n=-Un;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(Y7(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:x,ratioY:g,offsetX:b,offsetY:N}=FP(m,f,u),k=(r.width-a)/x,v=(r.height-a)/g,w=Math.max(Math.min(k,v)/2,0),j=d4(this.options.radius,w),E=Math.max(j*u,0),T=(j-E)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=N*j,i.total=this.calculateTotal(),this.outerRadius=j-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Un)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,f=(c.left+c.right)/2,m=(c.top+c.bottom)/2,x=s&&h.animateScale,g=x?0:this.innerRadius,b=x?0:this.outerRadius,{sharedOptions:N,includeOptions:k}=this._getSharedOptions(n,i);let v=this._getRotation(),w;for(w=0;w<n;++w)v+=this._circumference(w,s);for(w=n;w<n+r;++w){const j=this._circumference(w,s),E=e[w],T={x:f+this.offsetX,y:m+this.offsetY,startAngle:v,endAngle:v+j,circumference:j,outerRadius:b,innerRadius:g};k&&(T.options=N||this.resolveDataElementOptions(w,E.active?"active":i)),v+=j,this.updateElement(E,w,T,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Un*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Z2(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,c,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,c=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=c.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ht(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gt(Ld,"id","doughnut"),gt(Ld,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gt(Ld,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),gt(Ld,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class yp extends oc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=hC(n,i,a);this._drawStart=c,this._drawCount=u,fC(n)&&(c=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:h},e),this.updateElements(i,c,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,i),x=a.axis,g=c.axis,{spanGaps:b,segment:N}=this.options,k=jh(b)?b:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",w=n+r,j=e.length;let E=n>0&&this.getParsed(n-1);for(let T=0;T<j;++T){const F=e[T],D=v?F:{};if(T<n||T>=w){D.skip=!0;continue}const P=this.getParsed(T),Y=bn(P[g]),V=D[x]=a.getPixelForValue(P[x],T),I=D[g]=s||Y?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,P,u):P[g],T);D.skip=isNaN(V)||isNaN(I)||Y,D.stop=T>0&&Math.abs(P[x]-E[x])>k,N&&(D.parsed=P,D.raw=h.data[T]),m&&(D.options=f||this.resolveDataElementOptions(T,F.active?"active":i)),v||this.updateElement(F,T,D,i),E=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}gt(yp,"id","line"),gt(yp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gt(yp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class P1 extends Ld{}gt(P1,"id","pie"),gt(P1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function zl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rx{constructor(e){gt(this,"options");this.options=e||{}}static override(e){Object.assign(rx.prototype,e)}init(){}formats(){return zl()}parse(){return zl()}format(){return zl()}add(){return zl()}diff(){return zl()}startOf(){return zl()}endOf(){return zl()}}var BP={_date:rx};function zP(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,c=i._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&a&&s.length){const u=c._reversePixels?aC:Xl;if(r){if(i._sharedOptions){const h=s[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const m=u(s,e,n-f),x=u(s,e,n+f);return{lo:m.lo,hi:x.hi}}}}else return u(s,e,n)}return{lo:0,hi:s.length-1}}function Ih(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=s.length;c<u;++c){const{index:h,data:f}=s[c],{lo:m,hi:x}=zP(s[c],e,a,i);for(let g=m;g<=x;++g){const b=f[g];b.skip||r(b,h,g)}}}function UP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Vg(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Ih(t,n,e,function(c,u,h){!i&&!kh(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&s.push({element:c,datasetIndex:u,index:h})},!0),s}function WP(t,e,n,r){let i=[];function s(a,c,u){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:m}=f4(a,{x:e.x,y:e.y});Sh(m,h,f)&&i.push({element:a,datasetIndex:c,index:u})}return Ih(t,n,e,s),i}function HP(t,e,n,r,i,s){let a=[];const c=UP(n);let u=Number.POSITIVE_INFINITY;function h(f,m,x){const g=f.inRange(e.x,e.y,i);if(r&&!g)return;const b=f.getCenterPoint(i);if(!(!!s||t.isPointInArea(b))&&!g)return;const k=c(e,b);k<u?(a=[{element:f,datasetIndex:m,index:x}],u=k):k===u&&a.push({element:f,datasetIndex:m,index:x})}return Ih(t,n,e,h),a}function $g(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?WP(t,e,n,i):HP(t,e,n,r,i,s)}function cb(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return Ih(t,n,e,(u,h,f)=>{u[a]&&u[a](e[n],i)&&(s.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(e.x,e.y,i))}),r&&!c?[]:s}var qP={evaluateInteractionItems:Ih,modes:{index(t,e,n,r){const i=Vl(e,t),s=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Vg(t,i,s,r,a):$g(t,i,s,!1,r,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,m=h.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,n,r){const i=Vl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Vg(t,i,s,r,a):$g(t,i,s,!1,r,a);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(t,e,n,r){const i=Vl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Vg(t,i,s,r,a)},nearest(t,e,n,r){const i=Vl(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return $g(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=Vl(e,t);return cb(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Vl(e,t);return cb(t,i,"y",n.intersect,r)}}};const T4=["left","top","right","bottom"];function gd(t,e){return t.filter(n=>n.pos===e)}function ub(t,e){return t.filter(n=>T4.indexOf(n.pos)===-1&&n.box.axis===e)}function xd(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VP(t){const e=[];let n,r,i,s,a,c;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:c=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:c});return e}function $P(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!T4.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function YP(t,e){const n=$P(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,c;for(s=0,a=t.length;s<a;++s){c=t[s];const{fullSize:u}=c.box,h=n[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*r:u&&e.availableWidth,c.height=i):(c.width=r,c.height=f?f*i:u&&e.availableHeight)}return n}function ZP(t){const e=VP(t),n=xd(e.filter(h=>h.box.fullSize),!0),r=xd(gd(e,"left"),!0),i=xd(gd(e,"right")),s=xd(gd(e,"top"),!0),a=xd(gd(e,"bottom")),c=ub(e,"x"),u=ub(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(c),chartArea:gd(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(c)}}function db(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function O4(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function KP(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!en(i)){n.size&&(t[i]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[i]+=n.size}s.getPadding&&O4(a,s.getPadding());const c=Math.max(0,e.outerWidth-db(a,t,"left","right")),u=Math.max(0,e.outerHeight-db(a,t,"top","bottom")),h=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function GP(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function XP(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Ad(t,e,n,r){const i=[];let s,a,c,u,h,f;for(s=0,a=t.length,h=0;s<a;++s){c=t[s],u=c.box,u.update(c.width||e.w,c.height||e.h,XP(c.horizontal,e));const{same:m,other:x}=KP(e,n,c,r);h|=m&&i.length,f=f||x,u.fullSize||i.push(c)}return h&&Ad(i,e,n,r)||f}function qf(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function hb(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const c of t){const u=c.box,h=r[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const m=e.w*f,x=h.size||u.height;Nh(h.start)&&(a=h.start),u.fullSize?qf(u,i.left,a,n.outerWidth-i.right-i.left,x):qf(u,e.left+h.placed,a,m,x),h.start=a,h.placed+=m,a=u.bottom}else{const m=e.h*f,x=h.size||u.width;Nh(h.start)&&(s=h.start),u.fullSize?qf(u,s,i.top,x,n.outerHeight-i.bottom-i.top):qf(u,s,e.top+h.placed,x,m),h.start=s,h.placed+=m,s=u.right}}e.x=s,e.y=a}var as={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=hs(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),c=ZP(t.boxes),u=c.vertical,h=c.horizontal;un(t.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const f=u.reduce((N,k)=>k.box.options&&k.box.options.display===!1?N:N+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),x=Object.assign({},i);O4(x,hs(r));const g=Object.assign({maxPadding:x,w:s,h:a,x:i.left,y:i.top},i),b=YP(u.concat(h),m);Ad(c.fullSize,g,m,b),Ad(u,g,m,b),Ad(h,g,m,b)&&Ad(u,g,m,b),GP(g),hb(c.leftAndTop,g,m,b),g.x+=g.w,g.y+=g.h,hb(c.rightAndBottom,g,m,b),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},un(c.chartArea,N=>{const k=N.box;Object.assign(k,t.chartArea),k.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class D4{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class JP extends D4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vp="$chartjs",QP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fb=t=>t===null||t==="";function eL(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[vp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fb(i)){const s=Kv(t,"width");s!==void 0&&(t.width=s)}if(fb(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Kv(t,"height");s!==void 0&&(t.height=s)}return t}const I4=tP?{passive:!0}:!1;function tL(t,e,n){t&&t.addEventListener(e,n,I4)}function nL(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,I4)}function rL(t,e){const n=QP[t.type]||t.type,{x:r,y:i}=Vl(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function rm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function iL(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||rm(c.addedNodes,r),a=a&&!rm(c.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function sL(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||rm(c.removedNodes,r),a=a&&!rm(c.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ph=new Map;let pb=0;function R4(){const t=window.devicePixelRatio;t!==pb&&(pb=t,Ph.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oL(t,e){Ph.size||window.addEventListener("resize",R4),Ph.set(t,e)}function aL(t){Ph.delete(t),Ph.size||window.removeEventListener("resize",R4)}function lL(t,e,n){const r=t.canvas,i=r&&nx(r);if(!i)return;const s=x4((c,u)=>{const h=i.clientWidth;n(c,u),h<i.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||s(h,f)});return a.observe(i),oL(t,s),a}function Yg(t,e,n){n&&n.disconnect(),e==="resize"&&aL(t)}function cL(t,e,n){const r=t.canvas,i=x4(s=>{t.ctx!==null&&n(rL(s,t))},t);return tL(r,e,i),i}class uL extends D4{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(eL(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[vp])return!1;const r=n[vp].initial;["height","width"].forEach(s=>{const a=r[s];bn(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[vp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:iL,detach:sL,resize:lL}[n]||cL;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Yg,detach:Yg,resize:Yg}[n]||nL)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return eP(e,n,r,i)}isAttached(e){const n=e&&nx(e);return!!(n&&n.isConnected)}}function dL(t){return!tx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?JP:uL}var tp;let ia=(tp=class{constructor(){gt(this,"x");gt(this,"y");gt(this,"active",!1);gt(this,"options");gt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return jh(this.x)&&jh(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},gt(tp,"defaults",{}),gt(tp,"defaultRoutes"),tp);function hL(t,e){const n=t.options.ticks,r=fL(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mL(e):[],a=s.length,c=s[0],u=s[a-1],h=[];if(a>i)return gL(e,h,s,a/i),h;const f=pL(s,e,i);if(a>0){let m,x;const g=a>1?Math.round((u-c)/(a-1)):null;for(Vf(e,h,f,bn(g)?0:c-g,c),m=0,x=a-1;m<x;m++)Vf(e,h,f,s[m],s[m+1]);return Vf(e,h,f,u,bn(g)?e.length:u+g),h}return Vf(e,h,f),h}function fL(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function pL(t,e,n){const r=xL(t),i=e.length/n;if(!r)return Math.max(i,1);const s=tC(r);for(let a=0,c=s.length-1;a<c;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function mL(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function gL(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function Vf(t,e,n,r,i){const s=Ht(r,0),a=Math.min(Ht(i,t.length),t.length);let c=0,u,h,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)c++,f=Math.round(s+c*n);for(h=Math.max(s,0);h<a;h++)h===f&&(e.push(t[h]),c++,f=Math.round(s+c*n))}function xL(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const yL=t=>t==="left"?"right":t==="right"?"left":t,mb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gb=(t,e)=>Math.min(e||t,t);function xb(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function vL(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(i),h;if(!(n&&(r===1?h=Math.max(u-s,a-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(i-1))/2,u+=i<e?h:-h,u<s-c||u>a+c)))return u}function bL(t,e){un(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function yd(t){return t.drawTicks?t.tickLength:0}function yb(t,e){if(!t.display)return 0;const n=$r(t.font,e),r=hs(t.padding);return(cr(t.text)?t.text.length:1)*n.lineHeight+r.height}function _L(t,e){return vc(t,{scale:e,type:"scale"})}function wL(t,e,n){return vc(t,{tick:n,index:e,type:"tick"})}function NL(t,e,n){let r=$2(t);return(n&&e!=="right"||!n&&e==="right")&&(r=yL(r)),r}function jL(t,e,n,r){const{top:i,left:s,bottom:a,right:c,chart:u}=t,{chartArea:h,scales:f}=u;let m=0,x,g,b;const N=a-i,k=c-s;if(t.isHorizontal()){if(g=Hr(r,s,c),en(n)){const v=Object.keys(n)[0],w=n[v];b=f[v].getPixelForValue(w)+N-e}else n==="center"?b=(h.bottom+h.top)/2+N-e:b=mb(t,n,e);x=c-s}else{if(en(n)){const v=Object.keys(n)[0],w=n[v];g=f[v].getPixelForValue(w)-k+e}else n==="center"?g=(h.left+h.right)/2-k+e:g=mb(t,n,e);b=Hr(r,a,i),m=n==="left"?-dr:dr}return{titleX:g,titleY:b,maxWidth:x,rotation:m}}class Bu extends ia{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Xs(e,Number.POSITIVE_INFINITY),n=Xs(n,Number.NEGATIVE_INFINITY),r=Xs(r,Number.POSITIVE_INFINITY),i=Xs(i,Number.NEGATIVE_INFINITY),{min:Xs(e,r),max:Xs(n,i),minDefined:ds(e),maxDefined:ds(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)a=c[u].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Xs(n,Xs(r,n)),max:Xs(r,Xs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MC(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?xb(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=hL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jn(this.options.afterUpdate,[this])}beforeSetDimensions(){jn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=jn(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){jn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=gb(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,c,u,h;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),m=f.widest.width,x=f.highest.height,g=Vr(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/r:g/(r-1),m+6>c&&(c=g/(r-(e.offset?.5:1)),u=this.maxHeight-yd(e.grid)-n.padding-yb(e.title,this.chart.options.font),h=Math.sqrt(m*m+x*x),a=iC(Math.min(Math.asin(Vr((f.highest.height+6)/c,-1,1)),Math.asin(Vr(u/h,-1,1))-Math.asin(Vr(x/h,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){jn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=yb(i,n.options.font);if(c?(e.width=this.maxWidth,e.height=yd(s)+u):(e.height=this.maxHeight,e.width=yd(s)+u),r.display&&this.ticks.length){const{first:h,last:f,widest:m,highest:x}=this._getLabelSizes(),g=r.padding*2,b=Ko(this.labelRotation),N=Math.cos(b),k=Math.sin(b);if(c){const v=r.mirror?0:k*m.width+N*x.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=r.mirror?0:N*m.width+k*x.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(h,f,k,N)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,g=0;u?h?(x=i*e.width,g=r*n.height):(x=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?x=e.width:s!=="inner"&&(x=e.width/2,g=n.width/2),this.paddingLeft=Math.max((x-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((g-m+a)*this.width/(this.width-m),0)}else{let f=n.height/2,m=e.height/2;s==="start"?(f=0,m=e.height):s==="end"&&(f=n.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)bn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=xb(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],c=[],u=Math.floor(n/gb(n,r));let h=0,f=0,m,x,g,b,N,k,v,w,j,E,T;for(m=0;m<n;m+=u){if(b=e[m].label,N=this._resolveTickFontOptions(m),i.font=k=N.string,v=s[k]=s[k]||{data:{},gc:[]},w=N.lineHeight,j=E=0,!bn(b)&&!cr(b))j=qv(i,v.data,v.gc,j,b),E=w;else if(cr(b))for(x=0,g=b.length;x<g;++x)T=b[x],!bn(T)&&!cr(T)&&(j=qv(i,v.data,v.gc,j,T),E+=w);a.push(j),c.push(E),h=Math.max(j,h),f=Math.max(E,f)}bL(s,n);const F=a.indexOf(h),D=c.indexOf(f),P=Y=>({width:a[Y]||0,height:c[Y]||0});return{first:P(0),last:P(n-1),widest:P(F),highest:P(D),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return oC(this._alignToPixels?Bl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=wL(this.getContext(),e,r))}return this.$context||(this.$context=_L(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ko(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,c=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>c*i?c/r:u/i:u*i<c*r?u/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:c}=i,u=s.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),x=yd(s),g=[],b=c.setContext(this.getContext()),N=b.display?b.width:0,k=N/2,v=function(Q){return Bl(r,Q,N)};let w,j,E,T,F,D,P,Y,V,I,R,K;if(a==="top")w=v(this.bottom),D=this.bottom-x,Y=w-k,I=v(e.top)+k,K=e.bottom;else if(a==="bottom")w=v(this.top),I=e.top,K=v(e.bottom)-k,D=w+k,Y=this.top+x;else if(a==="left")w=v(this.right),F=this.right-x,P=w-k,V=v(e.left)+k,R=e.right;else if(a==="right")w=v(this.left),V=e.left,R=v(e.right)-k,F=w+k,P=this.left+x;else if(n==="x"){if(a==="center")w=v((e.top+e.bottom)/2+.5);else if(en(a)){const Q=Object.keys(a)[0],Z=a[Q];w=v(this.chart.scales[Q].getPixelForValue(Z))}I=e.top,K=e.bottom,D=w+k,Y=D+x}else if(n==="y"){if(a==="center")w=v((e.left+e.right)/2);else if(en(a)){const Q=Object.keys(a)[0],Z=a[Q];w=v(this.chart.scales[Q].getPixelForValue(Z))}F=w-k,P=F-x,V=e.left,R=e.right}const U=Ht(i.ticks.maxTicksLimit,m),le=Math.max(1,Math.ceil(m/U));for(j=0;j<m;j+=le){const Q=this.getContext(j),Z=s.setContext(Q),H=c.setContext(Q),q=Z.lineWidth,ee=Z.color,te=H.dash||[],M=H.dashOffset,B=Z.tickWidth,G=Z.tickColor,$=Z.tickBorderDash||[],ne=Z.tickBorderDashOffset;E=vL(this,j,u),E!==void 0&&(T=Bl(r,E,q),h?F=P=V=R=T:D=Y=I=K=T,g.push({tx1:F,ty1:D,tx2:P,ty2:Y,x1:V,y1:I,x2:R,y2:K,width:q,color:ee,borderDash:te,borderDashOffset:M,tickWidth:B,tickColor:G,tickBorderDash:$,tickBorderDashOffset:ne}))}return this._ticksLength=m,this._borderValue=w,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:m}=s,x=yd(r.grid),g=x+f,b=m?-f:g,N=-Ko(this.labelRotation),k=[];let v,w,j,E,T,F,D,P,Y,V,I,R,K="middle";if(i==="top")F=this.bottom-b,D=this._getXAxisLabelAlignment();else if(i==="bottom")F=this.top+b,D=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(x);D=le.textAlign,T=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(x);D=le.textAlign,T=le.x}else if(n==="x"){if(i==="center")F=(e.top+e.bottom)/2+g;else if(en(i)){const le=Object.keys(i)[0],Q=i[le];F=this.chart.scales[le].getPixelForValue(Q)+g}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-g;else if(en(i)){const le=Object.keys(i)[0],Q=i[le];T=this.chart.scales[le].getPixelForValue(Q)}D=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(u==="start"?K="top":u==="end"&&(K="bottom"));const U=this._getLabelSizes();for(v=0,w=c.length;v<w;++v){j=c[v],E=j.label;const le=s.setContext(this.getContext(v));P=this.getPixelForTick(v)+s.labelOffset,Y=this._resolveTickFontOptions(v),V=Y.lineHeight,I=cr(E)?E.length:1;const Q=I/2,Z=le.color,H=le.textStrokeColor,q=le.textStrokeWidth;let ee=D;a?(T=P,D==="inner"&&(v===w-1?ee=this.options.reverse?"left":"right":v===0?ee=this.options.reverse?"right":"left":ee="center"),i==="top"?h==="near"||N!==0?R=-I*V+V/2:h==="center"?R=-U.highest.height/2-Q*V+V:R=-U.highest.height+V/2:h==="near"||N!==0?R=V/2:h==="center"?R=U.highest.height/2-Q*V:R=U.highest.height-I*V,m&&(R*=-1),N!==0&&!le.showLabelBackdrop&&(T+=V/2*Math.sin(N))):(F=P,R=(1-I)*V/2);let te;if(le.showLabelBackdrop){const M=hs(le.backdropPadding),B=U.heights[v],G=U.widths[v];let $=R-M.top,ne=0-M.left;switch(K){case"middle":$-=B/2;break;case"bottom":$-=B;break}switch(D){case"center":ne-=G/2;break;case"right":ne-=G;break;case"inner":v===w-1?ne-=G:v>0&&(ne-=G/2);break}te={left:ne,top:$,width:G+M.width,height:B+M.height,color:le.backdropColor}}k.push({label:E,font:Y,textOffset:R,options:{rotation:N,color:Z,strokeColor:H,strokeWidth:q,textAlign:ee,textBaseline:K,translation:[T,F],backdrop:te}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ko(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),c=e+s,u=a.widest.width;let h,f;return n==="left"?i?(f=this.right+s,r==="near"?h="left":r==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,r==="near"?h="right":r==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?h="right":r==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,r==="near"?h="left":r==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const c=(u,h,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const c=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,m,x;this.isHorizontal()?(h=Bl(e,this.left,a)-a/2,f=Bl(e,this.right,c)+c/2,m=x=u):(m=Bl(e,this.top,a)-a/2,x=Bl(e,this.bottom,c)+c/2,h=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(h,m),n.lineTo(f,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&K2(r,i);const s=this.getLabelItems(e);for(const a of s){const c=a.options,u=a.font,h=a.label,f=a.textOffset;Ch(r,h,0,f,u,c)}i&&G2(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=$r(r.font),a=hs(r.padding),c=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||en(n)?(u+=a.bottom,cr(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:h,titleY:f,maxWidth:m,rotation:x}=jL(this,u,n,c);Ch(e,r.text,0,0,s,{color:r.color,maxWidth:m,rotation:x,textAlign:NL(c,n,i),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ht(e.grid&&e.grid.z,-1),i=Ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Bu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const c=n[s];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return $r(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $f{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;CL(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,SL(e,a,r),this.override&&Xn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Xn[i]&&(delete Xn[i][r],this.override&&delete fc[r])}}function SL(t,e,n){const r=wh(Object.create(null),[n?Xn.get(n):{},Xn.get(e),t.defaults]);Xn.set(e,r),t.defaultRoutes&&kL(e,t.defaultRoutes),t.descriptors&&Xn.describe(e,t.descriptors)}function kL(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");Xn.route(s,i,u,c)})}function CL(t){return"id"in t&&"defaults"in t}class PL{constructor(){this.controllers=new $f(oc,"datasets",!0),this.elements=new $f(ia,"elements"),this.plugins=new $f(Object,"plugins"),this.scales=new $f(Bu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):un(i,a=>{const c=r||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,r){const i=q2(e);jn(r["before"+i],[],r),n[e](r),jn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var to=new PL;class LL{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,c=a[r],u=[n,i,s.options];if(jn(c,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){bn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ht(r.options&&r.options.plugins,{}),s=AL(r);return i===!1&&!n?[]:ML(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function AL(t){const e={},n=[],r=Object.keys(to.plugins.items);for(let s=0;s<r.length;s++)n.push(to.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function EL(t,e){return!e&&t===!1?null:t===!0?{}:t}function ML(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const c of e){const u=c.id,h=EL(r[u],i);h!==null&&s.push({plugin:c,options:TL(t.config,{plugin:c,local:n[u]},h,a)})}return s}function TL(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L1(t,e){const n=Xn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function OL(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function DL(t,e){return t===e?"_index_":"_value_"}function vb(t){if(t==="x"||t==="y"||t==="r")return t}function IL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function A1(t,...e){if(vb(t))return t;for(const n of e){const r=n.axis||IL(n.position)||t.length>1&&vb(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function RL(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return bb(t,"x",n[0])||bb(t,"y",n[0])}return{}}function FL(t,e){const n=fc[t.type]||{scales:{}},r=e.scales||{},i=L1(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const c=r[a];if(!en(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=A1(a,c,RL(a,t),Xn.scales[c.type]),h=DL(u,i),f=n.scales||{};s[a]=Yd(Object.create(null),[{axis:u},c,f[u],f[h]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||L1(c,e),f=(fc[c]||{}).scales||{};Object.keys(f).forEach(m=>{const x=OL(m,u),g=a[x+"AxisID"]||x;s[g]=s[g]||Object.create(null),Yd(s[g],[{axis:x},r[g],f[m]])})}),Object.keys(s).forEach(a=>{const c=s[a];Yd(c,[Xn.scales[c.type],Xn.scale])}),s}function F4(t){const e=t.options||(t.options={});e.plugins=Ht(e.plugins,{}),e.scales=FL(t,e)}function B4(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function BL(t){return t=t||{},t.data=B4(t.data),F4(t),t}const _b=new Map,z4=new Set;function Yf(t,e){let n=_b.get(t);return n||(n=e(),_b.set(t,n),z4.add(n)),n}const vd=(t,e,n)=>{const r=hc(e,n);r!==void 0&&t.add(r)};class zL{constructor(e){this._config=BL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=B4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),F4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Yf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(m=>vd(u,e,m))),f.forEach(m=>vd(u,i,m)),f.forEach(m=>vd(u,fc[s]||{},m)),f.forEach(m=>vd(u,Xn,m)),f.forEach(m=>vd(u,k1,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),z4.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,fc[n]||{},Xn.datasets[n]||{},{type:n},Xn,k1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=wb(this._resolverCache,e,i);let u=a;if(WL(a,n)){s.$shared=!1,r=ll(r)?r():r;const h=this.createResolver(e,r,c);u=Eu(a,r,h)}for(const h of n)s[h]=u[h];return s}createResolver(e,n,r=[""],i){const{resolver:s}=wb(this._resolverCache,e,r);return en(n)?Eu(s,n,void 0,i):s}}function wb(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:J2(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,s)),s}const UL=t=>en(t)&&Object.getOwnPropertyNames(t).some(e=>ll(t[e]));function WL(t,e){const{isScriptable:n,isIndexable:r}=w4(t);for(const i of e){const s=n(i),a=r(i),c=(a||s)&&t[i];if(s&&(ll(c)||UL(c))||a&&cr(c))return!0}return!1}var HL="4.4.4";const qL=["top","bottom","left","right","chartArea"];function Nb(t,e){return t==="top"||t==="bottom"||qL.indexOf(t)===-1&&e==="x"}function jb(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Sb(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),jn(n&&n.onComplete,[t],e)}function VL(t){const e=t.chart,n=e.options.animation;jn(n&&n.onProgress,[t],e)}function U4(t){return tx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const bp={},kb=t=>{const e=U4(t);return Object.values(bp).filter(n=>n.canvas===e).pop()};function $L(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function YL(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Zf(t,e,n){return t.options.clip?t[n]:e[n]}function ZL(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Zf(n,e,"left"),right:Zf(n,e,"right"),top:Zf(r,e,"top"),bottom:Zf(r,e,"bottom")}:e}var Ta;let hl=(Ta=class{static register(...e){to.add(...e),Cb()}static unregister(...e){to.remove(...e),Cb()}constructor(e,n){const r=this.config=new zL(n),i=U4(e),s=kb(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||dL(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=$7(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uC(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],bp[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Wo.listen(this,"complete",Sb),Wo.listen(this,"progress",VL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return bn(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return to}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vv(this.canvas,this.ctx),this}stop(){return Wo.stop(this),this}resize(e,n){Wo.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Zv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),jn(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};un(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const c=n[a],u=A1(a,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),un(s,a=>{const c=a.options,u=c.id,h=A1(u,c),f=Ht(c.type,a.dtype);(c.position===void 0||Nb(c.position,h)!==Nb(a.dposition))&&(c.position=a.dposition),i[u]=!0;let m=null;if(u in r&&r[u].type===f)m=r[u];else{const x=to.getScale(f);m=new x({id:u,type:f,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(c,e)}),un(i,(a,c)=>{a||delete r[c]}),un(r,a=>{as.configure(this,a,a.options),as.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(jb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||L1(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=to.getController(c),{datasetElementType:h,dataElementType:f}=Xn.datasets[c];Object.assign(u,{dataElementType:to.getElement(f),datasetElementType:h&&to.getElement(h)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){un(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:m}=this.getDatasetMeta(h),x=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(x),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||un(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jb("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){un(this.scales,e=>{as.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Dv(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;$L(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Dv(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],un(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ll(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wo.has(this)?this.attached&&!Wo.running(this)&&Wo.start(this):(this.draw(),Sb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=ZL(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&K2(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&G2(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return kh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=qP.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Nh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wo.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};un(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},i=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){un(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},un(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,c,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!Jp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,h)=>u.filter(f=>!h.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=s(n,e),c=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,c=this._getActiveElements(e,i,r,a),u=J7(e),h=YL(e,this._lastEvent,r,u);r&&(this._lastEvent=null,jn(s.onHover,[e,c,this],this),u&&jn(s.onClick,[e,c,this],this));const f=!Jp(c,i);return(f||n)&&(this._active=c,this._updateHoverStyles(c,i,n)),this._lastEvent=h,f}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},gt(Ta,"defaults",Xn),gt(Ta,"instances",bp),gt(Ta,"overrides",fc),gt(Ta,"registry",to),gt(Ta,"version",HL),gt(Ta,"getChart",kb),Ta);function Cb(){return un(hl.instances,t=>t._plugins.invalidate())}function KL(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:c,innerRadius:u}=e;let h=i/c;t.beginPath(),t.arc(s,a,c,r-h,n+h),u>i?(h=i/u,t.arc(s,a,u,n+h,r-h,!0)):t.arc(s,a,i,n+dr,r-dr),t.closePath(),t.clip()}function GL(t){return X2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function XL(t,e,n,r){const i=GL(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),c=u=>{const h=(n-Math.min(s,u))*r/2;return Vr(u,0,Math.min(s,h))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Vr(i.innerStart,0,a),innerEnd:Vr(i.innerEnd,0,a)}}function Vc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function im(t,e,n,r,i,s){const{x:a,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=e,m=Math.max(e.outerRadius+r+n-h,0),x=f>0?f+r+n+h:0;let g=0;const b=i-u;if(r){const le=f>0?f-r:0,Q=m>0?m-r:0,Z=(le+Q)/2,H=Z!==0?b*Z/(Z+r):b;g=(b-H)/2}const N=Math.max(.001,b*m-n/Wn)/m,k=(b-N)/2,v=u+k+g,w=i-k-g,{outerStart:j,outerEnd:E,innerStart:T,innerEnd:F}=XL(e,x,m,w-v),D=m-j,P=m-E,Y=v+j/D,V=w-E/P,I=x+T,R=x+F,K=v+T/I,U=w-F/R;if(t.beginPath(),s){const le=(Y+V)/2;if(t.arc(a,c,m,Y,le),t.arc(a,c,m,le,V),E>0){const q=Vc(P,V,a,c);t.arc(q.x,q.y,E,V,w+dr)}const Q=Vc(R,w,a,c);if(t.lineTo(Q.x,Q.y),F>0){const q=Vc(R,U,a,c);t.arc(q.x,q.y,F,w+dr,U+Math.PI)}const Z=(w-F/x+(v+T/x))/2;if(t.arc(a,c,x,w-F/x,Z,!0),t.arc(a,c,x,Z,v+T/x,!0),T>0){const q=Vc(I,K,a,c);t.arc(q.x,q.y,T,K+Math.PI,v-dr)}const H=Vc(D,v,a,c);if(t.lineTo(H.x,H.y),j>0){const q=Vc(D,Y,a,c);t.arc(q.x,q.y,j,v-dr,Y)}}else{t.moveTo(a,c);const le=Math.cos(Y)*m+a,Q=Math.sin(Y)*m+c;t.lineTo(le,Q);const Z=Math.cos(V)*m+a,H=Math.sin(V)*m+c;t.lineTo(Z,H)}t.closePath()}function JL(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:c}=e;let u=e.endAngle;if(s){im(t,e,n,r,u,i);for(let h=0;h<s;++h)t.fill();isNaN(c)||(u=a+(c%Un||Un))}return im(t,e,n,r,u,i),t.fill(),u}function QL(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:m,borderDashOffset:x}=u,g=u.borderAlign==="inner";if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=x,g?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let b=e.endAngle;if(s){im(t,e,n,r,b,i);for(let N=0;N<s;++N)t.stroke();isNaN(c)||(b=a+(c%Un||Un))}g&&KL(t,e,b),s||(im(t,e,n,r,b,i),t.stroke())}class du extends ia{constructor(n){super();gt(this,"circumference");gt(this,"endAngle");gt(this,"fullCircles");gt(this,"innerRadius");gt(this,"outerRadius");gt(this,"pixelMargin");gt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:c}=f4(s,{x:n,y:r}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:m,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,b=Ht(x,h-u),N=Sh(a,u,h)&&u!==h,k=b>=Un||N,v=Va(c,f+g,m+g);return k&&v}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:f}=this.options,m=(s+a)/2,x=(c+u+f+h)/2;return{x:r+Math.cos(m)*x,y:i+Math.sin(m)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Un?Math.floor(i/Un):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*s,Math.sin(u)*s);const h=1-Math.sin(Math.min(Wn,i||0)),f=s*h;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,JL(n,this,f,a,c),QL(n,this,f,a,c),n.restore()}}gt(du,"id","arc"),gt(du,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),gt(du,"defaultRoutes",{backgroundColor:"backgroundColor"}),gt(du,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function W4(t,e,n=e){t.lineCap=Ht(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ht(n.borderDash,e.borderDash)),t.lineDashOffset=Ht(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ht(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ht(n.borderWidth,e.borderWidth),t.strokeStyle=Ht(n.borderColor,e.borderColor)}function eA(t,e,n){t.lineTo(n.x,n.y)}function tA(t){return t.stepped?NC:t.tension||t.cubicInterpolationMode==="monotone"?jC:eA}function H4(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:c}=e,u=Math.max(i,a),h=Math.min(s,c),f=i<a&&s<a||i>c&&s>c;return{count:r,start:u,loop:e.loop,ilen:h<u&&!f?r+h-u:h-u}}function nA(t,e,n,r){const{points:i,options:s}=e,{count:a,start:c,loop:u,ilen:h}=H4(i,n,r),f=tA(s);let{move:m=!0,reverse:x}=r||{},g,b,N;for(g=0;g<=h;++g)b=i[(c+(x?h-g:g))%a],!b.skip&&(m?(t.moveTo(b.x,b.y),m=!1):f(t,N,b,x,s.stepped),N=b);return u&&(b=i[(c+(x?h:0))%a],f(t,N,b,x,s.stepped)),!!u}function rA(t,e,n,r){const i=e.points,{count:s,start:a,ilen:c}=H4(i,n,r),{move:u=!0,reverse:h}=r||{};let f=0,m=0,x,g,b,N,k,v;const w=E=>(a+(h?c-E:E))%s,j=()=>{N!==k&&(t.lineTo(f,k),t.lineTo(f,N),t.lineTo(f,v))};for(u&&(g=i[w(0)],t.moveTo(g.x,g.y)),x=0;x<=c;++x){if(g=i[w(x)],g.skip)continue;const E=g.x,T=g.y,F=E|0;F===b?(T<N?N=T:T>k&&(k=T),f=(m*f+E)/++m):(j(),t.lineTo(E,T),b=F,m=0,N=k=T),v=T}j()}function E1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?rA:nA}function iA(t){return t.stepped?nP:t.tension||t.cubicInterpolationMode==="monotone"?rP:$l}function sA(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),W4(t,e.options),t.stroke(i)}function oA(t,e,n,r){const{segments:i,options:s}=e,a=E1(e);for(const c of i)W4(t,s,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const aA=typeof Path2D=="function";function lA(t,e,n,r){aA&&!e.options.segment?sA(t,e,n,r):oA(t,e,n,r)}class Jl extends ia{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;ZC(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dP(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=lP(this,{property:n,start:i,end:i});if(!a.length)return;const c=[],u=iA(r);let h,f;for(h=0,f=a.length;h<f;++h){const{start:m,end:x}=a[h],g=s[m],b=s[x];if(g===b){c.push(g);continue}const N=Math.abs((i-g[n])/(b[n]-g[n])),k=u(g,b,N,r.stepped);k[n]=e[n],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,n,r){return E1(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=E1(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const c of i)a&=s(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),lA(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}gt(Jl,"id","line"),gt(Jl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gt(Jl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gt(Jl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Pb(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class bu extends ia{constructor(n){super();gt(this,"parsed");gt(this,"skip");gt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Pb(this,n,"x",r)}inYRange(n,r){return Pb(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!kh(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,C1(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}gt(bu,"id","point"),gt(bu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gt(bu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function q4(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let c,u,h,f,m;return t.horizontal?(m=a/2,c=Math.min(n,i),u=Math.max(n,i),h=r-m,f=r+m):(m=s/2,c=n-m,u=n+m,h=Math.min(r,i),f=Math.max(r,i)),{left:c,top:h,right:u,bottom:f}}function $a(t,e,n,r){return t?0:Vr(e,n,r)}function cA(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=_4(r);return{t:$a(i.top,s.top,0,n),r:$a(i.right,s.right,0,e),b:$a(i.bottom,s.bottom,0,n),l:$a(i.left,s.left,0,e)}}function uA(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=yu(i),a=Math.min(e,n),c=t.borderSkipped,u=r||en(i);return{topLeft:$a(!u||c.top||c.left,s.topLeft,0,a),topRight:$a(!u||c.top||c.right,s.topRight,0,a),bottomLeft:$a(!u||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:$a(!u||c.bottom||c.right,s.bottomRight,0,a)}}function dA(t){const e=q4(t),n=e.right-e.left,r=e.bottom-e.top,i=cA(t,n/2,r/2),s=uA(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Zg(t,e,n,r){const i=e===null,s=n===null,c=t&&!(i&&s)&&q4(t,r);return c&&(i||Va(e,c.left,c.right))&&(s||Va(n,c.top,c.bottom))}function hA(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fA(t,e){t.rect(e.x,e.y,e.w,e.h)}function Kg(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Xd extends ia{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=dA(this),c=hA(a.radius)?tm:fA;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),c(e,Kg(a,n,s)),e.clip(),c(e,Kg(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Kg(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return Zg(this,e,n,r)}inXRange(e,n){return Zg(this,e,null,n)}inYRange(e,n){return Zg(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}gt(Xd,"id","bar"),gt(Xd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gt(Xd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Lb=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},pA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ab extends ia{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=jn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=$r(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Lb(r,s);let h,f;n.font=i.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,s,c,u)+10):(f=this.maxHeight,h=this._fitCols(a,i,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=i+c;let m=e;s.textAlign="left",s.textBaseline="middle";let x=-1,g=-f;return this.legendItems.forEach((b,N)=>{const k=r+n/2+s.measureText(b.text).width;(N===0||h[h.length-1]+k+2*c>a)&&(m+=f,h[h.length-(N>0?0:1)]=0,g+=f,x++),u[N]={left:0,top:g,row:x,width:k,height:i},h[h.length-1]+=k+c}),m}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let m=c,x=0,g=0,b=0,N=0;return this.legendItems.forEach((k,v)=>{const{itemWidth:w,itemHeight:j}=mA(r,n,s,k,i);v>0&&g+j+2*c>f&&(m+=x+c,h.push({width:x,height:g}),b+=x+c,N++,x=g=0),u[v]={left:b,top:g,col:N,width:w,height:j},x=Math.max(x,w),g+=j+c}),m+=x,h.push({width:x,height:g}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=vu(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Hr(r,this.left+i,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,u=Hr(r,this.left+i,this.right-this.lineWidths[c])),h.top+=this.top+e+i,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+i}else{let c=0,u=Hr(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,u=Hr(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+i,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;K2(e,this),this._draw(),G2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,c=Xn.color,u=vu(e.rtl,this.left,this.width),h=$r(a.font),{padding:f}=a,m=h.size,x=m/2;let g;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:b,boxHeight:N,itemHeight:k}=Lb(a,m),v=function(F,D,P){if(isNaN(b)||b<=0||isNaN(N)||N<0)return;i.save();const Y=Ht(P.lineWidth,1);if(i.fillStyle=Ht(P.fillStyle,c),i.lineCap=Ht(P.lineCap,"butt"),i.lineDashOffset=Ht(P.lineDashOffset,0),i.lineJoin=Ht(P.lineJoin,"miter"),i.lineWidth=Y,i.strokeStyle=Ht(P.strokeStyle,c),i.setLineDash(Ht(P.lineDash,[])),a.usePointStyle){const V={radius:N*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:Y},I=u.xPlus(F,b/2),R=D+x;b4(i,V,I,R,a.pointStyleWidth&&b)}else{const V=D+Math.max((m-N)/2,0),I=u.leftForLtr(F,b),R=yu(P.borderRadius);i.beginPath(),Object.values(R).some(K=>K!==0)?tm(i,{x:I,y:V,w:b,h:N,radius:R}):i.rect(I,V,b,N),i.fill(),Y!==0&&i.stroke()}i.restore()},w=function(F,D,P){Ch(i,P.text,F,D+k/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},j=this.isHorizontal(),E=this._computeTitleHeight();j?g={x:Hr(s,this.left+f,this.right-r[0]),y:this.top+f+E,line:0}:g={x:this.left+f,y:Hr(s,this.top+E+f,this.bottom-n[0].height),line:0},C4(this.ctx,e.textDirection);const T=k+f;this.legendItems.forEach((F,D)=>{i.strokeStyle=F.fontColor,i.fillStyle=F.fontColor;const P=i.measureText(F.text).width,Y=u.textAlign(F.textAlign||(F.textAlign=a.textAlign)),V=b+x+P;let I=g.x,R=g.y;u.setWidth(this.width),j?D>0&&I+V+f>this.right&&(R=g.y+=T,g.line++,I=g.x=Hr(s,this.left+f,this.right-r[g.line])):D>0&&R+T>this.bottom&&(I=g.x=I+n[g.line].width+f,g.line++,R=g.y=Hr(s,this.top+E+f,this.bottom-n[g.line].height));const K=u.x(I);if(v(K,R,F),I=dC(Y,I+b+x,j?I+V:this.right,e.rtl),w(u.x(I),R,F),j)g.x+=V+f;else if(typeof F.text!="string"){const U=h.lineHeight;g.y+=V4(F,U)+f}else g.y+=T}),P4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=$r(n.font),i=hs(n.padding);if(!n.display)return;const s=vu(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=r.size/2,h=i.top+u;let f,m=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),f=this.top+h,m=Hr(e.align,m,this.right-x);else{const b=this.columnSizes.reduce((N,k)=>Math.max(N,k.height),0);f=h+Hr(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const g=Hr(c,m,m+x);a.textAlign=s.textAlign($2(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Ch(a,n.text,g,f,r)}_computeTitleHeight(){const e=this.options.title,n=$r(e.font),r=hs(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Va(e,this.left,this.right)&&Va(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Va(e,i.left,i.left+i.width)&&Va(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!yA(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=pA(i,r);i&&!s&&jn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&jn(n.onHover,[e,r,this],this)}else r&&jn(n.onClick,[e,r,this],this)}}function mA(t,e,n,r,i){const s=gA(r,t,e,n),a=xA(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function gA(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function xA(t,e,n){let r=t;return typeof e.text!="string"&&(r=V4(e,n)),r}function V4(t,e){const n=t.text?t.text.length:0;return e*n}function yA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Rh={id:"legend",_element:Ab,start(t,e,n){const r=t.legend=new Ab({ctx:t.ctx,options:n,chart:t});as.configure(t,r,n),as.addBox(t,r)},stop(t){as.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;as.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=hs(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $4 extends ia{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=cr(r.text)?r.text.length:1;this._padding=hs(r.padding);const s=i*$r(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,c=a.align;let u=0,h,f,m;return this.isHorizontal()?(f=Hr(c,r,s),m=n+e,h=s-r):(a.position==="left"?(f=r+e,m=Hr(c,i,n),u=Wn*-.5):(f=s-e,m=Hr(c,n,i),u=Wn*.5),h=i-n),{titleX:f,titleY:m,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=$r(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(s);Ch(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:$2(n.align),textBaseline:"middle",translation:[a,c]})}}function vA(t,e){const n=new $4({ctx:t.ctx,options:e,chart:t});as.configure(t,n,e),as.addBox(t,n),t.titleBlock=n}var Fh={id:"title",_element:$4,start(t,e,n){vA(t,n)},stop(t){const e=t.titleBlock;as.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;as.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ed={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((c,u)=>c+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,c;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=S1(e,h);f<i&&(i=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Qs(t,e){return e&&(cr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ho(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bA(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:c}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:c,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Eb(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:c}=e,u=$r(e.bodyFont),h=$r(e.titleFont),f=$r(e.footerFont),m=s.length,x=i.length,g=r.length,b=hs(e.padding);let N=b.height,k=0,v=r.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,m&&(N+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),v){const E=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;N+=g*E+(v-g)*u.lineHeight+(v-1)*e.bodySpacing}x&&(N+=e.footerMarginTop+x*f.lineHeight+(x-1)*e.footerSpacing);let w=0;const j=function(E){k=Math.max(k,n.measureText(E).width+w)};return n.save(),n.font=h.string,un(t.title,j),n.font=u.string,un(t.beforeBody.concat(t.afterBody),j),w=e.displayColors?a+2+e.boxPadding:0,un(r,E=>{un(E.before,j),un(E.lines,j),un(E.after,j)}),w=0,n.font=f.string,un(t.footer,j),n.restore(),k+=b.width,{width:k,height:N}}function _A(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function wA(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function NA(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:c,right:u}}=t;let h="center";return r==="center"?h=i<=(c+u)/2?"left":"right":i<=s/2?h="left":i>=a-s/2&&(h="right"),wA(h,t,e,n)&&(h="center"),h}function Mb(t,e,n){const r=n.yAlign||e.yAlign||_A(t,n);return{xAlign:n.xAlign||e.xAlign||NA(t,e,n,r),yAlign:r}}function jA(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function SA(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Tb(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,h=i+s,{topLeft:f,topRight:m,bottomLeft:x,bottomRight:g}=yu(a);let b=jA(e,c);const N=SA(e,u,h);return u==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(f,x)+i:c==="right"&&(b+=Math.max(m,g)+i),{x:Vr(b,0,r.width-e.width),y:Vr(N,0,r.height-e.height)}}function Kf(t,e,n){const r=hs(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Ob(t){return Qs([],Ho(t))}function kA(t,e,n){return vc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Db(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Y4={beforeTitle:Uo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Uo,beforeBody:Uo,beforeLabel:Uo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return bn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Uo,afterBody:Uo,beforeFooter:Uo,footer:Uo,afterFooter:Uo};function _i(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?Y4[e].call(n,r):i}class M1 extends ia{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new A4(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=kA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=_i(r,"beforeTitle",this,e),s=_i(r,"title",this,e),a=_i(r,"afterTitle",this,e);let c=[];return c=Qs(c,Ho(i)),c=Qs(c,Ho(s)),c=Qs(c,Ho(a)),c}getBeforeBody(e,n){return Ob(_i(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return un(e,s=>{const a={before:[],lines:[],after:[]},c=Db(r,s);Qs(a.before,Ho(_i(c,"beforeLabel",this,s))),Qs(a.lines,_i(c,"label",this,s)),Qs(a.after,Ho(_i(c,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return Ob(_i(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=_i(r,"beforeFooter",this,e),s=_i(r,"footer",this,e),a=_i(r,"afterFooter",this,e);let c=[];return c=Qs(c,Ho(i)),c=Qs(c,Ho(s)),c=Qs(c,Ho(a)),c}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let c=[],u,h;for(u=0,h=n.length;u<h;++u)c.push(bA(this.chart,n[u]));return e.filter&&(c=c.filter((f,m,x)=>e.filter(f,m,x,r))),e.itemSort&&(c=c.sort((f,m)=>e.itemSort(f,m,r))),un(c,f=>{const m=Db(e.callbacks,f);i.push(_i(m,"labelColor",this,f)),s.push(_i(m,"labelPointStyle",this,f)),a.push(_i(m,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const c=Ed[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=Eb(this,r),h=Object.assign({},c,u),f=Mb(this.chart,r,h),m=Tb(r,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=yu(c),{x,y:g}=e,{width:b,height:N}=n;let k,v,w,j,E,T;return s==="center"?(E=g+N/2,i==="left"?(k=x,v=k-a,j=E+a,T=E-a):(k=x+b,v=k+a,j=E-a,T=E+a),w=k):(i==="left"?v=x+Math.max(u,f)+a:i==="right"?v=x+b-Math.max(h,m)-a:v=this.caretX,s==="top"?(j=g,E=j-a,k=v-a,w=v+a):(j=g+N,E=j+a,k=v+a,w=v-a),T=j),{x1:k,x2:v,x3:w,y1:j,y2:E,y3:T}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,c,u;if(s){const h=vu(r.rtl,this.x,this.width);for(e.x=Kf(this,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",a=$r(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:u,boxWidth:h}=s,f=$r(s.bodyFont),m=Kf(this,"left",s),x=i.x(m),g=u<f.lineHeight?(f.lineHeight-u)/2:0,b=n.y+g;if(s.usePointStyle){const N={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=i.leftForLtr(x,h)+h/2,v=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,C1(e,N,k,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,C1(e,N,k,v)}else{e.lineWidth=en(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const N=i.leftForLtr(x,h),k=i.leftForLtr(i.xPlus(x,1),h-2),v=yu(a.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,tm(e,{x:N,y:b,w:h,h:u,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tm(e,{x:k,y:b+1,w:h-2,h:u-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(N,b,h,u),e.strokeRect(N,b,h,u),e.fillStyle=a.backgroundColor,e.fillRect(k,b+1,h-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=r,m=$r(r.bodyFont);let x=m.lineHeight,g=0;const b=vu(r.rtl,this.x,this.width),N=function(P){n.fillText(P,b.x(e.x+g),e.y+x/2),e.y+=x+s},k=b.textAlign(a);let v,w,j,E,T,F,D;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=Kf(this,k,r),n.fillStyle=r.bodyColor,un(this.beforeBody,N),g=c&&k!=="right"?a==="center"?h/2+f:h+2+f:0,E=0,F=i.length;E<F;++E){for(v=i[E],w=this.labelTextColors[E],n.fillStyle=w,un(v.before,N),j=v.lines,c&&j.length&&(this._drawColorBox(n,e,E,b,r),x=Math.max(m.lineHeight,u)),T=0,D=j.length;T<D;++T)N(j[T]),x=m.lineHeight;un(v.after,N)}g=0,x=m.lineHeight,un(this.afterBody,N),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,c;if(s){const u=vu(r.rtl,this.x,this.width);for(e.x=Kf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=$r(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<s;++c)n.fillText(i[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:c,y:u}=e,{width:h,height:f}=r,{topLeft:m,topRight:x,bottomLeft:g,bottomRight:b}=yu(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(c+m,u),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(c+h-x,u),n.quadraticCurveTo(c+h,u,c+h,u+x),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(c+h,u+f-b),n.quadraticCurveTo(c+h,u+f,c+h-b,u+f),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(c+g,u+f),n.quadraticCurveTo(c,u+f,c,u+f-g),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(c,u+m),n.quadraticCurveTo(c,u,c+m,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Ed[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Eb(this,e),u=Object.assign({},a,this._size),h=Mb(n,e,u),f=Tb(e,u,h,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=hs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),C4(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),P4(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),s=!Jp(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),c=this._positionChanged(a,e),u=n||!Jp(a,s)||c;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Ed[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}gt(M1,"positioners",Ed);var Bh={id:"tooltip",_element:M1,positioners:Ed,afterInit(t,e,n){n&&(t.tooltip=new M1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Y4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CA=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function PA(t,e,n,r){const i=t.indexOf(e);if(i===-1)return CA(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const LA=(t,e)=>t===null?null:Vr(Math.round(t),0,e);function Ib(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class pc extends Bu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(bn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:PA(r,e,Ht(n,e),this._addedLabels),LA(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return Ib.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}gt(pc,"id","category"),gt(pc,"defaults",{ticks:{callback:Ib}});function AA(t,e){const n=[],{bounds:i,step:s,min:a,max:c,precision:u,count:h,maxTicks:f,maxDigits:m,includeBounds:x}=t,g=s||1,b=f-1,{min:N,max:k}=e,v=!bn(a),w=!bn(c),j=!bn(h),E=(k-N)/(m+1);let T=Rv((k-N)/b/g)*g,F,D,P,Y;if(T<1e-14&&!v&&!w)return[{value:N},{value:k}];Y=Math.ceil(k/T)-Math.floor(N/T),Y>b&&(T=Rv(Y*T/b/g)*g),bn(u)||(F=Math.pow(10,u),T=Math.ceil(T*F)/F),i==="ticks"?(D=Math.floor(N/T)*T,P=Math.ceil(k/T)*T):(D=N,P=k),v&&w&&s&&nC((c-a)/s,T/1e3)?(Y=Math.round(Math.min((c-a)/T,f)),T=(c-a)/Y,D=a,P=c):j?(D=v?a:D,P=w?c:P,Y=h-1,T=(P-D)/Y):(Y=(P-D)/T,Zd(Y,Math.round(Y),T/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const V=Math.max(Fv(T),Fv(D));F=Math.pow(10,bn(u)?V:u),D=Math.round(D*F)/F,P=Math.round(P*F)/F;let I=0;for(v&&(x&&D!==a?(n.push({value:a}),D<a&&I++,Zd(Math.round((D+I*T)*F)/F,a,Rb(a,E,t))&&I++):D<a&&I++);I<Y;++I){const R=Math.round((D+I*T)*F)/F;if(w&&R>c)break;n.push({value:R})}return w&&x&&P!==c?n.length&&Zd(n[n.length-1].value,c,Rb(c,E,t))?n[n.length-1].value=c:n.push({value:c}):(!w||P===c)&&n.push({value:P}),n}function Rb(t,e,{horizontal:n,minRotation:r}){const i=Ko(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class EA extends Bu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return bn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=n?i:u,c=u=>s=r?s:u;if(e){const u=ho(i),h=ho(s);u<0&&h<0?c(0):u>0&&h>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=AA(i,s);return e.bounds==="ticks"&&rC(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Z2(e,this.chart.options.locale,this.options.ticks.format)}}class mc extends EA{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ds(e)?e:0,this.max=ds(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ko(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}gt(mc,"id","linear"),gt(mc,"defaults",{ticks:{callback:v4.formatters.numeric}});const Mm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ni=Object.keys(Mm);function Fb(t,e){return t-e}function Bb(t,e){if(bn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),ds(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(jh(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function zb(t,e,n,r){const i=Ni.length;for(let s=Ni.indexOf(t);s<i-1;++s){const a=Mm[Ni[s]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=r)return Ni[s]}return Ni[i-1]}function MA(t,e,n,r,i){for(let s=Ni.length-1;s>=Ni.indexOf(n);s--){const a=Ni[s];if(Mm[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Ni[n?Ni.indexOf(n):0]}function TA(t){for(let e=Ni.indexOf(t)+1,n=Ni.length;e<n;++e)if(Mm[Ni[e]].common)return Ni[e]}function Ub(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=V2(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function OA(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let c,u;for(c=s;c<=a;c=+i.add(c,1,r))u=n[c],u>=0&&(e[u].major=!0);return e}function Wb(t,e,n){const r=[],i={},s=e.length;let a,c;for(a=0;a<s;++a)c=e[a],i[c]=a,r.push({value:c,major:!1});return s===0||!n?r:OA(t,r,i,n)}class sm extends Bu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new BP._date(e.adapters.date);i.init(n),Yd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Bb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!c&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=ds(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ds(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,c=lC(i,s,a);return this._unit=n.unit||(r.autoSkip?zb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):MA(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:TA(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),Wb(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Vr(n,0,a),r=Vr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||zb(s.minUnit,n,r,this._getLabelCapacity(n)),c=Ht(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,h=jh(u)||u===!0,f={};let m=n,x,g;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(x=m,g=0;x<r;x=+e.add(x,c,a),g++)Ub(f,x,b);return(x===r||i.bounds==="ticks"||g===1)&&Ub(f,x,b),Object.keys(f).sort(Fb).map(N=>+N)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return jn(a,[e,n,r],this);const c=s.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],m=h&&c[h],x=r[n],g=h&&m&&x&&x.major;return this._adapter.format(e,i||(g?m:f))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ko(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Wb(this,[e],this._majorUnit),i),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Bb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return m4(e.sort(Fb))}}gt(sm,"id","time"),gt(sm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gf(t,e,n){let r=0,i=t.length-1,s,a,c,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Xl(t,"pos",e)),{pos:s,time:c}=t[r],{pos:a,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Xl(t,"time",e)),{time:s,pos:c}=t[r],{time:a,pos:u}=t[i]);const h=a-s;return h?c+(u-c)*(e-s)/h:c}class Hb extends sm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gf(n,this.min),this._tableRange=Gf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,c,u,h,f;for(a=0,c=e.length;a<c;++a)h=e[a],h>=n&&h<=r&&i.push(h);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,c=i.length;a<c;++a)f=i[a+1],u=i[a-1],h=i[a],Math.round((f+u)/2)!==h&&s.push({time:h,pos:a/(c-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gf(this._table,r*this._tableRange+this._minPos,!0)}}gt(Hb,"id","timeseries"),gt(Hb,"defaults",sm.defaults);const Z4="label";function qb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function DA(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function K4(t,e){t.labels=e}function G4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z4;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function IA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z4;const n={labels:[],datasets:[]};return K4(n,t.labels),G4(n,t.datasets,e),n}function RA(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:c,options:u,plugins:h=[],fallbackContent:f,updateMode:m,...x}=t,g=O.useRef(null),b=O.useRef(),N=()=>{g.current&&(b.current=new hl(g.current,{type:a,data:IA(c,s),options:u&&{...u},plugins:h}),qb(e,b.current))},k=()=>{qb(e,null),b.current&&(b.current.destroy(),b.current=null)};return O.useEffect(()=>{!i&&b.current&&u&&DA(b.current,u)},[i,u]),O.useEffect(()=>{!i&&b.current&&K4(b.current.config.data,c.labels)},[i,c.labels]),O.useEffect(()=>{!i&&b.current&&c.datasets&&G4(b.current.config.data,c.datasets,s)},[i,c.datasets]),O.useEffect(()=>{b.current&&(i?(k(),setTimeout(N)):b.current.update(m))},[i,u,c.labels,c.datasets,m]),O.useEffect(()=>{b.current&&(k(),setTimeout(N))},[a]),O.useEffect(()=>(N(),()=>k()),[]),ki.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:r},x),f)}const FA=O.forwardRef(RA);function ix(t,e){return hl.register(e),O.forwardRef((n,r)=>ki.createElement(FA,Object.assign({},n,{ref:r,type:t})))}const Tm=ix("line",yp),X4=ix("bar",xp),J4=ix("pie",P1);hl.register(pc,mc,Xd,Fh,Bh,Rh);const BA="AgriTayoAPIKey2024",zA=()=>{const[t,e]=O.useState("12 Months"),[n,r]=O.useState(!1),[i,s]=O.useState(Array(12).fill(0)),[a,c]=O.useState(0),u=O.useCallback(async()=>{try{const m=await fetch("/api/orders",{headers:{"x-api-key":BA}});if(!m.ok)throw new Error("Network response was not ok");const x=await m.json();let g=0;const b=new Date,N=x.filter(v=>{const w=new Date(v.order_date);switch(t){case"7 Days":const j=new Date(b);return j.setDate(b.getDate()-7),w>=j;case"14 Days":const E=new Date(b);return E.setDate(b.getDate()-14),w>=E;case"6 Months":const T=new Date(b);return T.setMonth(b.getMonth()-6),w>=T;case"12 Months":const F=new Date(b);return F.setMonth(b.getMonth()-12),w>=F;case"Yearly":return w.getFullYear()===b.getFullYear();default:return!1}});let k;t==="7 Days"?k=Array(7).fill(0):t==="14 Days"?k=Array(14).fill(0):t==="6 Months"?k=Array(6).fill(0):k=Array(12).fill(0),N.forEach(v=>{if(v.status_id===7||v.status_id===8){const w=new Date(v.order_date),j=parseFloat(v.total_price);if(g+=j,t==="7 Days"){const E=Math.floor((b-w)/864e5);E<7&&(k[6-E]+=j)}else if(t==="14 Days"){const E=Math.floor((b-w)/864e5);E<14&&(k[13-E]+=j)}else if(t==="6 Months"){const E=(b.getMonth()-w.getMonth()+12)%12;E<6&&(k[5-E]+=j)}else if(t==="12 Months"){const E=(b.getMonth()-w.getMonth()+12)%12;E<12&&(k[11-E]+=j)}else{const E=w.getMonth();k[E]+=j}}}),s(k),c(g)}catch(m){console.error("Error fetching orders:",m)}},[t]);O.useEffect(()=>{u()},[u]),O.useEffect(()=>{u();const m=setInterval(()=>{u()},1e3);return()=>{clearInterval(m)}},[u]);const h=()=>{const m=new Date,x=[];if(t==="7 Days"){const g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let b=6;b>=0;b--){const N=(m.getDay()-b+7)%7;x.push(g[N])}return x}else if(t==="14 Days"){for(let g=13;g>=0;g--){const b=new Date;b.setDate(m.getDate()-g),x.push(b.toDateString().slice(0,3))}return x}else if(t==="6 Months"){for(let g=5;g>=0;g--){const b=(m.getMonth()-g+12)%12;x.push(new Date(2020,b,1).toLocaleString("default",{month:"long"}))}return x}else if(t==="12 Months"){const g=m.getMonth();for(let b=1;b<=12;b++){const N=(g+b)%12;x.push(new Date(2020,N,1).toLocaleString("default",{month:"long"}))}return x}else if(t==="Yearly"){const g=m.getFullYear();return Array.from({length:5},(b,N)=>(g-N).toString()).reverse()}},f=()=>{const m=h(),x={labels:m,datasets:[{label:"Total  Amount Sold Through AgriTayo",data:i.slice(0,m.length),backgroundColor:"rgba(0, 128, 0, 0.5)"}]},g={responsive:!0,plugins:{tooltip:{callbacks:{label:function(b){return`${b.dataset.label}: ${b.raw}`}}}},scales:{y:{beginAtZero:!0}}};return o.jsx(X4,{data:x,options:g})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Sales Analytics Summary"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Track your sales performance and trends"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-4",children:"Total Sales (Completed/Rated Orders)"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["",i.reduce((m,x)=>m+x,0).toFixed(2)]})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-4",children:"Total Sales (All Orders)"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["",a.toFixed(2)]})]})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Sales Trends"}),o.jsxs("p",{className:"text-gray-600",children:["Current Range: ",o.jsx("span",{className:"font-semibold text-green-600",children:t})]})]}),o.jsx("button",{onClick:()=>r(!0),className:`mt-4 sm:mt-0 bg-green-600 text-white px-4 py-2 rounded-xl font-semibold
                hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Change Time Range"})]}),o.jsx("div",{className:"bg-white rounded-xl p-4",children:f()})]}),o.jsx(ra,{isOpen:n,onClose:()=>r(!1),children:o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Select Time Range"}),o.jsx("div",{className:"space-y-3",children:["7 Days","14 Days","6 Months","12 Months","Yearly"].map(m=>o.jsx("button",{className:`w-full p-3 rounded-xl font-semibold transition-all duration-200
                    ${t===m?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{e(m),r(!1)},children:m},m))}),o.jsx("button",{onClick:()=>r(!1),className:`w-full mt-6 p-3 bg-gray-100 text-gray-700 rounded-xl font-semibold
                hover:bg-gray-200 transition-all duration-200`,children:"Cancel"})]})})]})})},UA="AgriTayoAPIKey2024";hl.register(pc,mc,Xd,du,Fh,Bh,Rh);const WA=()=>{const[t,e]=O.useState("12 Months"),[n,r]=O.useState(!1),[i,s]=O.useState({dates:[],buyers:[],sellers:[]}),[a,c]=O.useState(0),[u,h]=O.useState(0),f=O.useCallback(async b=>{try{const N=await fetch(`/api/users?filter=${b}`,{headers:{"x-api-key":UA}});if(!N.ok)throw new Error("Network response was not ok");const k=await N.json(),v=[],w=[],j=[];let E=0,T=0;for(k.forEach(F=>{const D=new Date(F.created_at).toISOString().split("T")[0],P=v.indexOf(D);P===-1?(v.push(D),w.push(F.user_type_id===3?1:0),j.push(F.user_type_id===2?1:0)):F.user_type_id===3?w[P]+=1:F.user_type_id===2&&(j[P]+=1),F.user_type_id===3?E+=1:F.user_type_id===2&&(T+=1)});w.length<v.length;)w.push(0);for(;j.length<v.length;)j.push(0);c(E),h(T),s({dates:v,buyers:w,sellers:j})}catch(N){console.error("Error fetching new users data:",N)}},[]);O.useEffect(()=>{f(t);const b=setInterval(()=>{f(t)},1e3);return()=>clearInterval(b)},[t,f]);const m=()=>{const b=new Date,N=[];if(t==="7 Days"){const k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let v=6;v>=0;v--){const w=(b.getDay()-v+7)%7;N.push(k[w])}return N}else if(t==="14 Days"){for(let k=13;k>=0;k--){const v=new Date;v.setDate(b.getDate()-k),N.push(v.toDateString().slice(0,3))}return N}else if(t==="6 Months"){for(let k=5;k>=0;k--){const v=(b.getMonth()-k+12)%12;N.push(new Date(2020,v,1).toLocaleString("default",{month:"short"}))}return N}else if(t==="12 Months"){const k=b.getMonth();for(let v=1;v<=12;v++){const w=(k+v)%12;N.push(new Date(2020,w,1).toLocaleString("default",{month:"short"}))}return N}else if(t==="Yearly"){const k=b.getFullYear();return Array.from({length:5},(v,w)=>(k-w).toString()).reverse()}},x=()=>{const b=m(),N={labels:b,datasets:[{label:"Added Buyers",data:i.buyers.slice(0,b.length),backgroundColor:"rgba(0, 128, 0, 0.7)",barThickness:20,categoryPercentage:.8,barPercentage:1},{label:"Added Sellers",data:i.sellers.slice(0,b.length),backgroundColor:"rgba(25, 118, 210, 0.7)",barThickness:20,categoryPercentage:.8,barPercentage:1}]},k={responsive:!0,plugins:{tooltip:{callbacks:{label:function(w){const j=w.dataset.label||"",E=w.raw||0;return`${j}: ${E} Users`}}},legend:{display:!0,position:"top"}},scales:{x:{stacked:!1,barThickness:40,categoryPercentage:.8,barPercentage:.9},y:{stacked:!1,beginAtZero:!0}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:10,padding:10,font:{size:window.innerWidth<768?10:12}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:window.innerWidth<768?8:10}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:window.innerWidth<768?8:10}}}}};return o.jsx(X4,{data:N,options:{...k,...v,maintainAspectRatio:!1}})},g=()=>{const b={labels:["Buyers","Sellers"],datasets:[{data:[a,u],backgroundColor:["rgba(0, 128, 0, 0.7)","rgba(25, 118, 210, 0.7)"],borderColor:["rgba(0, 128, 0, 1)","rgba(25, 118, 210, 1)"],borderWidth:1}]},N={responsive:!0,plugins:{tooltip:{callbacks:{label:function(v){const w=v.label||"",j=v.raw||0;return`${w}: ${j} Users`}}},legend:{display:!0,position:"top"}}},k={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"top",labels:{boxWidth:10,padding:10,font:{size:window.innerWidth<768?10:12}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:window.innerWidth<768?8:10}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:window.innerWidth<768?8:10}}}}};return o.jsx(J4,{data:b,options:{...N,...k,maintainAspectRatio:!0}})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"New Users Analytics"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Track user growth and distribution"})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"New Buyers This Week",value:i.dates.length>0?i.buyers[i.buyers.length-1]:0,color:"green"},{title:"New Sellers This Week",value:i.dates.length>0?i.sellers[i.sellers.length-1]:0,color:"blue"},{title:"Total Buyers",value:a,color:"green"},{title:"Total Sellers",value:u,color:"blue"}].map((b,N)=>o.jsxs("div",{className:`bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 transform 
                hover:scale-[1.02] transition-all duration-300`,children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-3 text-center",children:b.title}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 text-center",children:b.value})]},N))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"User Growth Trends"}),o.jsxs("p",{className:"text-gray-600",children:["Current Range: ",o.jsx("span",{className:"font-semibold text-green-600",children:t})]})]}),o.jsx("button",{onClick:()=>r(!0),className:`mt-4 sm:mt-0 bg-green-600 text-white px-4 py-2 rounded-xl font-semibold
                    hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                    transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Change Time Range"})]}),o.jsx("div",{className:"h-[400px] md:h-[500px]",children:x()})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"User Distribution"}),o.jsx("div",{className:"aspect-square",children:g()})]})})]}),o.jsx(ra,{isOpen:n,onClose:()=>r(!1),children:o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Select Time Range"}),o.jsx("div",{className:"space-y-3",children:["7 Days","14 Days","6 Months","12 Months","Yearly"].map(b=>o.jsx("button",{className:`w-full p-3 rounded-xl font-semibold transition-all duration-200
                    ${t===b?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{e(b),r(!1)},children:b},b))}),o.jsx("button",{onClick:()=>r(!1),className:`w-full mt-6 p-3 bg-gray-100 text-gray-700 rounded-xl font-semibold
                hover:bg-gray-200 transition-all duration-200`,children:"Cancel"})]})})]})})};hl.register(pc,mc,bu,Jl,du,Fh,Bh,Rh);const HA="AgriTayoAPIKey2024",qA=()=>{var x,g,b,N,k,v,w,j,E;const[t,e]=O.useState("12 Months"),[n,r]=O.useState(!1),[i,s]=O.useState({}),a=O.useMemo(()=>({1:"ToConfirm",2:"Preparing",3:"Shipping",4:"Pickup",5:"ForReturn",6:"Returned",7:"ToRate",8:"Completed",9:"Rejected"}),[]),c=O.useCallback(async()=>{try{const T=await fetch("/api/orders",{headers:{"x-api-key":HA}});if(!T.ok)throw new Error("Network response was not ok");const F=await T.json(),D={ToConfirm:[],Preparing:[],Shipping:[],Pickup:[],ForReturn:[],Returned:[],ToRate:[],Completed:[],Rejected:[]};F.forEach(P=>{const Y=a[P.status_id];Y in D&&D[Y].push(P)}),s(D),console.log("counts :",D)}catch(T){console.error("Error fetching orders:",T)}},[a]);O.useEffect(()=>{c()},[c]),O.useEffect(()=>{c();const T=setInterval(()=>{c()},1e3);return()=>{clearInterval(T)}},[c]);const u=()=>{const T=new Date,F=[];if(t==="7 Days")for(let D=6;D>=0;D--){const P=new Date;P.setDate(T.getDate()-D),F.push(P.toDateString().slice(0,3))}else if(t==="14 Days")for(let D=13;D>=0;D--){const P=new Date;P.setDate(T.getDate()-D),F.push(P.toDateString().slice(0,3))}else if(t==="6 Months")for(let D=5;D>=0;D--){const P=(T.getMonth()-D+12)%12;F.push(new Date(2020,P,1).toLocaleString("default",{month:"long"}))}else if(t==="12 Months")for(let D=11;D>=0;D--){const P=(T.getMonth()-D+12)%12;F.push(new Date(2020,P,1).toLocaleString("default",{month:"long"}))}else if(t==="Yearly"){const D=T.getFullYear();return Array.from({length:5},(P,Y)=>(D-Y).toString()).reverse()}return F},h=T=>{var V;const F=((V=i[T])==null?void 0:V.filter(I=>{const R=new Date(I.order_date),K=new Date;return t==="7 Days"?(K-R)/864e5<=7:t==="14 Days"?(K-R)/864e5<=14:t==="6 Months"?(K-R)/864e5<=180:t==="12 Months"?(K-R)/864e5<=365:t==="Yearly"?R.getFullYear()===K.getFullYear():!1}))||[],D=u(),P={labels:D,datasets:[{label:T,data:D.map(I=>F.findIndex(K=>{const U=new Date(K.order_date);return t==="7 Days"||t==="14 Days"?U.toDateString().slice(0,3)===I:t==="6 Months"||t==="12 Months"?new Date(2020,U.getMonth(),1).toLocaleString("default",{month:"long"})===I:t==="Yearly"?U.getFullYear().toString()===I:!1})!==-1?1:0),backgroundColor:f(T),borderColor:f(T),borderWidth:2,fill:!1}]},Y={responsive:!0,scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Count"},beginAtZero:!0}}};return o.jsx(Tm,{data:P,options:Y})},f=T=>({ToConfirm:"rgba(255, 159, 64, 0.7)",Preparing:"rgba(0, 123, 255, 0.7)",Shipping:"rgba(153, 102, 255, 0.7)",Pickup:"rgba(75, 192, 192, 0.7)",ForReturn:"rgba(255, 128, 128, 0.7)",Returned:"rgba(178, 34, 34, 0.7)",ToRate:"rgba(144, 238, 144, 0.7)",Completed:"rgba(0, 100, 0, 0.7)",Rejected:"rgba(139, 0, 0, 0.7)"})[T]||"rgba(0, 0, 0, 0.7)",m=()=>{if(Object.keys(i).length===0)return o.jsx("p",{children:"No data available for the chart."});const T={labels:Object.keys(i),datasets:[{label:"Order Status Distribution",data:Object.values(i).map(D=>D.length),backgroundColor:["rgba(255, 159, 64, 0.7)","rgba(0, 123, 255, 0.7)","rgba(153, 102, 255, 0.7)","rgba(75, 192, 192, 0.7)","rgba(255, 128, 128, 0.7)","rgba(178, 34, 34, 0.7)","rgba(144, 238, 144, 0.7)","rgba(0, 100, 0, 0.7)","rgba(139, 0, 0, 0.7)"]}]},F={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(D){const P=D.raw;return`${D.label}: ${P} orders`}}}}};return o.jsx(J4,{data:T,options:F})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Orders Analytics"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Track order status and trends"})]})})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-9 gap-4 mb-8",children:[{title:"To Confirm Orders",count:((x=i.ToConfirm)==null?void 0:x.length)||0},{title:"Preparing Orders",count:((g=i.Preparing)==null?void 0:g.length)||0},{title:"Shipping Orders",count:((b=i.Shipping)==null?void 0:b.length)||0},{title:"Pickup Orders",count:((N=i.Pickup)==null?void 0:N.length)||0},{title:"For Return Orders",count:((k=i.ForReturn)==null?void 0:k.length)||0},{title:"Returned Orders",count:((v=i.Returned)==null?void 0:v.length)||0},{title:"To Rate Orders",count:((w=i.ToRate)==null?void 0:w.length)||0},{title:"Completed Orders",count:((j=i.Completed)==null?void 0:j.length)||0},{title:"Rejected Orders",count:((E=i.Rejected)==null?void 0:E.length)||0}].map((T,F)=>o.jsxs("div",{className:`bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 transform 
                hover:scale-[1.02] transition-all duration-300`,children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-3 text-center",children:T.title}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 text-center",children:T.count})]},F))}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Order Trends"}),o.jsxs("p",{className:"text-gray-600",children:["Current Range: ",o.jsx("span",{className:"font-semibold text-green-600",children:t})]})]}),o.jsx("button",{onClick:()=>r(!0),className:`mt-4 sm:mt-0 bg-green-600 text-white px-4 py-2 rounded-xl font-semibold
                hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Change Time Range"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["ToConfirm","Preparing","Shipping","Pickup","ForReturn","Returned","ToRate","Completed","Rejected"].map(T=>o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:[T," Orders"]}),h(T)]},T))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 sticky top-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"Order Distribution"}),o.jsx("div",{className:"aspect-square",children:m()})]})})]}),o.jsx(ra,{isOpen:n,onClose:()=>r(!1),children:o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Select Time Range"}),o.jsx("div",{className:"space-y-3",children:["7 Days","14 Days","6 Months","12 Months","Yearly"].map(T=>o.jsx("button",{className:`w-full p-3 rounded-xl font-semibold transition-all duration-200
                    ${t===T?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{e(T),r(!1)},children:T},T))}),o.jsx("button",{onClick:()=>r(!1),className:`w-full mt-6 p-3 bg-gray-100 text-gray-700 rounded-xl font-semibold
                hover:bg-gray-200 transition-all duration-200`,children:"Cancel"})]})})]})})};hl.register(pc,mc,bu,Jl,Fh,Bh,Rh);const VA=()=>{const[t,e]=O.useState("12 Months"),[n,r]=O.useState(!1),i=a=>{const c={"7 Days":{dates:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],averagePrice:[65,67,68,70,72,73,75],highestPrice:[70,72,74,76,78,80,82],lowestPrice:[60,63,64,65,66,68,70]},"14 Days":{dates:["Week 1","Week 2"],averagePrice:[65,70],highestPrice:[72,78],lowestPrice:[63,66]},"6 Months":{dates:["Jan","Feb","Mar","Apr","May","Jun"],averagePrice:[60,62,65,68,72,75],highestPrice:[65,68,72,74,78,80],lowestPrice:[55,58,60,63,66,70]},"12 Months":{dates:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],averagePrice:[55,58,60,62,65,67,70,72,73,75,78,80],highestPrice:[60,63,65,67,70,72,74,76,78,80,82,85],lowestPrice:[50,53,55,58,60,62,64,66,68,70,72,75]},Yearly:{dates:["2020","2021","2022","2023"],averagePrice:[50,55,60,65],highestPrice:[60,65,70,75],lowestPrice:[40,45,50,55]}};return c[a]||c["12 Months"]},s=()=>{const a=i(t),c={labels:a.dates,datasets:[{label:"Average Price",data:a.averagePrice,borderColor:"rgba(75, 192, 192, 0.5)",fill:!1},{label:"Highest Price",data:a.highestPrice,borderColor:"rgba(255, 69, 58, 0.5)",fill:!1},{label:"Lowest Price",data:a.lowestPrice,borderColor:"rgba(25, 118, 210, 0.5)",fill:!1}]},u={responsive:!0,tooltips:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(h,f){return`${f.datasets[h.datasetIndex].label}: ${h.yLabel}/kg`}}},scales:{y:{beginAtZero:!0}}};return o.jsx(Tm,{data:c,options:u})};return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[o.jsx("h5",{className:"text-xl font-bold text-center text-green-700 mb-4",children:"INDIVIDUAL CROP PRICE CHANGES"}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Current Filter:"," ",o.jsx("span",{className:"text-green-700",children:t})]}),o.jsx("button",{onClick:()=>r(!0),className:"bg-green-500 text-white p-2 rounded-lg flex items-center justify-center mb-4",children:o.jsx("span",{children:"Select Filter"})}),o.jsxs(ra,{isOpen:n,onClose:()=>r(!1),children:[o.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"Select a filter"}),["7 Days","14 Days","6 Months","12 Months","Yearly"].map(a=>o.jsx("button",{className:`p-2 rounded-lg mb-2 w-full ${t===a?"bg-green-500 text-white":"bg-gray-200 text-green-700"}`,onClick:()=>{e(a),r(!1)},children:a},a)),o.jsx("button",{onClick:()=>r(!1),className:"bg-gray-300 text-green-700 p-2 rounded-lg w-full",children:"Close"})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Average Price:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).averagePrice.slice(-1)[0],"/kg"]})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Highest Price:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).highestPrice.slice(-1)[0],"/kg"]})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Lowest Price:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).lowestPrice.slice(-1)[0],"/kg"]})]}),s()]})})};hl.register(pc,mc,bu,Jl,Fh,Bh,Rh);const $A=()=>{const[t,e]=O.useState("12 Months"),[n,r]=O.useState(!1),i=a=>{const c={"7 Days":{dates:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],profit:[2e3,2200,2100,2300,2400,2500,2700],grossRevenue:[5e3,5200,5100,5300,5500,5700,6e3],expenses:[3e3,3e3,3e3,3e3,3100,3200,3300]},"14 Days":{dates:["Week 1","Week 2"],profit:[15e3,16e3],grossRevenue:[35e3,37e3],expenses:[2e4,21e3]},"6 Months":{dates:["Jan","Feb","Mar","Apr","May","Jun"],profit:[12e3,13e3,12500,14e3,15e3,16e3],grossRevenue:[3e4,32e3,31e3,34e3,35e3,37e3],expenses:[18e3,19e3,18500,2e4,2e4,21e3]},"12 Months":{dates:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],profit:[1e4,11e3,10500,12e3,13e3,14e3,13500,14500,15e3,16e3,17e3,18e3],grossRevenue:[25e3,27e3,26e3,28e3,3e4,32e3,31e3,33e3,35e3,37e3,39e3,4e4],expenses:[15e3,16e3,15500,16e3,17e3,18e3,17500,18500,2e4,21e3,22e3,22e3]},Yearly:{dates:["2020","2021","2022","2023"],profit:[5e4,52e3,51e3,53e3],grossRevenue:[12e4,13e4,125e3,14e4],expenses:[7e4,78e3,74e3,85e3]}};return c[a]||c["12 Months"]},s=()=>{const a=i(t),c={labels:a.dates,datasets:[{label:"Profit",data:a.profit,borderColor:"rgba(75, 192, 192, 0.5)",fill:!1},{label:"Gross Revenue",data:a.grossRevenue,borderColor:"rgba(255, 205, 86, 0.5)",fill:!1},{label:"Expenses",data:a.expenses,borderColor:"rgba(255, 99, 132, 0.5)",fill:!1}]},u={responsive:!0,tooltips:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(h,f){return`${f.datasets[h.datasetIndex].label}: ${h.yLabel}`}}},scales:{y:{beginAtZero:!0}}};return o.jsx(Tm,{data:c,options:u})};return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[o.jsx("h5",{className:"text-xl font-bold text-center text-green-700 mb-4",children:"PROFIT ANALYTICS"}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Current Filter:"," ",o.jsx("span",{className:"text-green-700",children:t})]}),o.jsx("button",{onClick:()=>r(!0),className:"bg-green-500 text-white p-2 rounded-lg flex items-center justify-center mb-4",children:o.jsx("span",{children:"Select Filter"})}),o.jsxs(ra,{isOpen:n,onClose:()=>r(!1),children:[o.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"Select a filter"}),["7 Days","14 Days","6 Months","12 Months","Yearly"].map(a=>o.jsx("button",{className:`p-2 rounded-lg mb-2 w-full ${t===a?"bg-green-500 text-white":"bg-gray-200 text-green-700"}`,onClick:()=>{e(a),r(!1)},children:a},a)),o.jsx("button",{onClick:()=>r(!1),className:"bg-gray-300 text-green-700 p-2 rounded-lg w-full",children:"Close"})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Profit:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).profit.slice(-1)[0]]})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Gross Revenue:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).grossRevenue.slice(-1)[0]]})]}),o.jsxs("p",{className:"text-sm font-bold text-green-500 mb-2",children:["Latest Expenses:"," ",o.jsxs("span",{className:"text-green-700",children:["",i(t).expenses.slice(-1)[0]]})]}),s()]})})},bd="AgriTayoAPIKey2024";function YA(){const[t,e]=O.useState([]),[n,r]=O.useState({crop_sub_category_id:"",crop_sub_category_name:"",crop_sub_category_description:"",crop_category_id:"",image:null}),[i,s]=O.useState([]),[a,c]=O.useState(!1),[u,h]=O.useState(""),[f,m]=O.useState(""),[x,g]=O.useState(!1),[b,N]=O.useState(!1),[k,v]=O.useState(!1),[w,j]=O.useState(null);O.useEffect(()=>{E(),T()},[]);const E=async()=>{try{const H=await(await fetch("/api/crop_sub_categories",{headers:{"x-api-key":bd}})).json();e(H)}catch(Z){console.error("Error fetching crop sub-categories:",Z)}},T=async()=>{try{const H=await(await fetch("/api/crop_categories",{headers:{"x-api-key":bd}})).json();s(H)}catch(Z){console.error("Error fetching crop categories:",Z)}},F=Z=>{const{name:H,value:q}=Z.target;r({...n,[H]:q})},D=Z=>{const H=Z.target.files[0];r({...n,image:H})},P=async Z=>{Z.preventDefault();const H=new FormData;H.append("crop_sub_category_name",n.crop_sub_category_name),H.append("crop_sub_category_description",n.crop_sub_category_description),H.append("crop_category_id",n.crop_category_id),n.image&&H.append("image",n.image);try{if(!(await fetch("/api/crop_sub_categories",{method:"POST",headers:{"x-api-key":bd},body:H})).ok)throw new Error("Network response was not ok");E(),V(),g(!1)}catch(q){console.error("Error submitting form:",q)}},Y=async Z=>{Z.preventDefault();const H=new FormData;H.append("crop_sub_category_name",n.crop_sub_category_name),H.append("crop_sub_category_description",n.crop_sub_category_description),H.append("crop_category_id",n.crop_category_id),n.image&&H.append("image",n.image);try{if(!(await fetch(`/api/crop_sub_categories/${n.crop_sub_category_id}`,{method:"PUT",headers:{"x-api-key":bd},body:H})).ok)throw new Error("Network response was not ok");E(),V(),N(!1)}catch(q){console.error("Error submitting form:",q)}},V=()=>{r({crop_sub_category_id:"",crop_sub_category_name:"",crop_sub_category_description:"",crop_category_id:"",image:null})},I=Z=>{r(Z),N(!0),c(!0)},R=Z=>{j(Z),v(!0)},K=async()=>{if(w)try{if(!(await fetch(`/api/crop_sub_categories/${w}`,{method:"DELETE",headers:{"x-api-key":bd}})).ok)throw new Error("Network response was not ok");E()}catch(Z){console.error("Error deleting crop sub-category:",Z)}finally{v(!1),j(null)}},U=t.filter(Z=>{const H=Z.crop_sub_category_name.toLowerCase().includes(u.toLowerCase()),q=f?Z.crop_category_id===parseInt(f):!0;return H&&q}),le=()=>{const Z=new vt("landscape"),H=50,q=50,ee=5,te=5,B=(Z.internal.pageSize.getWidth()-H)/2;Z.addImage(go,"PNG",B,10,H,q);const G=10+q+te;Z.text("Crop Sub-Category List",B+H/2,G,{align:"center"});const $=G+ee+5,ne=U.map(he=>{var pe;return[he.crop_sub_category_id,he.crop_sub_category_name,he.crop_sub_category_description,((pe=i.find(_e=>_e.crop_category_id===he.crop_category_id))==null?void 0:pe.crop_category_name)||"N/A",he.crop_sub_category_image_url]});Z.autoTable({startY:$,head:[["ID","Name","Description","Category","Image URL"]],body:ne,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),Z.save("crop_sub_categories_list.pdf")},Q=()=>{V(),c(!1),g(!0)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Product Subcategories"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Browse through our selection of product varieties"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[U.length," Categories"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[o.jsx("button",{onClick:Q,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
              hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Add Subcategory"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[o.jsxs("select",{value:f,onChange:Z=>m(Z.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`,children:[o.jsx("option",{value:"",children:"All Categories"}),i.map(Z=>o.jsx("option",{value:Z.crop_category_id,children:Z.crop_category_name},Z.crop_category_id))]}),o.jsx("input",{type:"text",placeholder:"Search subcategories...",value:u,onChange:Z=>h(Z.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-96
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`}),o.jsx("button",{onClick:le,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Export to PDF"})]})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Name","Description","Category","Image","Actions"].map(Z=>o.jsx("th",{className:"px-6 py-4 text-left",children:Z},Z))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:U.map(Z=>{var H;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4",children:Z.crop_sub_category_id}),o.jsx("td",{className:"px-6 py-4 font-medium",children:Z.crop_sub_category_name}),o.jsx("td",{className:"px-6 py-4",children:Z.crop_sub_category_description}),o.jsx("td",{className:"px-6 py-4",children:((H=i.find(q=>q.crop_category_id===Z.crop_category_id))==null?void 0:H.crop_category_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:Z.crop_sub_category_image_url&&o.jsx("img",{src:Z.crop_sub_category_image_url,alt:Z.crop_sub_category_name,className:"w-20 h-20 object-cover rounded-lg"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>I(Z),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                          transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>R(Z.crop_sub_category_id),className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                          transition-colors duration-200`,children:"Delete"})]})})]},Z.crop_sub_category_id)})})]})}),(x||b)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:b?"Edit Subcategory":"Add Subcategory"}),o.jsxs("form",{onSubmit:b?Y:P,className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginTop:"20px",marginBottom:"5px"},children:"Subcategory Name"}),o.jsx("input",{type:"text",name:"crop_sub_category_name",value:n.crop_sub_category_name,onChange:F,className:"p-2 border rounded w-full",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"5px"},children:"Description"}),o.jsx("textarea",{name:"crop_sub_category_description",value:n.crop_sub_category_description,onChange:F,className:"p-2 border rounded w-full",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"5px"},children:"Image"}),o.jsx("input",{type:"file",name:"image",onChange:D,className:"p-2 border rounded w-full",accept:"image/*"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-l font-bold mb-4",style:{marginBottom:"5px"},children:"Category"}),o.jsxs("select",{name:"crop_category_id",value:n.crop_category_id,onChange:F,className:"p-2 border rounded w-full",required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),i.map(Z=>o.jsx("option",{value:Z.crop_category_id,children:Z.crop_category_name},Z.crop_category_id))]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{g(!1),N(!1)},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200`,children:b?"Save":"Create"})]})]})]})})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this subcategory?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>v(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:K,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Delete"})]})]})})]})})}function Vb(){return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Seller Dashboard"}),o.jsx("h3",{children:"Hello"})]})}function $b(){return o.jsxs("div",{style:{padding:"50px"},children:[o.jsx("h1",{children:"Buyer Dashboard"}),o.jsx("h3",{children:"Hello"})]})}const $c="AgriTayoAPIKey2024";function ZA(){const[t,e]=O.useState([]),[n,r]=O.useState({crop_variety_id:"",crop_variety_name:"",crop_variety_description:"",crop_category_id:"",crop_sub_category_id:"",image:null}),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState(!1),[f,m]=O.useState(""),[x,g]=O.useState(""),[b,N]=O.useState(""),[k,v]=O.useState(!1),[w,j]=O.useState(!1),[E,T]=O.useState(!1),[F,D]=O.useState(null);O.useEffect(()=>{P(),Y(),V(),k&&r({crop_variety_name:"",crop_variety_description:"",crop_category_id:"",crop_sub_category_id:"",image:null})},[k]);const P=async()=>{try{const M=await(await fetch("/api/crop_varieties",{headers:{"x-api-key":$c}})).json();e(M)}catch(te){console.error("Error fetching crop varieties:",te)}},Y=async()=>{try{const M=await(await fetch("/api/crop_categories",{headers:{"x-api-key":$c}})).json();s(M)}catch(te){console.error("Error fetching crop categories:",te)}},V=async()=>{try{const M=await(await fetch("/api/crop_sub_categories",{headers:{"x-api-key":$c}})).json();c(M)}catch(te){console.error("Error fetching crop sub-categories:",te)}},I=te=>{const{name:M,value:B}=te.target;r({...n,[M]:B})},R=te=>{const M=te.target.files[0];r({...n,image:M})},K=async te=>{te.preventDefault();const M=new FormData;M.append("crop_variety_name",n.crop_variety_name),M.append("crop_variety_description",n.crop_variety_description),M.append("crop_category_id",n.crop_category_id),M.append("crop_sub_category_id",n.crop_sub_category_id),n.image&&M.append("image",n.image);try{if(!(await fetch("/api/crop_varieties",{method:"POST",headers:{"x-api-key":$c},body:M})).ok)throw new Error("Network response was not ok");P(),le(),v(!1)}catch(B){console.error("Error submitting form:",B)}},U=async te=>{te.preventDefault();const M=new FormData;M.append("crop_variety_name",n.crop_variety_name),M.append("crop_variety_description",n.crop_variety_description),M.append("crop_category_id",n.crop_category_id),M.append("crop_sub_category_id",n.crop_sub_category_id),n.image&&M.append("image",n.image);try{if(!(await fetch(`/api/crop_varieties/${n.crop_variety_id}`,{method:"PUT",headers:{"x-api-key":$c},body:M})).ok)throw new Error("Network response was not ok");P(),le(),j(!1)}catch(B){console.error("Error submitting form:",B)}},le=()=>{r({crop_variety_id:"",crop_variety_name:"",crop_variety_description:"",crop_category_id:"",crop_sub_category_id:"",image:null})},Q=te=>{r(te),j(!0),h(!0)},Z=te=>{D(te),T(!0)},H=async()=>{if(F)try{if(!(await fetch(`/api/crop_varieties/${F}`,{method:"DELETE",headers:{"x-api-key":$c}})).ok)throw new Error("Network response was not ok");P()}catch(te){console.error("Error deleting crop variety:",te)}finally{T(!1),D(null)}},q=t.filter(te=>{const M=te.crop_variety_name.toLowerCase().includes(f.toLowerCase()),B=x?te.crop_category_id===parseInt(x):!0,G=b?te.crop_sub_category_id===parseInt(b):!0;return M&&B&&G}),ee=()=>{const te=new vt("landscape"),M=50,B=50,G=5,$=5,he=(te.internal.pageSize.getWidth()-M)/2;te.addImage(go,"PNG",he,10,M,B);const pe=10+B+$;te.text("Crop Variety List",he+M/2,pe,{align:"center"});const _e=pe+G+5,Me=q.map(De=>{var We,qe;return[De.crop_variety_id,De.crop_variety_name,De.crop_variety_description,((We=i.find(mt=>mt.crop_category_id===De.crop_category_id))==null?void 0:We.crop_category_name)||"N/A",((qe=a.find(mt=>mt.crop_sub_category_id===De.crop_sub_category_id))==null?void 0:qe.crop_sub_category_name)||"N/A",De.crop_variety_image_url]});te.autoTable({startY:_e,head:[["ID","Name","Description","Category","Sub-Category","Image URL"]],body:Me,headStyles:{fillColor:[0,128,0],halign:"center",valign:"middle"}}),te.save("crop_varieties_list.pdf")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Crop Varieties Management"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Browse through our selection of crop varieties"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[q.length," Varieties"]})})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[o.jsx("button",{onClick:()=>v(!0),className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
              hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl w-full sm:w-auto`,children:"+ Variety"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Search Varieties",value:f,onChange:te=>m(te.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2 w-full sm:w-96
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`}),o.jsxs("select",{value:x,onChange:te=>g(te.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`,children:[o.jsx("option",{value:"",children:"Filter by Category"}),i.map(te=>o.jsx("option",{value:te.crop_category_id,children:te.crop_category_name},te.crop_category_id))]}),o.jsxs("select",{value:b,onChange:te=>N(te.target.value),className:`bg-white/90 backdrop-blur-sm border-0 rounded-xl p-2
                focus:ring-2 focus:ring-white/50 transition-all duration-200 shadow-lg`,children:[o.jsx("option",{value:"",children:"Filter by Sub-Category"}),a.map(te=>o.jsx("option",{value:te.crop_sub_category_id,children:te.crop_sub_category_name},te.crop_sub_category_id))]}),o.jsx("button",{onClick:ee,className:`bg-white/90 backdrop-blur-sm text-green-600 font-semibold py-2 px-4 rounded-xl
                hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Export PDF"})]})]}),o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-green-600 text-white",children:o.jsx("tr",{children:["ID","Name","Description","Category","Sub-Category","Image","Actions"].map(te=>o.jsx("th",{className:"px-6 py-4 text-center",children:te},te))})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:q.map(te=>{var M,B;return o.jsxs("tr",{className:"hover:bg-white/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-center",children:te.crop_variety_id}),o.jsx("td",{className:"px-6 py-4 text-center font-medium",children:te.crop_variety_name}),o.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:te.crop_variety_description}),o.jsx("td",{className:"px-6 py-4 text-center",children:((M=i.find(G=>G.crop_category_id===te.crop_category_id))==null?void 0:M.crop_category_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-center",children:((B=a.find(G=>G.crop_sub_category_id===te.crop_sub_category_id))==null?void 0:B.crop_sub_category_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 text-center",children:te.crop_variety_image_url?o.jsx("img",{src:te.crop_variety_image_url,alt:te.crop_variety_name,className:"w-16 h-16 object-cover rounded-lg mx-auto"}):o.jsx("span",{children:"No Image"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>Q(te),className:`bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700
                          transition-colors duration-200`,children:"Edit"}),o.jsx("button",{onClick:()=>Z(te.crop_variety_id),className:`bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600
                          transition-colors duration-200`,children:"Delete"})]})})]},te.crop_variety_id)})})]})}),(k||w)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:w?"Edit Crop Variety":"Add Crop Variety"}),o.jsxs("form",{onSubmit:w?U:K,className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"crop_variety_name",className:"block font-semibold",children:"Variety Name"}),o.jsx("input",{type:"text",id:"crop_variety_name",name:"crop_variety_name",value:n.crop_variety_name,onChange:I,className:"w-full p-2 border rounded",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"crop_variety_description",className:"block font-semibold",children:"Description"}),o.jsx("textarea",{id:"crop_variety_description",name:"crop_variety_description",value:n.crop_variety_description,onChange:I,className:"w-full p-2 border rounded",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"crop_category_id",className:"block font-semibold",children:"Category"}),o.jsxs("select",{name:"crop_category_id",value:n.crop_category_id,onChange:I,className:"w-full p-2 border rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),i.map(te=>o.jsx("option",{value:te.crop_category_id,children:te.crop_category_name},te.crop_category_id))]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"crop_sub_category_id",className:"block font-semibold",children:"Sub-Category"}),o.jsxs("select",{name:"crop_sub_category_id",value:n.crop_sub_category_id,onChange:I,className:"w-full p-2 border rounded",required:!0,children:[o.jsx("option",{value:"",children:"Select Sub-Category"}),a.map(te=>o.jsx("option",{value:te.crop_sub_category_id,children:te.crop_sub_category_name},te.crop_sub_category_id))]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"image",className:"block font-semibold",children:"Image"}),o.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:R,className:"w-full p-2 border rounded"})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{v(!1),j(!1)},className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                        transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{type:"submit",className:`px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700
                        transition-colors duration-200`,children:w?"Save":"Create"})]})]})]})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm m-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Deletion"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this crop variety?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>T(!1),className:`px-4 py-2 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200
                    transition-colors duration-200`,children:"Cancel"}),o.jsx("button",{onClick:H,className:`px-4 py-2 rounded-xl bg-red-500 text-white hover:bg-red-600
                    transition-colors duration-200`,children:"Confirm"})]})]})})]})})}const Yc="AgriTayoAPIKey2024",KA=()=>{const{varietyId:t}=Oh(),[e,n]=O.useState([]),[r,i]=O.useState([]),[s,a]=O.useState("7 Days"),[c,u]=O.useState(!1),[h,f]=O.useState(!0),m=O.useCallback(async()=>{const[k,v,w,j,E,T]=await Promise.all([fetch("/api/crops",{headers:{"x-api-key":Yc}}),fetch("/api/crop_categories",{headers:{"x-api-key":Yc}}),fetch("/api/crop_sub_categories",{headers:{"x-api-key":Yc}}),fetch("/api/crop_varieties",{headers:{"x-api-key":Yc}}),fetch("/api/orders",{headers:{"x-api-key":Yc}}),fetch("/api/order_products",{headers:{"x-api-key":Yc}})]),F=await k.json();await v.json(),await w.json();const D=await j.json(),P=await E.json(),Y=await T.json(),V=F.filter(ee=>Number(ee.crop_variety_id)===Number(t)),I=P.filter(ee=>Number(ee.status_id)===7||Number(ee.status_id)===8),R=Y.map(ee=>{const te=F.find(M=>M.crop_id===ee.order_prod_crop_id);return{...ee,crop:te||null,var_id:te?te.crop_variety_id:null}}),Q=I.map(ee=>{const te=R.filter(M=>M.order_id===ee.order_id);return{...ee,order_products:te||null}}).flatMap(ee=>ee.order_products?ee.order_products.map(te=>({order_prod_id:te.order_prod_id,crop_id:te.order_prod_crop_id,total_weight:te.order_prod_total_weight,total_price:te.order_prod_total_price,order_date:ee.order_date,variety_id:te.var_id})):[]).filter(ee=>V.some(te=>te.crop_id===ee.crop_id)).reduce((ee,te)=>{const M=`${te.variety_id}_${new Date(te.order_date).toISOString()}`,B=te.total_price/te.total_weight;return ee[M]?(ee[M].total_price+=te.total_price,ee[M].total_weight+=te.total_weight,ee[M].highest=Math.max(ee[M].highest,B),ee[M].lowest=Math.min(ee[M].lowest,B),ee[M].sum_price_per_weight+=B,ee[M].count+=1):ee[M]={variety_id:te.variety_id,order_date:te.order_date,total_price:te.total_price,total_weight:te.total_weight,highest:B,lowest:B,sum_price_per_weight:B,count:1},ee},{}),Z=Object.values(Q).map(ee=>({...ee,average:ee.sum_price_per_weight/ee.count})),q=D.filter(ee=>Number(ee.crop_variety_id)===Number(t)).map(ee=>{const te=V.filter(G=>G.crop_variety_id===ee.crop_variety_id);if(te.length===0)return{...ee,availableListing:0,highestListing:0,lowestListing:0};const M=te.reduce((G,$)=>$.crop_price>G.crop_price?$:G,te[0]),B=te.reduce((G,$)=>$.crop_price<G.crop_price?$:G,te[0]);return{...ee,availableListing:te.length,highestListing:M,lowestListing:B}});n(Z),i(q[0]),Z&&q[0]&&f(!1)},[]);O.useEffect(()=>{m()},[m]);const x=k=>{const v=k.reduce((w,j)=>{const E=new Date(j.order_date).getFullYear();return w[E]||(w[E]={totalWeight:0,totalPrice:0,highest:-1/0,lowest:1/0,sumPricePerWeight:0,count:0}),w[E].totalWeight+=j.total_weight,w[E].totalPrice+=j.total_price,w[E].highest=Math.max(w[E].highest,j.highest),w[E].lowest=Math.min(w[E].lowest,j.lowest),w[E].sumPricePerWeight+=j.average,w[E].count++,w},{});return Object.entries(v).map(([w,j])=>({label:w,...j,average:j.sumPricePerWeight/j.count}))},g=k=>{const v=k.reduce((w,j)=>{const E=new Date(j.order_date),T=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`;return w[T]||(w[T]={totalWeight:0,totalPrice:0,highest:-1/0,lowest:1/0,sumPricePerWeight:0,count:0}),w[T].totalWeight+=j.total_weight,w[T].totalPrice+=j.total_price,w[T].highest=Math.max(w[T].highest,j.highest),w[T].lowest=Math.min(w[T].lowest,j.lowest),w[T].sumPricePerWeight+=j.average,w[T].count++,w},{});return Object.entries(v).map(([w,j])=>({label:w,...j,average:j.sumPricePerWeight/j.count}))},b=O.useCallback(()=>{const k=new Date;let v=e;k.setHours(0,0,0,0);const w=(j,E="day")=>{const T=[];for(let F=j-1;F>=0;F--){const D=new Date(k);if(E==="day"){D.setDate(k.getDate()-F);const P=D.toISOString().split("T")[0];T.push({label:P,order_date:P,average:0,highest:0,lowest:0})}else if(E==="month"){D.setMonth(k.getMonth()-F);const P=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;T.push({label:P,order_date:P,average:0,highest:0,lowest:0})}else if(E==="year"){D.setFullYear(k.getFullYear()-F);const P=`${D.getFullYear()}`;T.push({label:P,order_date:P,average:0,highest:0,lowest:0})}}return T};switch(s){case"7 Days":{const j=e.filter(E=>new Date(E.order_date)>=new Date(new Date().setDate(k.getDate()-7)));v=w(7).map(E=>j.find(F=>new Date(F.order_date).toISOString().split("T")[0]===E.label)||E);break}case"14 Days":{const j=e.filter(E=>new Date(E.order_date)>=new Date(new Date().setDate(k.getDate()-14)));v=w(14).map(E=>j.find(F=>new Date(F.order_date).toISOString().split("T")[0]===E.label)||E);break}case"6 Months":{const j=g(e.filter(E=>new Date(E.order_date)>=new Date(new Date().setMonth(k.getMonth()-6))));v=w(6,"month").map(E=>j.find(F=>F.label===E.label)||E);break}case"12 Months":{const j=g(e.filter(E=>new Date(E.order_date)>=new Date(new Date().setFullYear(k.getFullYear()-1))));v=w(12,"month").map(E=>j.find(F=>F.label===E.label)||E);break}case"Yearly":{const j=x(e.filter(E=>new Date(E.order_date)>=new Date(new Date().setFullYear(k.getFullYear()-5))));v=w(6,"year").map(E=>j.find(F=>F.label===E.label)||E);break}}return v},[s,e]),N=()=>{const k=new Date,v=b();let w=v.map(P=>P.label||new Date(P.order_date).toISOString().split("T")[0]);s==="7 Days"?w=w.map((P,Y)=>{const V=new Date(k);if(V.setDate(k.getDate()-(6-Y)),Y===5)return"Yesterday";if(Y===6)return"Today";const I={weekday:"long"};return new Intl.DateTimeFormat("en-US",I).format(V)}):s==="14 Days"?w=w.map((P,Y)=>{const V=new Date(k);V.setDate(k.getDate()-(13-Y)),V.setHours(V.getHours()+8);const I={weekday:"long",day:"numeric"},R=new Intl.DateTimeFormat("en-US",I).format(V);return Y===12?"Yesterday":Y===13?"Today":R.replace(",","")}):(s==="6 Months"||s==="12 Months")&&(w=w.map(P=>{const Y=new Date(P);Y.setHours(Y.getHours()+8);const V={year:"numeric",month:"long"};return new Intl.DateTimeFormat("en-US",V).format(Y)}));const j=v.map(P=>P.average),E=v.map(P=>P.highest),T=v.map(P=>P.lowest),F={labels:w,datasets:[{label:"Average",data:j,borderColor:"rgba(0, 128, 0, 0.5)",fill:!1},{label:"Highest",data:E,borderColor:"rgba(255, 69, 58, 0.5)",fill:!1},{label:"Lowest",data:T,borderColor:"rgba(25, 118, 210, 0.5)",fill:!1}]},D={responsive:!0,scales:{y:{beginAtZero:!0}}};return o.jsx(Tm,{data:F,options:D})};return h?o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading analytics..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ao,{to:"/admin/MarketAnalytics",className:`inline-flex items-center px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 
                    backdrop-blur-sm border border-white/30 text-white transition-all duration-200
                    hover:shadow-lg group mb-6`,children:[o.jsx(Lu,{className:"h-5 w-5 mr-2 text-gray-800 font-medium group-hover:-translate-x-1 transition-transform duration-200"}),o.jsx("span",{className:"text-gray-800 font-medium",children:"Back to Market"})]}),o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:[r.crop_variety_name," Analytics"]}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"View detailed analytics for this variety"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-2",children:"Current Available Listings"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.availableListing," Listings"]})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-2",children:"Current Highest Price/Kilo"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:isNaN(parseFloat(r.highestListing.crop_price))||!r.highestListing.crop_price?"No data":`${parseFloat(r.highestListing.crop_price).toFixed(2)}`})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-600 mb-2",children:"Current Lowest Price/Kilo"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:isNaN(parseFloat(r.lowestListing.crop_price))||!r.lowestListing.crop_price?"No data":`${parseFloat(r.lowestListing.crop_price).toFixed(2)}`})]})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 sm:mb-0",children:["Price Trends: ",s]}),o.jsx("button",{onClick:()=>u(!0),className:`bg-green-600 text-white px-4 py-2 rounded-xl font-semibold
                hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Change Time Range"})]}),o.jsx("div",{className:"bg-white rounded-xl p-4",children:N()})]}),o.jsx(ra,{isOpen:c,onClose:()=>u(!1),children:o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Select Time Range"}),o.jsx("div",{className:"space-y-3",children:["7 Days","14 Days","6 Months","12 Months","Yearly"].map(k=>o.jsx("button",{className:`w-full p-3 rounded-xl font-semibold transition-all duration-200
                    ${s===k?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{a(k),u(!1)},children:k},k))}),o.jsx("button",{onClick:()=>u(!1),className:`w-full mt-6 p-3 bg-gray-100 text-gray-700 rounded-xl font-semibold
                hover:bg-gray-200 transition-all duration-200`,children:"Cancel"})]})})]})})},GA="AgriTayoAPIKey2024",XA=({cropCategory:t})=>o.jsxs(ao,{to:`/admin/crop-subcategory/${t.crop_category_id}`,className:`bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl 
        transform transition-all duration-300 hover:scale-[1.02] overflow-hidden group`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden",children:o.jsx("img",{src:t.crop_category_image_url,alt:t.crop_category_name,className:`w-full h-48 object-cover object-center transform transition-transform 
              duration-300 group-hover:scale-110`})}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 
          group-hover:opacity-100 transition-opacity duration-300`})]}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:`text-xl font-bold text-gray-900 group-hover:text-green-600 
            transition-colors duration-300`,children:t.crop_category_name}),o.jsx(Hw,{className:`h-5 w-5 text-gray-400 group-hover:text-green-600 
            transform group-hover:translate-x-1 transition-all duration-300`})]})})]});function Yb(){const[t,e]=O.useState([]),[n,r]=O.useState(!0),[i,s]=O.useState(null),[a,c]=O.useState("");O.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const f=await fetch("/api/crop_categories",{headers:{"x-api-key":GA}});if(!f.ok)throw new Error("Network response was not ok");const m=await f.json();e(m)}catch(f){s(f),console.error("Error fetching crop categories:",f)}finally{r(!1)}},h=t.filter(f=>f.crop_category_name.toLowerCase().includes(a.toLowerCase()));return n?o.jsx("div",{className:`fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] 
        flex items-center justify-center`,children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading categories..."})]})}):i?o.jsx("div",{className:`min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] 
        flex items-center justify-center p-4`,children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[o.jsx("div",{className:"text-red-500 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:"Error Loading Categories"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:i.message}),o.jsx("button",{onClick:()=>window.location.reload(),className:`w-full bg-green-600 text-white py-3 rounded-xl font-semibold
              hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
              transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Try Again"})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Product Categories"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Browse through our selection of product varieties"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[t.length," Categories"]})})})]}),o.jsxs("div",{className:"relative max-w-md w-full mb-6",children:[o.jsx("input",{type:"text",placeholder:"Search categories...",value:a,onChange:f=>c(f.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl bg-white/90 backdrop-blur-sm
                  border border-white/30 focus:outline-none focus:ring-2 focus:ring-green-500
                  text-gray-800 placeholder-gray-500`}),o.jsx(F2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 
                h-5 w-5 text-gray-400`})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[h.map(f=>o.jsx(XA,{cropCategory:f},f.crop_category_id)),h.length===0&&o.jsx("div",{className:"col-span-full text-center py-8",children:o.jsxs("p",{className:"text-gray-800 text-lg",children:['No categories found matching "',a,'"']})})]})]})})}const JA="AgriTayoAPIKey2024";function QA(){const{cropCategoryId:t}=Oh(),[e,n]=O.useState([]),[r,i]=O.useState(!0),[s,a]=O.useState(null),[c,u]=O.useState("");O.useEffect(()=>{h()},[]);const h=async()=>{try{const m=await fetch("/api/crop_sub_categories",{headers:{"x-api-key":JA}});if(!m.ok)throw new Error("Network response was not ok");const x=await m.json();n(x)}catch(m){a(m),console.error("Error fetching crop subcategories:",m)}finally{i(!1)}};if(r)return o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading subcategories..."})]})});if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[o.jsx("div",{className:"text-red-500 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:"Error Loading Data"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:s.message}),o.jsx("button",{onClick:()=>window.location.reload(),className:`w-full bg-green-600 text-white py-3 rounded-xl font-semibold
                            hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                            transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Try Again"})]})});const f=e.filter(m=>String(m.crop_category_id)===String(t)&&m.crop_sub_category_name.toLowerCase().includes(c.toLowerCase()));return f.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"text-gray-400 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Products Available"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"There are currently no products in this category."}),o.jsxs(ao,{to:"/admin/crop-category",className:"inline-flex items-center justify-center space-x-2 text-green-600 hover:text-green-700",children:[o.jsx(Lu,{className:"h-5 w-5"}),o.jsx("span",{children:"Back to Categories"})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ao,{to:"/admin/crop-category",className:`inline-flex items-center px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 
                            backdrop-blur-sm border border-white/30 text-white transition-all duration-200
                            hover:shadow-lg group mb-6`,children:[o.jsx(Lu,{className:"h-5 w-5 mr-2 text-gray-800 font-medium  group-hover:-translate-x-1 transition-transform duration-200"}),o.jsx("span",{className:"text-gray-800 font-medium",children:"Back to Categories"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Product Subcategories"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Browse through our selection of product varieties"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[f.length," Categories"]})})})]}),o.jsxs("div",{className:"relative max-w-md w-full mt-6",children:[o.jsx("input",{type:"text",placeholder:"Search subcategories...",value:c,onChange:m=>u(m.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl bg-white/90 backdrop-blur-sm
                                border border-white/30 focus:outline-none focus:ring-2 focus:ring-green-500
                                text-gray-800 placeholder-gray-500`}),o.jsx(F2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 
                            h-5 w-5 text-gray-400`})]})]}),o.jsx("div",{className:"grid gap-4 md:gap-6",children:f.length>0?f.map(m=>o.jsx(ao,{to:`/admin/product-list/${m.crop_sub_category_id}`,className:`bg-white rounded-xl shadow-lg hover:shadow-xl 
                                    transition-all duration-200 overflow-hidden group transform hover:scale-[1.02]`,children:o.jsxs("div",{className:"flex items-start p-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:m.crop_sub_category_image_url,alt:m.crop_sub_category_name,className:"w-24 h-24 object-cover rounded-lg shadow-md"})}),o.jsxs("div",{className:"ml-4 flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-xl font-bold text-gray-900 group-hover:text-green-600 
                                                transition-colors duration-200`,children:m.crop_sub_category_name}),o.jsx(Hw,{className:`h-6 w-6 text-gray-400 group-hover:text-green-600 
                                                transform group-hover:translate-x-1 transition-all duration-200`})]}),o.jsx("p",{className:"mt-2 text-gray-600 line-clamp-2",children:m.crop_sub_category_description})]})]})},m.crop_sub_category_id)):o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-8 text-center",children:o.jsxs("p",{className:"text-gray-800 text-lg",children:['No subcategories found matching "',c,'"']})})})]})})}function e9({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Q4=O.forwardRef(e9),t9="AgriTayoAPIKey2024";function n9(){const{cropSubCategoryId:t}=Oh(),[e,n]=O.useState([]),[r,i]=O.useState(!0),[s,a]=O.useState(null),[c,u]=O.useState("");O.useEffect(()=>{h()},[]);const h=async()=>{try{const m=await fetch("/api/crops",{headers:{"x-api-key":t9}});if(!m.ok)throw new Error("Network response was not ok");const x=await m.json();n(x)}catch(m){a(m),console.error("Error fetching crops:",m)}finally{i(!1)}};if(r)return o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading products..."})]})});if(s)return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[o.jsx("div",{className:"text-red-500 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:"Error Loading Products"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:s.message}),o.jsx("button",{onClick:()=>window.location.reload(),className:`w-full bg-green-600 text-white py-3 rounded-xl font-semibold
                            hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                            transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Try Again"})]})});const f=e.filter(m=>String(m.sub_category_id)===String(t)&&(m.crop_name.toLowerCase().includes(c.toLowerCase())||m.crop_description.toLowerCase().includes(c.toLowerCase())));return f.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"text-gray-400 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Products Available"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"There are currently no products in this category."}),o.jsxs(ao,{to:"/admin/market",className:"inline-flex items-center justify-center space-x-2 text-green-600 hover:text-green-700",children:[o.jsx(Lu,{className:"h-5 w-5"}),o.jsx("span",{children:"Back to Categories"})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ao,{to:"/admin/crop-category",className:`inline-flex items-center px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 
                            backdrop-blur-sm border border-white/30 text-white transition-all duration-200
                            hover:shadow-lg group mb-6`,children:[o.jsx(Lu,{className:"h-5 w-5 mr-2 text-gray-800 font-medium group-hover:-translate-x-1 transition-transform duration-200"}),o.jsx("span",{className:"text-gray-800 font-medium",children:"Back to Categories"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Available Products"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Browse through our selection of products"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30",children:o.jsxs("span",{className:"text-gray-800 font-medium",children:[f.length," Products"]})})})]}),o.jsxs("div",{className:"relative max-w-md w-full mt-6",children:[o.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:m=>u(m.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl bg-white/90 backdrop-blur-sm
                                border border-white/30 focus:outline-none focus:ring-2 focus:ring-green-500
                                text-gray-800 placeholder-gray-500`}),o.jsx(F2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 
                            h-5 w-5 text-gray-400`})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.length>0?f.map(m=>o.jsxs(ao,{to:`/admin/product-details/${m.crop_id}`,className:`bg-white rounded-xl shadow-lg hover:shadow-xl 
                                    transition-all duration-200 overflow-hidden group transform hover:scale-[1.02]`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:m.crop_image_url,alt:m.crop_name,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:`absolute top-2 right-2 bg-white rounded-full px-2 py-1 
                                        flex items-center space-x-1 shadow-md`,children:[o.jsx(Q4,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-sm font-semibold",children:m.crop_rating})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:`text-lg font-bold text-gray-900 group-hover:text-green-600 
                                        transition-colors duration-200 truncate`,children:m.crop_name}),o.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2 h-10 overflow-hidden",children:m.crop_description}),o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[o.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",m.crop_price]}),o.jsx("button",{className:`bg-green-100 text-green-600 px-3 py-1 rounded-lg text-sm 
                                            font-semibold hover:bg-green-200 transition-colors duration-200`,children:"View Details"})]})]})]},m.crop_id)):o.jsx("div",{className:"col-span-full",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl p-8 text-center",children:o.jsxs("p",{className:"text-gray-800 text-lg",children:['No products found matching "',c,'"']})})})})]})})}const Xf="AgriTayoAPIKey2024";function r9(){const{productListId:t}=Oh(),[e,n]=O.useState([]),[r,i]=O.useState([]),[s,a]=O.useState(!0),[c,u]=O.useState(null);O.useState(null);const[h,f]=O.useState(!1),[m,x]=O.useState(""),g=Cn(),[b,N]=O.useState(!1),[k,v]=O.useState(""),[w,j]=O.useState(""),[E,T]=O.useState(""),[F,D]=O.useState(!1),[P,Y]=O.useState(""),[V,I]=O.useState("success");O.useEffect(()=>{R(),K()},[]);const R=async()=>{try{const M=await fetch("/api/crops",{headers:{"x-api-key":Xf}});if(!M.ok)throw new Error("Network response was not ok");const B=await M.json();n(B)}catch(M){u(M),console.error("Error fetching crops:",M)}finally{a(!1)}},K=async()=>{try{const M=await fetch("/api/shops",{headers:{"x-api-key":Xf}});if(!M.ok)throw new Error("Network response was not ok");const B=await M.json();i(B)}catch(M){console.error("Error fetching shops:",M)}},U=async M=>{try{const B=r.find(G=>G.shop_name===M);B&&B.shop_id?g(`/admin/chat/${B.shop_id}/Shop`):(I("error"),Y("Failed to find the shop ID."),D(!0))}catch(B){console.error("Error navigating to the chat page:",B),I("error"),Y("Failed to navigate to the chat page."),D(!0)}},le=M=>{T(M),f(!0)},Q=()=>{f(!1),x("")},Z=async()=>{const M="violation",B=m;try{const G=await fetch(`/api/crops_availability/${E}`,{method:"PUT",headers:{"Content-Type":"application/json","x-api-key":Xf},body:JSON.stringify({availability:M,availability_message:B})});if(!G.ok)throw new Error("Network response was not ok");const $=await G.json();console.log("Crop availability updated successfully:",$),I("success"),Y("Crop has been successfully updated."),D(!0)}catch(G){console.error("Error updating crop availability:",G),I("error"),Y("Failed to update crop availability. Please try again."),D(!0)}Q()},H=M=>{j(M),N(!0)},q=()=>{N(!1),v("")},ee=async()=>{const M="AgriTayo";console.log("Shop Number:",w),console.log("Message:",M,k),q();try{const B=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Xf},body:JSON.stringify({title:M,message:k,phone_number:w})});if(!B.ok)throw new Error("Network response was not ok");const G=await B.json();console.log("SMS sent successfully:",G),I("success"),Y("Message sent successfully!"),D(!0),q()}catch(B){console.error("Error sending SMS:",B),I("error"),Y("Failed to send the message."),D(!0)}};if(s)return o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-white",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-white",children:"Loading product details..."})]})});if(c)return o.jsx("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[o.jsx("div",{className:"text-red-500 flex justify-center mb-6",children:o.jsx("svg",{className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:"Error Loading Product"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:c.message}),o.jsx("button",{onClick:()=>window.location.reload(),className:`w-full bg-green-600 text-white py-3 rounded-xl font-semibold
                            hover:bg-green-700 active:bg-green-800 transform hover:scale-[1.02]
                            transition-all duration-200 shadow-lg hover:shadow-xl`,children:"Try Again"})]})});const te=e.filter(M=>String(t)===String(M.crop_id));return te.length===0?o.jsx("div",{className:"text-center",children:o.jsx("p",{children:"No available details"})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:[o.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(ao,{to:"/admin/crop-category",className:`inline-flex items-center px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 
                            backdrop-blur-sm border border-white/30 text-white transition-all duration-200
                            hover:shadow-lg group mb-6`,children:[o.jsx(Lu,{className:"h-5 w-5 mr-2 text-gray-800 font-medium group-hover:-translate-x-1 transition-transform duration-200"}),o.jsx("span",{className:"text-gray-800 font-medium",children:"Back to Products"})]}),o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 drop-shadow-md mb-2",children:"Product Details"}),o.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"View detailed information about this product"})]})})]}),te.map(M=>{const B=r.find($=>$.shop_id===M.shop_id),G=B==null?void 0:B.shop_image_url;return o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg",children:[o.jsx("img",{src:M.crop_image_url,alt:M.crop_name,className:"w-full h-[400px] object-cover"}),o.jsxs("div",{className:`absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1.5 
                                            flex items-center space-x-1 shadow-lg`,children:[o.jsx(Q4,{className:"h-5 w-5 text-yellow-400"}),o.jsx("span",{className:"text-sm font-bold",children:M.crop_rating})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:M.crop_name}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",M.crop_price]})]}),o.jsx("button",{onClick:()=>le(M.crop_id),className:`bg-red-100 text-red-600 px-4 py-2 rounded-xl font-semibold
                                                hover:bg-red-200 transition-all duration-200`,children:"Mark as Unlisted"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:M.crop_description})]}),o.jsxs("div",{className:"bg-green-50 rounded-xl p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[G&&o.jsx("img",{src:G,alt:B==null?void 0:B.shop_name,className:`w-16 h-16 rounded-full object-cover ring-2 ring-green-500 
                                                            cursor-pointer transform hover:scale-105 transition-all duration-200`,onClick:()=>g(`/seller-shop/${B==null?void 0:B.shop_id}`)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:B==null?void 0:B.shop_name}),o.jsx("p",{className:"text-sm text-gray-500",children:"Active 3 Minutes Ago"})]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:()=>H(B.shop_number),className:`flex-1 flex items-center justify-center space-x-2 bg-white 
                                                        border-2 border-green-600 text-green-600 py-2 rounded-xl font-semibold
                                                        hover:bg-green-50 transition-all duration-200`,children:[o.jsx(Au,{className:"h-5 w-5"}),o.jsx("span",{children:"Send SMS"})]}),o.jsxs("button",{onClick:()=>U(B.shop_name),className:`flex-1 flex items-center justify-center space-x-2 bg-green-600 
                                                        text-white py-2 rounded-xl font-semibold hover:bg-green-700 
                                                        transition-all duration-200`,children:[o.jsx(Ok,{className:"h-5 w-5"}),o.jsx("span",{children:"Message"})]})]})]})]})]})]})},M.crop_id)})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg mx-4 shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mark as Unlisted"}),o.jsx("textarea",{value:m,onChange:M=>x(M.target.value),placeholder:"Enter reason...",className:`w-full p-3 border border-gray-300 rounded-xl mb-4 focus:ring-2 
                                focus:ring-green-500 focus:border-transparent transition-all duration-200`,rows:"4"}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{className:`px-6 py-2 text-gray-700 bg-gray-100 rounded-xl font-semibold
                                    hover:bg-gray-200 transition-all duration-200`,onClick:Q,children:"Cancel"}),o.jsx("button",{className:`px-6 py-2 bg-green-600 text-white rounded-xl font-semibold
                                    hover:bg-green-700 transition-all duration-200`,onClick:Z,children:"Submit"})]})]})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg mx-4 shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Send Message"}),o.jsx("textarea",{value:k,onChange:M=>v(M.target.value),placeholder:"Enter your message...",className:`w-full p-3 border border-gray-300 rounded-xl mb-4 focus:ring-2 
                                focus:ring-green-500 focus:border-transparent transition-all duration-200`,rows:"4"}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{className:`px-6 py-2 text-gray-700 bg-gray-100 rounded-xl font-semibold
                                    hover:bg-gray-200 transition-all duration-200`,onClick:q,children:"Cancel"}),o.jsx("button",{className:`px-6 py-2 bg-green-600 text-white rounded-xl font-semibold
                                    hover:bg-green-700 transition-all duration-200`,onClick:ee,children:"Send"})]})]})}),F&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:V==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:P}),o.jsx("button",{onClick:()=>D(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}function Zb(t){return St({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.216 0 0 229.232 0 512c0 282.784 229.216 512 512 512 282.768 0 512-229.216 512-512C1024 229.232 794.768 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zm224.32-481.344H375.856l115.76-115.76c12.496-12.496 12.496-32.752 0-45.248s-32.752-12.496-45.248 0l-189.008 194 189.008 194c6.256 6.256 14.432 9.376 22.624 9.376s16.368-3.12 22.624-9.376c12.496-12.496 12.496-32.752 0-45.248l-117.76-117.744H736.32c17.68 0 32-14.336 32-32s-14.32-32-32-32z"},child:[]}]})(t)}function Kb(t){return St({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.232 0 0 229.232 0 512c0 282.784 229.232 512 512 512 282.784 0 512-229.216 512-512C1024 229.232 794.784 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zm20.368-642.368c-12.496 12.496-12.496 32.752 0 45.248l115.76 115.76H287.68c-17.68 0-32 14.336-32 32s14.32 32 32 32h362.464l-117.76 117.744c-12.496 12.496-12.496 32.752 0 45.248 6.256 6.256 14.432 9.376 22.624 9.376s16.368-3.12 22.624-9.376l189.008-194-189.008-194c-12.512-12.496-32.752-12.496-45.264 0z"},child:[]}]})(t)}const _d=["/DownloadApp/4.png","/DownloadApp/5.png","/DownloadApp/9.png","/DownloadApp/13.png","/DownloadApp/14.png","/DownloadApp/1.png","/DownloadApp/2.png","/DownloadApp/3.png"],wd=["/DownloadApp/6.png","/DownloadApp/7.png","/DownloadApp/8.png","/DownloadApp/10.png","/DownloadApp/11.png","/DownloadApp/1.png","/DownloadApp/2.png","/DownloadApp/3.png"],i9=[{imgSrc:"/DownloadApp/Register.png",title:"Register",description:"Register and create your account with ease to get started."},{imgSrc:"/DownloadApp/Login.png",title:"Login",description:"Sign in or log in to your existing account to get started."}];function Gb(){const[t,e]=O.useState(0),[n,r]=O.useState(0);O.useEffect(()=>{const u=setInterval(()=>{e(f=>f===_d.length-1?0:f+1)},8e3),h=setInterval(()=>{r(f=>f===wd.length-1?0:f+1)},8e3);return()=>{clearInterval(u),clearInterval(h)}},[]);const i=()=>e(u=>u===0?_d.length-1:u-1),s=()=>e(u=>u===_d.length-1?0:u+1),a=()=>r(u=>u===0?wd.length-1:u-1),c=()=>r(u=>u===wd.length-1?0:u+1);return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#E6F5E1] to-[#ffffff] text-gray-800",children:[o.jsx("section",{className:"flex flex-col items-center justify-center text-center py-16 bg-[#f0faff] ",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 px-4",children:[o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("img",{src:go,alt:"AgriTayo",className:"h-auto w-full max-w-[300px] md:max-w-[450px] drop-shadow-lg mx-auto"})}),o.jsx("div",{className:"flex items-center justify-center mt-12 md:mt-0",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-[#00B251] mb-4",children:"A Perfect Platform to Get Fresh Farm Products"}),o.jsx("p",{className:"text-base md:text-xl mb-8 text-gray-700 mx-4 md:mx-8 lg:mx-16",children:"AgriTayo is a premier e-commerce platform dedicated to connecting farmers directly with consumers. We bring fresh farm products straight from the source to your doorstep, ensuring quality, sustainability, and fair trade practices."}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 mb-12",children:[o.jsxs("a",{href:"https://apps.apple.com",className:"flex items-center bg-[#00B251] text-white rounded-lg px-4 py-2 md:px-6 md:py-3 text-xs md:text-base font-semibold hover:bg-[#00a144] transition-all","aria-label":"Download on the App Store",children:[o.jsx(Qy,{className:"h-6 w-auto mr-2 md:mr-3"}),o.jsx("span",{className:"flex-1",children:"Download on the App Store"})]}),o.jsxs("a",{href:"https://play.google.com",className:"flex items-center bg-[#00B251] text-white rounded-lg px-4 py-2 md:px-6 md:py-3 text-xs md:text-base font-semibold hover:bg-[#00a144] transition-all","aria-label":"Get it on Google Play",children:[o.jsx(ev,{className:"h-6 w-auto mr-2 md:mr-3"}),o.jsx("span",{className:"flex-1",children:"Get it on Google Play"})]})]})]})})]})}),o.jsx("section",{className:"py-16 bg-[#00B251] text-white text-center",children:o.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx("button",{onClick:()=>{const u=document.getElementById("begin");u&&window.scrollTo({top:u.offsetTop,behavior:"smooth"})},className:"bg-green-700 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-900 transition-all",children:"Authentication"}),o.jsx("button",{onClick:()=>{const u=document.getElementById("basics");u&&window.scrollTo({top:u.offsetTop,behavior:"smooth"})},className:"bg-green-700 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-900 transition-all",children:"Basic Features"}),o.jsx("button",{onClick:()=>{const u=document.getElementById("essentials");u&&window.scrollTo({top:u.offsetTop,behavior:"smooth"})},className:"bg-green-700 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-900 transition-all",children:"Essential Features"})]})}),o.jsxs("section",{className:"py-16",id:"begin",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-center text-[#00B251] mb-12",children:"Authentication"}),o.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16",children:i9.map(({imgSrc:u,title:h,description:f},m)=>o.jsxs("div",{children:[o.jsx("img",{src:u,alt:h,className:"w-full h-auto mb-4 rounded-md shadow-md"}),o.jsx("h3",{className:"text-xl font-bold text-[#00B251]",children:h}),o.jsx("p",{className:"text-gray-700",children:f})]},m))})]}),o.jsx("section",{className:"py-16 bg-[#00B251] text-white text-center",id:"basics",children:o.jsx("div",{className:"max-w-4xl mx-auto"})}),o.jsxs("section",{className:"relative w-full max-w-4xl mx-auto my-16",children:[o.jsx("div",{className:"text-4xl md:text-5xl font-bold text-center text-[#00B251] mb-12",children:"Basic Features"}),o.jsxs("div",{className:"relative w-full h-[400px] overflow-hidden rounded-lg shadow-lg group",children:[o.jsx("img",{src:_d[t],alt:`Carousel ${t+1}`,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"absolute top-0 left-0 h-full w-[15%] opacity-0 group-hover:opacity-100 bg-gradient-to-r from-black/30 to-transparent transition-opacity duration-300 cursor-pointer",onClick:i,"aria-label":"Previous Slide",children:o.jsx(Zb,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8"})}),o.jsx("div",{className:"absolute top-0 right-0 h-full w-[15%] opacity-0 group-hover:opacity-100 bg-gradient-to-l from-black/30 to-transparent transition-opacity duration-300 cursor-pointer",onClick:s,"aria-label":"Next Slide",children:o.jsx(Kb,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8"})})]}),o.jsx("div",{className:"flex justify-center mt-4",children:_d.map((u,h)=>o.jsx("div",{className:`h-2 w-2 rounded-full mx-1 cursor-pointer transition-all duration-300 ${h===t?"bg-[#00B251]":"bg-gray-300"}`,onClick:()=>e(h),"aria-label":`Slide ${h+1}`},h))})]}),o.jsx("section",{className:"py-16 bg-[#00B251] text-white text-center",id:"essentials",children:o.jsx("div",{className:"max-w-4xl mx-auto"})}),o.jsxs("section",{className:"relative w-full max-w-4xl mx-auto my-16",children:[o.jsx("div",{className:"text-4xl md:text-5xl font-bold text-center text-[#00B251] mb-12",children:"Essential Features"}),o.jsxs("div",{className:"relative w-full h-[400px] overflow-hidden rounded-lg shadow-lg group",children:[o.jsx("img",{src:wd[n],alt:`Carousel ${n+1}`,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"absolute top-0 left-0 h-full w-[15%] opacity-0 group-hover:opacity-100 bg-gradient-to-r from-black/30 to-transparent transition-opacity duration-300 cursor-pointer",onClick:a,"aria-label":"Previous Slide",children:o.jsx(Zb,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8"})}),o.jsx("div",{className:"absolute top-0 right-0 h-full w-[15%] opacity-0 group-hover:opacity-100 bg-gradient-to-l from-black/30 to-transparent transition-opacity duration-300 cursor-pointer",onClick:c,"aria-label":"Next Slide",children:o.jsx(Kb,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8"})})]}),o.jsx("div",{className:"flex justify-center mt-4",children:wd.map((u,h)=>o.jsx("div",{className:`h-2 w-2 rounded-full mx-1 cursor-pointer transition-all duration-300 ${h===n?"bg-[#00B251]":"bg-gray-300"}`,onClick:()=>r(h),"aria-label":`Slide ${h+1}`},h))})]}),o.jsx("section",{className:"py-16 bg-[#00B251] text-white text-center",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Download Our App Now!"}),o.jsx("p",{className:"text-lg mb-8",children:"Get access to exclusive deals, track your orders, and more with our mobile app."}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsxs("a",{href:"#",className:"flex items-center bg-white text-black rounded-full py-2 px-4 shadow-lg hover:bg-gray-200 transition-all",children:[o.jsx(Qy,{className:"h-6 w-auto mr-2 md:mr-3"}),o.jsx("span",{className:"flex-1",children:"Download on the App Store"})]}),o.jsxs("a",{href:"#",className:"flex items-center bg-white text-black rounded-full py-2 px-4 shadow-lg hover:bg-gray-200 transition-all",children:[o.jsx(ev,{className:"h-6 w-auto mr-2 md:mr-3"}),o.jsx("span",{className:"flex-1",children:"Get it on Google Play"})]})]})]})})]})}const no=({to:t,icon:e,text:n,onClick:r,isButton:i})=>{const s=i?"button":Sm;return o.jsxs(s,{to:t,className:"sidebar-item",onClick:r,children:[o.jsx(e,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:n})]})},Gg=({text:t})=>o.jsx("div",{className:"",children:o.jsx("p",{className:"text-sm text-[#e0e0e0ee] font-gill text-center tracking-wide",children:t})});function s9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408 48H104a72.08 72.08 0 0 0-72 72v192a72.08 72.08 0 0 0 72 72h24v64a16 16 0 0 0 26.25 12.29L245.74 384H408a72.08 72.08 0 0 0 72-72V120a72.08 72.08 0 0 0-72-72zM160 248a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm96 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm96 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(t)}function e3(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function t3(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M392 80H232a56.06 56.06 0 0 0-56 56v104h153.37l-52.68-52.69a16 16 0 0 1 22.62-22.62l80 80a16 16 0 0 1 0 22.62l-80 80a16 16 0 0 1-22.62-22.62L329.37 272H176v104c0 32.05 33.79 56 64 56h152a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zM80 240a16 16 0 0 0 0 32h96v-32z"},child:[]}]})(t)}function o9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.08 341.31c-1.66-2-3.29-4-4.89-5.93-22-26.61-35.31-42.67-35.31-118 0-39-9.33-71-27.72-95-13.56-17.73-31.89-31.18-56.05-41.12a3 3 0 0 1-.82-.67C306.6 51.49 282.82 32 256 32s-50.59 19.49-59.28 48.56a3.13 3.13 0 0 1-.81.65c-56.38 23.21-83.78 67.74-83.78 136.14 0 75.36-13.29 91.42-35.31 118-1.6 1.93-3.23 3.89-4.89 5.93a35.16 35.16 0 0 0-4.65 37.62c6.17 13 19.32 21.07 34.33 21.07H410.5c14.94 0 28-8.06 34.19-21a35.17 35.17 0 0 0-4.61-37.66zM256 480a80.06 80.06 0 0 0 70.44-42.13 4 4 0 0 0-3.54-5.87H189.12a4 4 0 0 0-3.55 5.87A80.06 80.06 0 0 0 256 480z"},child:[]}]})(t)}function a9(t){return St({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}const Ps=({to:t,icon:e,text:n,showDropdown:r,onClick:i})=>o.jsxs(Sm,{to:t,className:"dropdown-item",onClick:i,children:[o.jsx(e,{className:"sidebar-dropdown-icon"}),o.jsx("span",{className:"sidebar-text",children:n})]});function l9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6v18zm2 0h6c1.1 0 2-.9 2-2v-7h-8v9zm8-11V5c0-1.1-.9-2-2-2h-6v7h8z"},child:[]}]})(t)}function c9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M161.563 19.28c10.093 10.734 16.743 23.678 20.562 37.657 6.202 22.707 5.806 48.148 3.72 74.094-4.176 51.894-14.58 106.512-2.44 140.407 11.396 31.814 29.668 50.71 49.94 60 8.72 3.998 17.9 6.21 27.186 6.782 22.195-65.084 17.46-148.144-19.06-204.283 48.352 48.234 71.19 121.068 56.436 197.407l-8.78 3.53c2.723-.808 5.42-1.763 8.093-2.843 41.783-16.87 75.975-66.253 61.75-138.655-6.536-33.265-28.966-80.165-66.5-116.5-32.472-31.432-75.827-55.212-130.908-57.594zM445.53 202.813c-.84 12.1-4.638 23.528-10.56 33.907-10.353 18.14-26.448 33.757-43.876 48.593-34.856 29.67-75.057 57.156-88.313 85.218-12.555 26.583-12.884 49.252-6.186 67.283 2.92 7.86 7.21 14.894 12.625 20.968 53.708-26.787 101.73-80.91 113.81-138.03.076 59.646-30.63 118.687-86.624 156.906 35.802 14.545 86.282 5.034 121.72-47.75 16.418-24.456 31.558-67.3 30.812-112.875-.634-38.688-12.264-79.23-43.407-114.217zm-424.874 73.47c-9.483 45.878.708 86.832 19.5 120.656 22.136 39.84 56.682 69.376 83.125 82.343 57.07 27.988 105.514 10.968 129.25-19.53-67.59-5.1-123.692-40.873-153.436-92.563 39.02 43.428 107.658 66.29 167.562 62.625 1.654-7.963 1.87-16.204.47-24.468-3.214-18.965-14.87-38.447-39.032-55.188-25.505-17.67-74.045-21.36-119.063-29.625-22.508-4.13-44.247-9.59-62.28-20.124-10.323-6.03-19.314-14.06-26.094-24.125z"},child:[]}]})(t)}function u9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22.3126 10.1753L20.8984 11.5895L20.1913 10.8824L15.9486 15.125L15.2415 18.6606L13.8273 20.0748L9.58466 15.8321L4.63492 20.7819L3.2207 19.3677L8.17045 14.4179L3.92781 10.1753L5.34202 8.76107L8.87756 8.05396L13.1202 3.81132L12.4131 3.10422L13.8273 1.69L22.3126 10.1753Z"},child:[]}]})(t)}function d9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.9711 17.1715 19.5568 18.5858 16.0223 15.0513 15.9486 15.125 15.2415 18.6605 13.8273 20.0747 9.58466 15.8321 4.63492 20.7818 3.2207 19.3676 8.17045 14.4179 3.92781 10.1752 5.34202 8.76101 8.87756 8.0539 8.95127 7.98019 5.4147 4.44362 6.82892 3.02941 20.9711 17.1715ZM18.8508 12.2228 20.1913 10.8823 20.8984 11.5894 22.3126 10.1752 13.8273 1.68994 12.4131 3.10416 13.1202 3.81126 11.7797 5.15176 18.8508 12.2228Z"},child:[]}]})(t)}function h9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.998 3V5C20.998 8.86599 17.864 12 13.998 12H12.998V13H17.998V20C17.998 21.1046 17.1026 22 15.998 22H7.99805C6.89348 22 5.99805 21.1046 5.99805 20V13H10.998V10C10.998 6.13401 14.1321 3 17.998 3H20.998ZM5.49805 2C8.02667 2 10.263 3.25136 11.6216 5.1686C10.6026 6.51084 9.99805 8.18482 9.99805 10V11H9.49805C5.35591 11 1.99805 7.64214 1.99805 3.5V2H5.49805Z"},child:[]}]})(t)}function f9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.95401 2.2106C11.2876 1.93144 12.6807 1.92263 14.0449 2.20785C14.2219 3.3674 14.9048 4.43892 15.9997 5.07103C17.0945 5.70313 18.364 5.75884 19.4566 5.3323C20.3858 6.37118 21.0747 7.58203 21.4997 8.87652C20.5852 9.60958 19.9997 10.736 19.9997 11.9992C19.9997 13.2632 20.5859 14.3902 21.5013 15.1232C21.29 15.7636 21.0104 16.3922 20.6599 16.9992C20.3094 17.6063 19.9049 18.1627 19.4559 18.6659C18.3634 18.2396 17.0943 18.2955 15.9997 18.9274C14.9057 19.559 14.223 20.6294 14.0453 21.7879C12.7118 22.067 11.3187 22.0758 9.95443 21.7906C9.77748 20.6311 9.09451 19.5595 7.99967 18.9274C6.90484 18.2953 5.63539 18.2396 4.54272 18.6662C3.61357 17.6273 2.92466 16.4164 2.49964 15.1219C3.41412 14.3889 3.99968 13.2624 3.99968 11.9992C3.99968 10.7353 3.41344 9.60827 2.49805 8.87524C2.70933 8.23482 2.98894 7.60629 3.33942 6.99923C3.68991 6.39217 4.09443 5.83576 4.54341 5.33257C5.63593 5.75881 6.90507 5.703 7.99967 5.07103C9.09364 4.43942 9.7764 3.3691 9.95401 2.2106ZM11.9997 14.9992C13.6565 14.9992 14.9997 13.6561 14.9997 11.9992C14.9997 10.3424 13.6565 8.99923 11.9997 8.99923C10.3428 8.99923 8.99967 10.3424 8.99967 11.9992C8.99967 13.6561 10.3428 14.9992 11.9997 14.9992Z"},child:[]}]})(t)}function p9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(t)}function m9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M112.6 312.3h190.7c4.5 0 7.1-5.1 4.5-8.8l-95.4-153.4c-2.2-3.2-6.9-3.2-9.1 0L108 303.5c-2.6 3.7.1 8.8 4.6 8.8zM306.7 254.3l35 55.7c1 1.5 2.7 2.4 4.5 2.4h53.2c4.5 0 7.1-5.1 4.5-8.8l-61.6-87.7c-2.2-3.2-6.9-3.2-9.1 0L306.6 248c-1.2 1.8-1.2 4.3.1 6.3zM351.1 167.9c13.1-1.3 23.7-11.9 25-25 1.8-17.7-13-32.5-30.7-30.7-13.1 1.3-23.7 11.9-25 25-1.7 17.7 13 32.5 30.7 30.7z"},child:[]},{tag:"path",attr:{d:"M432 48H80c-17.7 0-32 14.3-32 32v352c0 17.7 14.3 32 32 32h352c17.7 0 32-14.3 32-32V80c0-17.7-14.3-32-32-32zm-2.7 280c0 4.4-3.6 8-8 8H90.7c-4.4 0-8-3.6-8-8V90.7c0-4.4 3.6-8 8-8h330.7c4.4 0 8 3.6 8 8V328z"},child:[]}]})(t)}function g9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(t)}function x9(t){return St({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function y9(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"},child:[]}]})(t)}function v9(){const[t,e]=O.useState(!1);return o.jsxs("div",{className:"w-full",children:[o.jsx(no,{to:"/admin/dashboard",icon:l9,text:"Dashboard"}),o.jsx(no,{to:"/admin/download",icon:Ww,text:"Download App"}),o.jsx(Gg,{text:"Market"}),o.jsx(no,{to:"/admin/crop-category",icon:c9,text:"View Market"}),o.jsx(Gg,{text:"Analytics"}),o.jsx(no,{to:"/admin/MarketAnalytics",icon:_k,text:"Market Analytics"}),o.jsx(no,{to:"/admin/salesAnalytics",icon:nv,text:"Sales Analytics"}),o.jsx(no,{to:"/admin/newUsersAnalytics",icon:y9,text:"Users Analytics"}),o.jsx(no,{to:"/admin/OrdersAnalytics",icon:a9,text:"Orders Analytics"}),o.jsx(Gg,{text:"Admin"}),o.jsxs("button",{className:"sidebar-item w-full",onClick:()=>e(!t),children:[o.jsx(f9,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:"Dev Menu"}),o.jsx(g9,{className:`${t?"rotate-180":"rotate-0"} dropdown-arrow`})]}),o.jsxs("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-screen":"max-h-0 overflow-hidden"}`,children:[o.jsx(Ps,{to:"/admin/user_type",icon:Ud,text:"User Type"}),o.jsx(Ps,{to:"/admin/users",icon:Ud,text:"Users"}),o.jsx(Ps,{to:"/admin/shops",icon:R2,text:"Shops"}),o.jsx(Ps,{to:"/admin/crop_category",icon:jg,text:"Crop Category"}),o.jsx(Ps,{to:"/admin/crop_sub_category",icon:jg,text:"Crop Subcategory"}),o.jsx(Ps,{to:"/admin/crop_variety",icon:jg,text:"Crop Variety"}),o.jsx(Ps,{to:"/admin/metric_system",icon:Nk,text:"Metric System"}),o.jsx(Ps,{to:"/admin/crops",icon:dk,text:"Crops"}),o.jsx(Ps,{to:"/admin/orders",icon:nv,text:"Orders"}),o.jsx(Ps,{to:"/admin/order_products",icon:fk,text:"Order Products"}),o.jsx(Ps,{to:"/admin/reviews",icon:ak,text:"Reviews"})]})]})}function b9(){const[t,e]=O.useState(!1);return o.jsxs("div",{className:"w-full",children:[o.jsxs("button",{className:"w-full flex items-center p-2 hover:bg-gray-100 rounded-lg",onClick:()=>e(!t),children:[o.jsx(Uw,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:"Seller Menu"}),o.jsx("svg",{className:`ml-auto w-4 h-4 ${t?"rotate-180":"rotate-0"} transition-transform`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-screen":"max-h-0 overflow-hidden"}`,children:o.jsxs(Sm,{to:"/seller/sample",className:"dropdown-item",children:[o.jsx(R2,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:"Sample"})]})})]})}function _9(){const[t,e]=O.useState(!1);return o.jsxs("div",{className:"w-full",children:[o.jsxs("button",{className:"w-full flex items-center p-2 hover:bg-gray-100 rounded-lg",onClick:()=>e(!t),children:[o.jsx(Uw,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:"Seller Menu"}),o.jsx("svg",{className:`ml-auto w-4 h-4 ${t?"rotate-180":"rotate-0"} transition-transform`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-screen":"max-h-0 overflow-hidden"}`,children:o.jsxs(Sm,{to:"/buyer/sample",className:"dropdown-item",children:[o.jsx(R2,{className:"sidebar-icon"}),o.jsx("span",{className:"sidebar-text",children:"Sample"})]})})]})}function w9(){return o.jsxs("div",{className:"w-full",children:[o.jsx(no,{to:"/",icon:h9,text:"About"}),o.jsx(no,{to:"/download",icon:Ww,text:"Download App"})]})}function N9({onConfirm:t,onCancel:e}){const n=r=>{r.target===r.currentTarget&&e()};return o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",onClick:n,children:o.jsxs("div",{className:"bg-slate-50 p-5 rounded-lg shadow-lg max-w-md w-full text-black transform transition-all duration-300 scale-95",onClick:r=>r.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 align-middle",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 text-center",children:"Confirm Logout"}),o.jsx("button",{onClick:e,className:"",children:o.jsx(p9,{className:"text-4xl"})})]}),o.jsx("p",{className:"text-gray-600",children:"Are you sure you want to log out? You will be returned to the login screen."}),o.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[o.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-md shadow-sm transition-all",onClick:e,children:"Cancel"}),o.jsx("button",{className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-md shadow-sm transition-all",onClick:t,children:"Yes, Logout"})]})]})})}function Xb(t){return St({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 17h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 10h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 3h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2z"},child:[]}]})(t)}co("http://localhost:8080");function j9({userType:t}){const[e,n]=O.useState(window.innerWidth);O.useState(!1);const[r,i]=O.useState(!0),[s,a]=O.useState(!0);Cn();const c=br(),u=()=>{i(f=>!f)},h=()=>{a(f=>!f)};return O.useEffect(()=>{const f=()=>{const m=window.innerWidth;(e<=767&&m>767||e>767&&m<=767)&&n(m)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[e]),O.useEffect(()=>{window.innerWidth<=767?(i(!0),a(!1)):(i(!1),a(!0))},[e]),O.useEffect(()=>{window.innerWidth<=767&&a(!1)},[c]),o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:h,className:`menu-toggle-button ${s?"hidden":""}`,children:o.jsx(Xb,{})}),o.jsxs("div",{className:`sidebar ${r?"pinned":""} ${s?"":"hidden"}`,children:[o.jsx("div",{className:"TitleContainer border-b border-[#00b250] h-12 md:h-16",children:o.jsxs("div",{className:"flex items-center mb-5",children:[o.jsx("button",{onClick:h,className:`mobile-hide-button ${s?"hidden":""}`,children:o.jsx(Xb,{})}),o.jsx("img",{src:"/AgriTayo_Logo.svg",alt:"AgriTayo Logo",className:"ml-14 h-10 md:h-12 md:ml-4 md:mt-1"}),o.jsx("h2",{className:"sidebar-title ",children:"AgriTayo"})]})}),t===null&&o.jsx(w9,{}),t===1&&o.jsx(v9,{}),t===2&&o.jsx(b9,{}),t===3&&o.jsx(_9,{}),t?o.jsx(o.Fragment,{}):o.jsx(no,{className:"align-bottom",to:"/login",icon:t3,text:"Login"}),o.jsx("button",{onClick:u,className:`pin-button ${window.innerWidth<=767?"hidden":""}`,children:r?o.jsx(u9,{}):o.jsx(d9,{})})]})]})}const Jb="AgriTayoAPIKey2024";function S9({passedKey:t}){const[e,n]=O.useState(!1),[r,i]=O.useState(!1),[s,a]=O.useState(""),[c,u]=O.useState([]),[h,f]=O.useState(null),m=O.useRef(null),x=Cn(),g=()=>{n(w=>!w)},b=w=>{m.current&&!m.current.contains(w.target)&&n(!1)},N=()=>{i(!0),n(!1)},k=()=>{i(!1),x("/logout")},v=()=>{i(!1)};return O.useEffect(()=>{const w=async()=>{try{const E=await fetch("/api/users",{headers:{"x-api-key":Jb}});if(E.ok){const T=await E.json();u(T)}else console.error("Failed to fetch users:",E.statusText)}catch(E){console.error("Error fetching users:",E)}};return(async()=>{try{const E=await fetch("/api/session",{headers:{"x-api-key":Jb}});if(E.ok){const T=await E.json(),{user_id:F}=T;f(F),w()}else console.error("Failed to fetch user session:",E.statusText)}catch(E){console.error("Error fetching user session:",E)}})(),document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),O.useEffect(()=>{if(h&&c.length>0){const w=c.find(j=>j.user_id===h);w&&w.user_image_url&&a(w.user_image_url)}},[h,c]),o.jsxs("div",{className:"relative ml-3",children:[o.jsx("div",{children:o.jsxs("button",{onClick:g,className:"relative flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[o.jsx("span",{className:"absolute -inset-1.5"}),o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("img",{alt:"User Avatar",src:s||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",className:"h-8 w-8 rounded-full"})]})}),e&&o.jsxs("div",{ref:m,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-emerald-100 py-1 shadow-lg ring-1 ring-[#00b251] ring-opacity-5 transition",role:"menu","aria-orientation":"vertical",children:[o.jsx("a",{href:"/admin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-[#00b251]",role:"menuitem",children:"Your Profile"}),o.jsx("button",{onClick:N,className:"block w-full px-4 py-2 text-sm text-gray-700 hover:bg-[#00b251] text-left",role:"menuitem",children:"Sign out"})]}),r&&o.jsx(N9,{onConfirm:k,onCancel:v})]})}const k9=({unreadCount:t,unreadNotifCount:e,hasNewMessage:n,handleChatClick:r,toggleNotificationModal:i,refreshProfile:s})=>o.jsxs("nav",{className:"flex items-center justify-between bg-[#eefff4] border-[#00b250] text-[#01a149] z-[1000] px-5 h-12 border-b w-full fixed top-0 left-0 box-border md:h-16",children:[o.jsx("div",{className:"topspacer"}),o.jsxs("div",{className:"topnav-links",children:[o.jsx("div",{className:"topnav-item relative",onClick:i,children:o.jsxs("span",{className:"topnav-icon-container",children:[o.jsx(o9,{className:`topnav-icon-chat text-2xl md:text-2xl ${e>0?"text-red-500":""}`}),e>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e})]})}),o.jsx("div",{className:"topnav-item relative",onClick:r,children:o.jsxs("span",{className:"topnav-icon-container",children:[o.jsx(s9,{className:`topnav-icon-chat text-2xl md:text-2xl ${n}`}),t>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:t})]})}),o.jsx(S9,{},s)]})]});function C9(){}function P9(){}const L9=()=>{const t=Cn(),e=()=>{t("/login")};return o.jsx("nav",{className:"flex items-center justify-between bg-[#eefff4] border-[#00b250] text-[#01a149] z-[1000] px-5 h-12 border-b w-full fixed top-0 left-0 box-border md:h-16",children:o.jsx("div",{className:"topnav-links absolute inset-y-0 right-0 mr-10",children:o.jsx("div",{className:"topnav-item relative",onClick:e,children:o.jsxs("span",{className:"grid grid-cols-2 text-l cursor-pointer",children:[o.jsx(t3,{className:"text-2xl"}),o.jsx("p",{children:"Login"})]})})})})},Xg="AgriTayoAPIKey2024";let Jf;function A9({userId:t,isOpen:e,onClose:n}){const[r,i]=O.useState([]),[s,a]=O.useState("unread");O.useEffect(()=>(Jf=co(),Jf.on("notification",f=>{f.user_id===t&&i(m=>[...m,f])}),(async()=>{try{const f=await fetch("/api/notifications",{headers:{"x-api-key":Xg}});if(!f.ok)throw new Error("Network response was not ok");const x=(await f.json()).filter(g=>g.user_id==t);i(x)}catch(f){console.error("Error fetching notifications:",f)}})(),()=>{Jf.off("notification"),Jf.disconnect()}),[t]);const c=async h=>{try{await fetch(`/api/notifications/${h}`,{method:"PUT",headers:{"x-api-key":Xg}}),i(f=>f.map(m=>m.notification_id===h?{...m,is_read:!0}:m))}catch(f){console.error("Error marking notification as read:",f)}},u=async()=>{try{await fetch("/api/notifications/mark-all-as-read",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Xg},body:JSON.stringify({user_id:t})}),i(h=>h.map(f=>({...f,is_read:!0})))}catch(h){console.error("Error marking all notifications as read:",h)}};return e?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100",children:[o.jsxs("div",{className:"relative border-b border-gray-100",children:[o.jsx("button",{className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:n,"aria-label":"Close notifications",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("div",{className:"flex",children:["unread","read"].map(h=>o.jsx("button",{className:`flex-1 py-4 px-6 text-sm font-medium transition-colors duration-200
                                    ${s===h?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>a(h),children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),o.jsx("div",{className:"p-4 bg-gray-50",children:o.jsx("button",{className:`w-full bg-green-600 hover:bg-green-700 text-white rounded-lg px-4 py-2 
                            transition-colors duration-200 font-medium text-sm focus:outline-none 
                            focus:ring-2 focus:ring-green-500 focus:ring-offset-2`,onClick:u,children:"Mark All as Read"})}),o.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4 space-y-3",children:r.length>0?r.filter(h=>s==="unread"?!h.is_read:h.is_read).map(h=>o.jsx("div",{className:`rounded-lg p-4 transition-all duration-200 
                                        ${h.is_read?"bg-gray-50 hover:bg-gray-100":"bg-green-50 hover:bg-green-100"}`,children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:h.title}),o.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:h.message}),o.jsx("span",{className:"mt-2 text-xs text-gray-500",children:new Date(h.created_at).toLocaleString()})]}),!h.is_read&&o.jsx("button",{className:`flex-shrink-0 text-sm font-medium text-green-600 
                                                    hover:text-green-700 transition-colors duration-200`,onClick:()=>c(h.notification_id),children:"Mark as Read"})]})},h.notification_id)):o.jsx("div",{className:"text-center py-8",children:o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",s," notifications"]})})}),o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-center text-gray-500",children:"You're all caught up!"})})]})}):null}const Jg="AgriTayoAPIKey2024";let Qg;const Qb=({src:t,alt:e,className:n})=>{const[r,i]=O.useState(!1),s=a=>(a==null?void 0:a.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2))||"??";return r||!t?o.jsx("div",{className:`${n} bg-green-100 flex items-center justify-center`,children:o.jsx("span",{className:"text-green-700 font-semibold text-lg",children:s(e)})}):o.jsx("img",{src:t,alt:e,className:n,onError:()=>i(!0)})};function E9({isOpen:t,onClose:e,userId:n,onMessagesRead:r}){const[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState([]),[x,g]=O.useState("User"),[b,N]=O.useState(new Set),[k,v]=O.useState(""),[w,j]=O.useState(""),E=Cn(),[T,F]=O.useState([]),[D,P]=O.useState([]);O.useEffect(()=>((async()=>{if(n)try{const U=await fetch("/api/chats",{headers:{"x-api-key":Jg}});if(U.ok){const le=await U.json(),Q=Array.from(new Set(le.filter(M=>M.sender_type==="User"||M.receiver_type==="User").map(M=>M.sender_id===n?M.receiver_id:M.sender_id))),Z=Array.from(new Set(le.filter(M=>M.sender_type==="Shop"||M.receiver_type==="Shop").map(M=>M.sender_id===n?M.receiver_id:M.sender_id))),H=await fetch("/api/users",{headers:{"x-api-key":Jg}}),q=await fetch("/api/shops",{headers:{"x-api-key":Jg}});if(H.ok&&q.ok){const M=await H.json(),B=await q.json(),G=Q.map(ne=>M.find(he=>he.user_id===ne)),$=Z.map(ne=>B.find(he=>(he==null?void 0:he.shop_id)===ne));s(G),F(M),h(G),c($),P(B),m($)}const ee=le.filter(M=>M.receiver_id===n&&!M.is_read),te=new Set(ee.map(M=>M.sender_id));N(te)}else console.error("Failed to fetch chats:",U.statusText)}catch(U){console.error("Error fetching data:",U),j("Failed to fetch data. Please try again.")}})(),Qg=co(),Qg.on("chat message",U=>{U.receiver_id===n&&!U.is_read&&N(le=>new Set(le).add(U.sender_id))}),()=>{Qg.disconnect()}),[n]);const Y=K=>{E(`/admin/chat/${K}/User`),r(),e()},V=K=>{E(`/admin/chat/${K}/Shop`),r(),e()},I=K=>{g(K),v("")},R=K=>{const U=K.target.value.toLowerCase();if(v(U),x==="User")if(U){const le=T.filter(Q=>{var Z;return(Z=Q==null?void 0:Q.firstname)==null?void 0:Z.toLowerCase().includes(U)});h(le)}else h(i);else if(U){const le=D.filter(Q=>{var Z;return(Z=Q==null?void 0:Q.shop_name)==null?void 0:Z.toLowerCase().includes(U)});m(le)}else m(a)};return t?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl transform transition-all duration-300",children:[o.jsxs("div",{className:"relative border-b border-gray-100 p-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Messages"}),o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",onClick:e,"aria-label":"Close chat",children:o.jsx(e3,{size:24,className:"text-gray-500"})})]}),o.jsx("div",{className:"mt-4",children:o.jsx("input",{type:"text",value:k,onChange:R,placeholder:"Search conversations...",className:`w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 
                                focus:ring-green-500 focus:border-transparent transition-all duration-200`})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 p-4",children:["User","Shop"].map(K=>o.jsxs("button",{onClick:()=>I(K),className:`py-2 px-4 rounded-lg font-medium transition-all duration-200
                                ${x===K?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[K," Chats"]},K))}),w&&o.jsx("div",{className:"px-4 py-2 bg-red-50 text-red-600 text-sm",children:w}),o.jsx("div",{className:"overflow-y-auto max-h-[60vh] p-4 space-y-3",children:x==="User"?u.length>0?u.map(K=>K&&K.user_id&&o.jsxs("div",{onClick:()=>Y(K.user_id),className:`flex items-center p-3 rounded-lg cursor-pointer
                                        transition-all duration-200 hover:bg-gray-50
                                        ${b.has(K.user_id)?"bg-green-50":"bg-white"}
                                        border border-gray-200 hover:border-green-500`,children:[o.jsx(Qb,{src:K.user_image_url,alt:K.firstname||"User",className:"w-12 h-12 rounded-full"}),o.jsxs("div",{className:"ml-4 flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:K.firstname||"Unnamed User"}),b.has(K.user_id)&&o.jsx("span",{className:"text-sm text-green-600 font-medium",children:"New message"})]})]},K.user_id)):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found"}):f.length>0?f.map(K=>K&&K.shop_id&&o.jsxs("div",{onClick:()=>V(K.shop_id),className:`flex items-center p-3 rounded-lg cursor-pointer
                                        transition-all duration-200 hover:bg-gray-50
                                        ${b.has(K.shop_id)?"bg-green-50":"bg-white"}
                                        border border-gray-200 hover:border-green-500`,children:[o.jsx(Qb,{src:K.shop_image_url,alt:K.shop_name||"Shop",className:"w-12 h-12 rounded-full"}),o.jsxs("div",{className:"ml-4 flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:K.shop_name||"Unnamed Shop"}),b.has(K.shop_id)&&o.jsx("span",{className:"text-sm text-green-600 font-medium",children:"New message"})]})]},K.shop_id)):o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No shops found"})})]})}):null}const Qf=co();function M9({userType:t,userId:e,refreshProfile:n}){const[r,i]=O.useState(!1),[s,a]=O.useState(!1),[c,u]=O.useState(!1),[h,f]=O.useState(0),[m,x]=O.useState(0),g=br(),b=g.pathname.startsWith("/chat/")?parseInt(g.pathname.split("/").pop(),10):null;O.useEffect(()=>e?((async()=>{try{const j=await fetch("/api/chats",{headers:{"x-api-key":"AgriTayoAPIKey2024"}});if(j.ok){const T=(await j.json()).filter(F=>F.receiver_id===e&&!F.is_read);f(0),u(T.length>0)}}catch(j){console.error("Error fetching unread messages:",j)}})(),Qf.on("chat message",j=>{j.receiver_id===e&&!j.is_read&&j.sender_id!==b&&(u(!0),f(E=>E+1))}),()=>{Qf.off("chat message")}):void 0,[e,b,g.pathname]);const N=()=>{u(!1),f(0)},k=()=>{i(!0),N()};O.useEffect(()=>e?((async()=>{try{const j=await fetch("/api/notification",{headers:{"x-api-key":"AgriTayoAPIKey2024"}});if(j.ok){const T=(await j.json()).filter(F=>F.user_id===e&&!F.is_read);x(T.length)}}catch(j){console.error("Error fetching unread notifications:",j)}})(),Qf.on("notification",j=>{j.user_id===e&&!j.is_read&&x(E=>E+1)}),()=>{Qf.off("notification")}):void 0,[e,b,g.pathname]);const v=()=>{a(w=>!w),s||x(0)};return o.jsxs("div",{children:[t===null&&o.jsx(L9,{}),t===1&&o.jsx(k9,{unreadCount:h,unreadNotifCount:m,hasNewMessage:c,handleChatClick:k,toggleNotificationModal:v,refreshProfile:n}),t===2&&o.jsx(C9,{}),t===3&&o.jsx(P9,{}),r&&o.jsx(E9,{isOpen:r,onMessagesRead:N,onClose:()=>i(!1),userId:e}),s&&o.jsx(A9,{userId:e,isOpen:s,onClose:v})]})}const e0="AgriTayoAPIKey2024";function T9({onProfileUpdate:t}){const[e,n]=O.useState([]),[r,i]=O.useState(""),[s,a]=O.useState(!0),[c,u]=O.useState(null),[h,f]=O.useState(null),[m,x]=O.useState(null),[g,b]=O.useState("");O.useState(!1);const N=Cn();async function k(){try{const T=await fetch("/api/session",{headers:{"x-api-key":e0}});if(T.ok){const F=await T.json();i(F.user_id)}else console.error("Failed to fetch user session:",T.statusText)}catch(T){console.error("Error fetching user session:",T.message)}finally{a(!1)}}const v=async()=>{try{const T=await fetch("/api/users",{headers:{"x-api-key":e0}});if(!T.ok)throw new Error("Network response was not ok");const F=await T.json();n(F)}catch(T){console.error("Error fetching users:",T)}};O.useEffect(()=>{v(),k()},[]),O.useEffect(()=>{if(r&&e.length>0){const T=e.find(F=>F.user_id===r);u(T),T&&T.user_image_url&&x(T.user_image_url)}},[r,e]);const w=T=>{const{name:F,value:D}=T.target;u(P=>({...P,[F]:D}))},j=T=>{const F=T.target.files[0];f(F),x(URL.createObjectURL(F))},E=async T=>{if(T.preventDefault(),b(""),c){const F=new FormData;F.append("firstname",c.firstname),F.append("middlename",c.middlename),F.append("lastname",c.lastname),F.append("user_type_id",c.user_type_id),F.append("phone_number",c.phone_number),F.append("secondary_phone_number",c.secondary_phone_number),F.append("birthday",c.birthday),h&&F.append("image",h);try{const D=await fetch(`/api/users/${c.user_id}`,{method:"PUT",headers:{"x-api-key":e0},body:F});if(D.ok){const P=await D.json();b("Profile updated successfully!"),f(null),document.querySelector('input[name="image"]').value="",await v(),typeof t=="function"&&t(),console.log("Update successful:",P)}else{const P=await D.json();b(`Failed to update profile: ${P.message||D.statusText}`),console.error("Failed to update user:",P)}}catch(D){b("Error updating profile."),console.error("Error updating user:",D)}}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[rgb(182,244,146)] to-[rgb(51,139,147)]",children:s?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(wk,{className:"w-12 h-12 text-white animate-spin"})}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 max-w-4xl mx-auto backdrop-blur-lg bg-opacity-90",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"My Profile"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Manage and protect your account"}),g&&o.jsx("div",{className:`p-4 mb-6 rounded-lg ${g.includes("successfully")?"bg-green-100 text-green-700 border-l-4 border-green-500":"bg-red-100 text-red-700 border-l-4 border-red-500"}`,children:g}),c?o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"col-span-full flex flex-col items-center space-y-4",children:o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:m||"/default-profile.png",alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg transition-transform group-hover:scale-105"}),o.jsxs("label",{htmlFor:"file-input",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50 transition-all",children:[o.jsx(uk,{className:"w-5 h-5 text-gray-600"}),o.jsx("input",{type:"file",name:"image",accept:"image/*",id:"file-input",onChange:j,className:"hidden"})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ud,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"text",name:"firstname",value:c.firstname,onChange:w,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ud,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"text",name:"middlename",value:c.middlename,onChange:w,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ud,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"text",name:"lastname",value:c.lastname,onChange:w,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),o.jsxs("div",{className:"flex items-center relative",children:[o.jsx(iv,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"text",name:"phone_number",value:c.phone_number,readOnly:!0,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 bg-gray-50"}),o.jsx("button",{type:"button",onClick:()=>N("/admin/editPhoneNumber",{state:{userId:r}}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(rv,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternative Phone Number"}),o.jsxs("div",{className:"flex items-center relative",children:[o.jsx(iv,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"text",name:"secondary_phone_number",value:c.secondary_phone_number,readOnly:!0,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 bg-gray-50"}),o.jsx("button",{type:"button",onClick:()=>N("/admin/editAlternativeNumber",{state:{userId:r}}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(rv,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("button",{type:"button",onClick:()=>N("/admin/changePasswordOTP",{state:{userId:r,filteredUser:c}}),className:"w-full pl-10 px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02]",children:"Change Password"})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birthday"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ck,{className:"absolute ml-3 text-gray-400"}),o.jsx("input",{type:"date",name:"birthday",value:c.birthday,onChange:w,className:"w-full pl-10 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})})]}),o.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] font-medium",children:"Save Changes"})]}):o.jsx("div",{className:"text-center py-8 text-gray-600",children:"No user data found"})]})})})}const t0="AgriTayoAPIKey2024";function O9(){var ee;const e=(ee=br().state)==null?void 0:ee.userId,n=Cn(),[r,i]=O.useState(""),[s,a]=O.useState(""),[c,u]=O.useState(!1),[h,f]=O.useState(!1),[m,x]=O.useState(""),[g,b]=O.useState(""),[N,k]=O.useState(""),[v,w]=O.useState(10*60),[j,E]=O.useState(!1),[T,F]=O.useState(!1),[D,P]=O.useState(""),[Y,V]=O.useState("success"),I=/^(?:\+63|0)9\d{2}[-\s]?\d{3}[-\s]?\d{4}$/,[R,K]=O.useState([]),[U,le]=O.useState([]);O.useEffect(()=>{r&&!I.test(r)?a("Invalid phone number format. Please use 09 followed by 9 digits."):a("")},[r]),O.useEffect(()=>{h&&(R.includes(r)||U.includes(r)?(V("error"),P("Phone Number is already registered"),F(!0),f(!1)):((async()=>{const M=Math.floor(1e5+Math.random()*9e5).toString();k(M);const B="AgriTayo",G=`Your OTP code is: ${M}`,$=r;try{const ne=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t0},body:JSON.stringify({title:B,message:G,phone_number:$})});if(!ne.ok)throw new Error("Network response was not ok");const he=await ne.json();console.log("SMS sent successfully:",he),V("success"),P("Message sent successfully!"),F(!0)}catch{V("error"),P("Failed to send the message."),F(!0)}})(),w(10*60)))},[h,r,R,U]),O.useEffect(()=>{(async()=>{try{const M=await fetch("/api/users",{headers:{"x-api-key":t0}});if(M.ok){const B=await M.json();K(B.map(G=>G.phone_number)),le(B.map(G=>G.secondary_phone_number))}}catch(M){console.error("Error fetching phone numbers:",M)}})()},[]),O.useEffect(()=>{if(v>0){const te=setInterval(()=>w(M=>M-1),1e3);return()=>clearInterval(te)}else E(!0)},[v]);const Q=te=>{const M=Math.floor(te/60),B=te%60;return`${String(M).padStart(2,"0")}:${String(B).padStart(2,"0")}`},Z=async te=>{if(te.preventDefault(),isNaN(m))b("Please enter numbers only.");else if(m.length<6)b("Enter the 6-digit code.");else if(m!==N)b("Invalid OTP. Please try again.");else{const M=new FormData;M.append("edit_phone_number",r),u(!0);try{(await fetch(`/api/editPhoneNumber/${e}`,{method:"PUT",headers:{"x-api-key":t0},body:M})).ok?(V("success"),P("Success! Phone number updated."),F(!0),setTimeout(()=>{n("/admin/profile")},1500)):(V("error"),P("Failed to update phone number."),F(!0))}catch{V("error"),P("An error occurred. Please try again."),F(!0)}finally{u(!1)}}},H=()=>{r?I.test(r)?f(!0):a("Invalid phone number format."):a("Enter your new phone number")},q=()=>{w(10*60),E(!1),f(!0)};return console.log(N),c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex justify-center items-center",children:o.jsx("div",{className:"loading text-white text-xl",children:"Loading..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 max-w-md w-full backdrop-blur-lg bg-opacity-90",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Phone Number"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Update your contact information"}),h?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-600 mb-4",children:["A 6-digit code has been sent to",o.jsx("span",{className:"font-semibold block",children:r})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Enter 6-digit code",maxLength:"6",value:m,onChange:te=>x(te.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),g&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:g})]}),o.jsx("button",{onClick:Z,className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] font-medium",children:"Verify"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-gray-600",children:"Didn't receive the code?"}),o.jsx("button",{onClick:q,disabled:!j,className:`w-full py-2 rounded-lg transition-all ${j?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600 transform hover:scale-[1.02]":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Resend"})]}),v>0&&o.jsxs("p",{className:"text-gray-600 text-sm text-center",children:["Code expires in ",Q(v)]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Enter new phone number",value:r,onChange:te=>i(te.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),s&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]}),o.jsx("button",{onClick:H,className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] font-medium",children:"Confirm"})]})]})}),T&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:Y==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:D}),o.jsx("button",{onClick:()=>F(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const n0="AgriTayoAPIKey2024";function D9(){var ee;const e=(ee=br().state)==null?void 0:ee.userId,n=Cn(),[r,i]=O.useState(""),[s,a]=O.useState(""),[c,u]=O.useState(!1),[h,f]=O.useState(!1),[m,x]=O.useState(""),[g,b]=O.useState(""),[N,k]=O.useState(""),[v,w]=O.useState(10*60),[j,E]=O.useState(!1),[T,F]=O.useState(!1),[D,P]=O.useState(""),[Y,V]=O.useState("success"),I=/^(?:\+63|0)9\d{2}[-\s]?\d{3}[-\s]?\d{4}$/,[R,K]=O.useState([]),[U,le]=O.useState([]);O.useEffect(()=>{r&&!I.test(r)?a("Invalid phone number format. Please use 09 followed by 9 digits."):a("")},[r]),O.useEffect(()=>{h&&(R.includes(r)||U.includes(r)?(V("error"),P("Phone Number is already registered"),F(!0),f(!1)):((async()=>{const M=Math.floor(1e5+Math.random()*9e5).toString();k(M);const B="AgriTayo",G=`Your OTP code is: ${M}`,$=r;try{const ne=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":n0},body:JSON.stringify({title:B,message:G,phone_number:$})});if(!ne.ok)throw new Error("Network response was not ok");const he=await ne.json();console.log("SMS sent successfully:",he),V("success"),P("Message sent successfully!"),F(!0)}catch{V("error"),P("Failed to send the message."),F(!0)}})(),w(10*60)))},[h,r,R,U]),O.useEffect(()=>{(async()=>{try{const M=await fetch("/api/users",{headers:{"x-api-key":n0}});if(M.ok){const B=await M.json();K(B.map(G=>G.phone_number)),le(B.map(G=>G.secondary_phone_number))}}catch(M){console.error("Error fetching phone numbers:",M)}})()},[]),O.useEffect(()=>{if(v>0){const te=setInterval(()=>w(M=>M-1),1e3);return()=>clearInterval(te)}else E(!0)},[v]);const Q=te=>{const M=Math.floor(te/60),B=te%60;return`${String(M).padStart(2,"0")}:${String(B).padStart(2,"0")}`},Z=async te=>{if(te.preventDefault(),isNaN(m))b("Please enter numbers only.");else if(m.length<6)b("Enter the 6-digit code.");else if(m!==N)b("Invalid OTP. Please try again.");else{const M=new FormData;M.append("edit_secondary_phone_number",r),u(!0);try{(await fetch(`/api/editSecondaryPhoneNumber/${e}`,{method:"PUT",headers:{"x-api-key":n0},body:M})).ok?(V("success"),P("Success! Alternative phone number updated."),F(!0),setTimeout(()=>{n("/admin/profile")},1500)):(V("error"),P("Failed to update alternative phone number."),F(!0))}catch{V("error"),P("An error occurred. Please try again."),F(!0)}finally{u(!1)}}},H=()=>{r?I.test(r)?f(!0):a("Invalid alternative phone number format."):a("Enter your new alternative phone number")},q=()=>{w(10*60),E(!1),f(!0)};return console.log(N),c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex justify-center items-center",children:o.jsx("div",{className:"loading text-white text-xl",children:"Loading..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[rgb(182,244,146)] to-[rgb(51,139,147)] flex items-center justify-center p-4",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 max-w-md w-full backdrop-blur-lg bg-opacity-90",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Alternative Number"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Update your secondary contact information"}),h?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-600 mb-4",children:["A 6-digit code has been sent to",o.jsx("span",{className:"font-semibold block",children:r})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Enter 6-digit code",maxLength:"6",value:m,onChange:te=>x(te.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-center text-lg tracking-wider"}),g&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:g})]}),o.jsx("button",{onClick:Z,className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] font-medium",children:"Verify"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-gray-600",children:"Didn't receive the code?"}),o.jsx("button",{onClick:q,disabled:!j,className:`w-full py-2 rounded-lg transition-all ${j?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600 transform hover:scale-[1.02]":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Resend"})]}),v>0&&o.jsxs("p",{className:"text-gray-600 text-sm text-center",children:["Code expires in ",Q(v)]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Enter new alternative number",value:r,onChange:te=>i(te.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),s&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]}),o.jsx("button",{onClick:H,className:"w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-3 rounded-lg hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] font-medium",children:"Confirm"})]})]})}),T&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:Y==="success"?o.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("p",{className:"text-center text-gray-700 mb-4",children:D}),o.jsx("button",{onClick:()=>F(!1),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})]})}const I9="AgriTayoAPIKey2024";function R9(){var E,T;const t=br(),e=(E=t.state)==null?void 0:E.userId,n=(T=t.state)==null?void 0:T.filteredUser,r=Cn(),[i,s]=O.useState(""),[a,c]=O.useState(!1),[u,h]=O.useState(""),[f,m]=O.useState(!1),[x,g]=O.useState(10*60),[b,N]=O.useState(""),k=async()=>{const F=Math.floor(1e5+Math.random()*9e5).toString();s(F);const D="AgriTayo",P=`Your OTP code is: ${F}`,Y=n.phone_number;try{const V=await fetch("/api/sms_sender",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":I9},body:JSON.stringify({title:D,message:P,phone_number:Y})});if(!V.ok)throw new Error("Network response was not ok");const I=await V.json();console.log("SMS sent successfully:",I),alert("Message sent successfully!")}catch(V){console.error("Error sending SMS:",V),alert("Failed to send the message.")}};O.useEffect(()=>{k()},[n.phone_number]),console.log(i),O.useEffect(()=>{let F=null;return x>0?F=setInterval(()=>{g(D=>D-1)},1e3):(c(!0),clearInterval(F)),()=>clearInterval(F)},[x]);const v=F=>{const D=Math.floor(F/60),P=F%60;return`${String(D).padStart(2,"0")}:${String(P).padStart(2,"0")}`},w=async F=>{h(""),F.preventDefault(),isNaN(b)?h("Please enter numbers only."):b.length<6?h("Enter the 6 digit code"):b!==i?h("Invalid OTP. Please try again."):r("/admin/changePassword",{state:{userId:e}})},j=()=>{g(10*60),c(!1),k()};return f?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl flex items-center space-x-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 text-green-600",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Verifying..."})]})}):o.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(to right, rgb(182, 244, 146), rgb(51, 139, 147))"},children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[o.jsx(Cm,{className:"h-8 w-8 text-green-600"}),o.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Verify Your Number"})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("p",{className:"text-gray-600",children:"A 6-digit code has been sent to"}),o.jsx("p",{className:"font-semibold text-gray-800 mt-1",children:n.phone_number})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"     ",maxLength:"6",value:b,onChange:F=>N(F.target.value),className:`w-full px-4 py-3 text-center text-2xl tracking-[1em] rounded-lg border 
                                    ${u?"border-red-500 bg-red-50":"border-gray-300"} 
                                    focus:ring-2 focus:ring-green-500 focus:border-transparent 
                                    transition-all duration-200 font-mono placeholder:tracking-[0.75em]`}),u&&o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-500",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("p",{className:"text-sm",children:u})]})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xh,{className:"h-5 w-5 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:x>0?`Code expires in ${v(x)}`:"Code expired"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Didn't receive the code?"}),o.jsx("button",{onClick:a?j:null,disabled:!a,className:`text-sm font-semibold px-3 py-1 rounded-lg
                                        ${a?"text-green-600 hover:bg-green-50 active:bg-green-100":"text-gray-400"} transition-all duration-200`,children:"Resend Code"})]})]}),o.jsx("button",{onClick:w,className:`w-full bg-green-600 text-white py-4 rounded-xl font-semibold
                                hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 
                                focus:ring-green-500 focus:ring-offset-2 transform transition-all 
                                duration-200 hover:scale-[1.02] disabled:opacity-50 
                                disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:"Verify Number"})]})]})})})}function F9(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const B9=1;function z9(t){return Object.freeze({__version:B9,map:t})}function U9(t,e){return Object.freeze({...t,...e})}const n3=O.createContext(null),r3=n3.Provider;function i3(){const t=O.useContext(n3);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function W9(t){function e(n,r){const{instance:i,context:s}=t(n).current;return O.useImperativeHandle(r,()=>i),n.children==null?null:ki.createElement(r3,{value:s},n.children)}return O.forwardRef(e)}function H9(t){function e(n,r){const{instance:i}=t(n).current;return O.useImperativeHandle(r,()=>i),null}return O.forwardRef(e)}function q9(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function s3(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var T1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(np,function(n){var r="1.9.4";function i(l){var d,y,C,W;for(y=1,C=arguments.length;y<C;y++){W=arguments[y];for(d in W)l[d]=W[d]}return l}var s=Object.create||function(){function l(){}return function(d){return l.prototype=d,new l}}();function a(l,d){var y=Array.prototype.slice;if(l.bind)return l.bind.apply(l,y.call(arguments,1));var C=y.call(arguments,2);return function(){return l.apply(d,C.length?C.concat(y.call(arguments)):arguments)}}var c=0;function u(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function h(l,d,y){var C,W,se,me;return me=function(){C=!1,W&&(se.apply(y,W),W=!1)},se=function(){C?W=arguments:(l.apply(y,arguments),setTimeout(me,d),C=!0)},se}function f(l,d,y){var C=d[1],W=d[0],se=C-W;return l===C&&y?l:((l-W)%se+se)%se+W}function m(){return!1}function x(l,d){if(d===!1)return l;var y=Math.pow(10,d===void 0?6:d);return Math.round(l*y)/y}function g(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function b(l){return g(l).split(/\s+/)}function N(l,d){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?s(l.options):{});for(var y in d)l.options[y]=d[y];return l.options}function k(l,d,y){var C=[];for(var W in l)C.push(encodeURIComponent(y?W.toUpperCase():W)+"="+encodeURIComponent(l[W]));return(!d||d.indexOf("?")===-1?"?":"&")+C.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function w(l,d){return l.replace(v,function(y,C){var W=d[C];if(W===void 0)throw new Error("No value provided for variable "+y);return typeof W=="function"&&(W=W(d)),W})}var j=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function E(l,d){for(var y=0;y<l.length;y++)if(l[y]===d)return y;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var D=0;function P(l){var d=+new Date,y=Math.max(0,16-(d-D));return D=d+y,window.setTimeout(l,y)}var Y=window.requestAnimationFrame||F("RequestAnimationFrame")||P,V=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function I(l,d,y){if(y&&Y===P)l.call(d);else return Y.call(window,a(l,d))}function R(l){l&&V.call(window,l)}var K={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:u,throttle:h,wrapNum:f,falseFn:m,formatNum:x,trim:g,splitWords:b,setOptions:N,getParamString:k,template:w,isArray:j,indexOf:E,emptyImageUrl:T,requestFn:Y,cancelFn:V,requestAnimFrame:I,cancelAnimFrame:R};function U(){}U.extend=function(l){var d=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=d.__super__=this.prototype,C=s(y);C.constructor=d,d.prototype=C;for(var W in this)Object.prototype.hasOwnProperty.call(this,W)&&W!=="prototype"&&W!=="__super__"&&(d[W]=this[W]);return l.statics&&i(d,l.statics),l.includes&&(le(l.includes),i.apply(null,[C].concat(l.includes))),i(C,l),delete C.statics,delete C.includes,C.options&&(C.options=y.options?s(y.options):{},i(C.options,l.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var se=0,me=C._initHooks.length;se<me;se++)C._initHooks[se].call(this)}},d},U.include=function(l){var d=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=d,this.mergeOptions(l.options)),this},U.mergeOptions=function(l){return i(this.prototype.options,l),this},U.addInitHook=function(l){var d=Array.prototype.slice.call(arguments,1),y=typeof l=="function"?l:function(){this[l].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function le(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=j(l)?l:[l];for(var d=0;d<l.length;d++)l[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(l,d,y){if(typeof l=="object")for(var C in l)this._on(C,l[C],d);else{l=b(l);for(var W=0,se=l.length;W<se;W++)this._on(l[W],d,y)}return this},off:function(l,d,y){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var C in l)this._off(C,l[C],d);else{l=b(l);for(var W=arguments.length===1,se=0,me=l.length;se<me;se++)W?this._off(l[se]):this._off(l[se],d,y)}return this},_on:function(l,d,y,C){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(l,d,y)===!1){y===this&&(y=void 0);var W={fn:d,ctx:y};C&&(W.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(W)}},_off:function(l,d,y){var C,W,se;if(this._events&&(C=this._events[l],!!C)){if(arguments.length===1){if(this._firingCount)for(W=0,se=C.length;W<se;W++)C[W].fn=m;delete this._events[l];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var me=this._listens(l,d,y);if(me!==!1){var ke=C[me];this._firingCount&&(ke.fn=m,this._events[l]=C=C.slice()),C.splice(me,1)}}},fire:function(l,d,y){if(!this.listens(l,y))return this;var C=i({},d,{type:l,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var W=this._events[l];if(W){this._firingCount=this._firingCount+1||1;for(var se=0,me=W.length;se<me;se++){var ke=W[se],Ee=ke.fn;ke.once&&this.off(l,Ee,ke.ctx),Ee.call(ke.ctx||this,C)}this._firingCount--}}return y&&this._propagateEvent(C),this},listens:function(l,d,y,C){typeof l!="string"&&console.warn('"string" type argument expected');var W=d;typeof d!="function"&&(C=!!d,W=void 0,y=void 0);var se=this._events&&this._events[l];if(se&&se.length&&this._listens(l,W,y)!==!1)return!0;if(C){for(var me in this._eventParents)if(this._eventParents[me].listens(l,d,y,C))return!0}return!1},_listens:function(l,d,y){if(!this._events)return!1;var C=this._events[l]||[];if(!d)return!!C.length;y===this&&(y=void 0);for(var W=0,se=C.length;W<se;W++)if(C[W].fn===d&&C[W].ctx===y)return W;return!1},once:function(l,d,y){if(typeof l=="object")for(var C in l)this._on(C,l[C],d,!0);else{l=b(l);for(var W=0,se=l.length;W<se;W++)this._on(l[W],d,y,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[u(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[u(l)],this},_propagateEvent:function(l){for(var d in this._eventParents)this._eventParents[d].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var Z=U.extend(Q);function H(l,d,y){this.x=y?Math.round(l):l,this.y=y?Math.round(d):d}var q=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(l){return this.clone()._add(ee(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ee(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new H(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new H(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(l){l=ee(l);var d=l.x-this.x,y=l.y-this.y;return Math.sqrt(d*d+y*y)},equals:function(l){return l=ee(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=ee(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function ee(l,d,y){return l instanceof H?l:j(l)?new H(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new H(l.x,l.y):new H(l,d,y)}function te(l,d){if(l)for(var y=d?[l,d]:l,C=0,W=y.length;C<W;C++)this.extend(y[C])}te.prototype={extend:function(l){var d,y;if(!l)return this;if(l instanceof H||typeof l[0]=="number"||"x"in l)d=y=ee(l);else if(l=M(l),d=l.min,y=l.max,!d||!y)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=y.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(l){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var d,y;return typeof l[0]=="number"||l instanceof H?l=ee(l):l=M(l),l instanceof te?(d=l.min,y=l.max):d=y=l,d.x>=this.min.x&&y.x<=this.max.x&&d.y>=this.min.y&&y.y<=this.max.y},intersects:function(l){l=M(l);var d=this.min,y=this.max,C=l.min,W=l.max,se=W.x>=d.x&&C.x<=y.x,me=W.y>=d.y&&C.y<=y.y;return se&&me},overlaps:function(l){l=M(l);var d=this.min,y=this.max,C=l.min,W=l.max,se=W.x>d.x&&C.x<y.x,me=W.y>d.y&&C.y<y.y;return se&&me},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var d=this.min,y=this.max,C=Math.abs(d.x-y.x)*l,W=Math.abs(d.y-y.y)*l;return M(ee(d.x-C,d.y-W),ee(y.x+C,y.y+W))},equals:function(l){return l?(l=M(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function M(l,d){return!l||l instanceof te?l:new te(l,d)}function B(l,d){if(l)for(var y=d?[l,d]:l,C=0,W=y.length;C<W;C++)this.extend(y[C])}B.prototype={extend:function(l){var d=this._southWest,y=this._northEast,C,W;if(l instanceof $)C=l,W=l;else if(l instanceof B){if(C=l._southWest,W=l._northEast,!C||!W)return this}else return l?this.extend(ne(l)||G(l)):this;return!d&&!y?(this._southWest=new $(C.lat,C.lng),this._northEast=new $(W.lat,W.lng)):(d.lat=Math.min(C.lat,d.lat),d.lng=Math.min(C.lng,d.lng),y.lat=Math.max(W.lat,y.lat),y.lng=Math.max(W.lng,y.lng)),this},pad:function(l){var d=this._southWest,y=this._northEast,C=Math.abs(d.lat-y.lat)*l,W=Math.abs(d.lng-y.lng)*l;return new B(new $(d.lat-C,d.lng-W),new $(y.lat+C,y.lng+W))},getCenter:function(){return new $((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $(this.getNorth(),this.getWest())},getSouthEast:function(){return new $(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof $||"lat"in l?l=ne(l):l=G(l);var d=this._southWest,y=this._northEast,C,W;return l instanceof B?(C=l.getSouthWest(),W=l.getNorthEast()):C=W=l,C.lat>=d.lat&&W.lat<=y.lat&&C.lng>=d.lng&&W.lng<=y.lng},intersects:function(l){l=G(l);var d=this._southWest,y=this._northEast,C=l.getSouthWest(),W=l.getNorthEast(),se=W.lat>=d.lat&&C.lat<=y.lat,me=W.lng>=d.lng&&C.lng<=y.lng;return se&&me},overlaps:function(l){l=G(l);var d=this._southWest,y=this._northEast,C=l.getSouthWest(),W=l.getNorthEast(),se=W.lat>d.lat&&C.lat<y.lat,me=W.lng>d.lng&&C.lng<y.lng;return se&&me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,d){return l?(l=G(l),this._southWest.equals(l.getSouthWest(),d)&&this._northEast.equals(l.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function G(l,d){return l instanceof B?l:new B(l,d)}function $(l,d,y){if(isNaN(l)||isNaN(d))throw new Error("Invalid LatLng object: ("+l+", "+d+")");this.lat=+l,this.lng=+d,y!==void 0&&(this.alt=+y)}$.prototype={equals:function(l,d){if(!l)return!1;l=ne(l);var y=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return y<=(d===void 0?1e-9:d)},toString:function(l){return"LatLng("+x(this.lat,l)+", "+x(this.lng,l)+")"},distanceTo:function(l){return pe.distance(this,ne(l))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(l){var d=180*l/40075017,y=d/Math.cos(Math.PI/180*this.lat);return G([this.lat-d,this.lng-y],[this.lat+d,this.lng+y])},clone:function(){return new $(this.lat,this.lng,this.alt)}};function ne(l,d,y){return l instanceof $?l:j(l)&&typeof l[0]!="object"?l.length===3?new $(l[0],l[1],l[2]):l.length===2?new $(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new $(l.lat,"lng"in l?l.lng:l.lon,l.alt):d===void 0?null:new $(l,d,y)}var he={latLngToPoint:function(l,d){var y=this.projection.project(l),C=this.scale(d);return this.transformation._transform(y,C)},pointToLatLng:function(l,d){var y=this.scale(d),C=this.transformation.untransform(l,y);return this.projection.unproject(C)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var d=this.projection.bounds,y=this.scale(l),C=this.transformation.transform(d.min,y),W=this.transformation.transform(d.max,y);return new te(C,W)},infinite:!1,wrapLatLng:function(l){var d=this.wrapLng?f(l.lng,this.wrapLng,!0):l.lng,y=this.wrapLat?f(l.lat,this.wrapLat,!0):l.lat,C=l.alt;return new $(y,d,C)},wrapLatLngBounds:function(l){var d=l.getCenter(),y=this.wrapLatLng(d),C=d.lat-y.lat,W=d.lng-y.lng;if(C===0&&W===0)return l;var se=l.getSouthWest(),me=l.getNorthEast(),ke=new $(se.lat-C,se.lng-W),Ee=new $(me.lat-C,me.lng-W);return new B(ke,Ee)}},pe=i({},he,{wrapLng:[-180,180],R:6371e3,distance:function(l,d){var y=Math.PI/180,C=l.lat*y,W=d.lat*y,se=Math.sin((d.lat-l.lat)*y/2),me=Math.sin((d.lng-l.lng)*y/2),ke=se*se+Math.cos(C)*Math.cos(W)*me*me,Ee=2*Math.atan2(Math.sqrt(ke),Math.sqrt(1-ke));return this.R*Ee}}),_e=6378137,Me={R:_e,MAX_LATITUDE:85.0511287798,project:function(l){var d=Math.PI/180,y=this.MAX_LATITUDE,C=Math.max(Math.min(y,l.lat),-y),W=Math.sin(C*d);return new H(this.R*l.lng*d,this.R*Math.log((1+W)/(1-W))/2)},unproject:function(l){var d=180/Math.PI;return new $((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*d,l.x*d/this.R)},bounds:function(){var l=_e*Math.PI;return new te([-l,-l],[l,l])}()};function De(l,d,y,C){if(j(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=d,this._c=y,this._d=C}De.prototype={transform:function(l,d){return this._transform(l.clone(),d)},_transform:function(l,d){return d=d||1,l.x=d*(this._a*l.x+this._b),l.y=d*(this._c*l.y+this._d),l},untransform:function(l,d){return d=d||1,new H((l.x/d-this._b)/this._a,(l.y/d-this._d)/this._c)}};function We(l,d,y,C){return new De(l,d,y,C)}var qe=i({},pe,{code:"EPSG:3857",projection:Me,transformation:function(){var l=.5/(Math.PI*Me.R);return We(l,.5,-l,.5)}()}),mt=i({},qe,{code:"EPSG:900913"});function fe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ue(l,d){var y="",C,W,se,me,ke,Ee;for(C=0,se=l.length;C<se;C++){for(ke=l[C],W=0,me=ke.length;W<me;W++)Ee=ke[W],y+=(W?"L":"M")+Ee.x+" "+Ee.y;y+=d?it.svg?"z":"x":""}return y||"M0 0"}var ct=document.documentElement.style,Ke="ActiveXObject"in window,He=Ke&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),Ye=Zt("webkit"),Ce=Zt("android"),Re=Zt("android 2")||Zt("android 3"),Je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tt=Ce&&Zt("Google")&&Je<537&&!("AudioNode"in window),dt=!!window.opera,Nt=!Ge&&Zt("chrome"),Ut=Zt("gecko")&&!Ye&&!dt&&!Ke,_t=!Nt&&Zt("safari"),At=Zt("phantom"),Qe="OTransition"in ct,An=navigator.platform.indexOf("Win")===0,Ft=Ke&&"transition"in ct,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Re,tn="MozPerspective"in ct,Ae=!window.L_DISABLE_3D&&(Ft||nr||tn)&&!Qe&&!At,ge=typeof orientation<"u"||Zt("mobile"),Se=ge&&Ye,ze=ge&&nr,je=!window.PointerEvent&&window.MSPointerEvent,Ie=!!(window.PointerEvent||je),bt="ontouchstart"in window||!!window.TouchEvent,rt=!window.L_NO_TOUCH&&(bt||Ie),et=ge&&dt,yt=ge&&Ut,Gt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ot=function(){var l=!1;try{var d=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",m,d),window.removeEventListener("testPassiveEventSupport",m,d)}catch{}return l}(),Bt=function(){return!!document.createElement("canvas").getContext}(),nn=!!(document.createElementNS&&fe("svg").createSVGRect),lt=!!nn&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rn=!nn&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var d=l.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),Pr=navigator.platform.indexOf("Mac")===0,rr=navigator.platform.indexOf("Linux")===0;function Zt(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var it={ie:Ke,ielt9:He,edge:Ge,webkit:Ye,android:Ce,android23:Re,androidStock:tt,opera:dt,chrome:Nt,gecko:Ut,safari:_t,phantom:At,opera12:Qe,win:An,ie3d:Ft,webkit3d:nr,gecko3d:tn,any3d:Ae,mobile:ge,mobileWebkit:Se,mobileWebkit3d:ze,msPointer:je,pointer:Ie,touch:rt,touchNative:bt,mobileOpera:et,mobileGecko:yt,retina:Gt,passiveEvents:Ot,canvas:Bt,svg:nn,vml:rn,inlineSvg:lt,mac:Pr,linux:rr},Lr=it.msPointer?"MSPointerDown":"pointerdown",xo=it.msPointer?"MSPointerMove":"pointermove",$i=it.msPointer?"MSPointerUp":"pointerup",di=it.msPointer?"MSPointerCancel":"pointercancel",Zr={touchstart:Lr,touchmove:xo,touchend:$i,touchcancel:di},hi={touchstart:zu,touchmove:bo,touchend:bo,touchcancel:bo},_r={},Kr=!1;function Yi(l,d,y){return d==="touchstart"&&aa(),hi[d]?(y=hi[d].bind(this,y),l.addEventListener(Zr[d],y,!1),y):(console.warn("wrong event specified:",d),m)}function yo(l,d,y){if(!Zr[d]){console.warn("wrong event specified:",d);return}l.removeEventListener(Zr[d],y,!1)}function sa(l){_r[l.pointerId]=l}function oa(l){_r[l.pointerId]&&(_r[l.pointerId]=l)}function vo(l){delete _r[l.pointerId]}function aa(){Kr||(document.addEventListener(Lr,sa,!0),document.addEventListener(xo,oa,!0),document.addEventListener($i,vo,!0),document.addEventListener(di,vo,!0),Kr=!0)}function bo(l,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var y in _r)d.touches.push(_r[y]);d.changedTouches=[d],l(d)}}function zu(l,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&En(d),bo(l,d)}function Uu(l){var d={},y,C;for(C in l)y=l[C],d[C]=y&&y.bind?y.bind(l):y;return l=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var la=200;function bc(l,d){l.addEventListener("dblclick",d);var y=0,C;function W(se){if(se.detail!==1){C=se.detail;return}if(!(se.pointerType==="mouse"||se.sourceCapabilities&&!se.sourceCapabilities.firesTouchEvents)){var me=ys(se);if(!(me.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!me.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ke=Date.now();ke-y<=la?(C++,C===2&&d(Uu(se))):C=1,y=ke}}}return l.addEventListener("click",W),{dblclick:d,simDblclick:W}}function Wu(l,d){l.removeEventListener("dblclick",d.dblclick),l.removeEventListener("click",d.simDblclick)}var _o=ca(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wo=ca(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fl=wo==="webkitTransition"||wo==="OTransition"?wo+"End":"transitionend";function _c(l){return typeof l=="string"?document.getElementById(l):l}function Zi(l,d){var y=l.style[d]||l.currentStyle&&l.currentStyle[d];if((!y||y==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(l,null);y=C?C[d]:null}return y==="auto"?null:y}function Vt(l,d,y){var C=document.createElement(l);return C.className=d||"",y&&y.appendChild(C),C}function Et(l){var d=l.parentNode;d&&d.removeChild(l)}function No(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function fs(l){var d=l.parentNode;d&&d.lastChild!==l&&d.appendChild(l)}function ps(l){var d=l.parentNode;d&&d.firstChild!==l&&d.insertBefore(l,d.firstChild)}function jo(l,d){if(l.classList!==void 0)return l.classList.contains(d);var y=ir(l);return y.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(y)}function Mt(l,d){if(l.classList!==void 0)for(var y=b(d),C=0,W=y.length;C<W;C++)l.classList.add(y[C]);else if(!jo(l,d)){var se=ir(l);Fs(l,(se?se+" ":"")+d)}}function Xt(l,d){l.classList!==void 0?l.classList.remove(d):Fs(l,g((" "+ir(l)+" ").replace(" "+d+" "," ")))}function Fs(l,d){l.className.baseVal===void 0?l.className=d:l.className.baseVal=d}function ir(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function hr(l,d){"opacity"in l.style?l.style.opacity=d:"filter"in l.style&&wc(l,d)}function wc(l,d){var y=!1,C="DXImageTransform.Microsoft.Alpha";try{y=l.filters.item(C)}catch{if(d===1)return}d=Math.round(d*100),y?(y.Enabled=d!==100,y.Opacity=d):l.style.filter+=" progid:"+C+"(opacity="+d+")"}function ca(l){for(var d=document.documentElement.style,y=0;y<l.length;y++)if(l[y]in d)return l[y];return!1}function Ki(l,d,y){var C=d||new H(0,0);l.style[_o]=(it.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(y?" scale("+y+")":"")}function Pn(l,d){l._leaflet_pos=d,it.any3d?Ki(l,d):(l.style.left=d.x+"px",l.style.top=d.y+"px")}function Gi(l){return l._leaflet_pos||new H(0,0)}var So,ms,pl;if("onselectstart"in document)So=function(){Pt(window,"selectstart",En)},ms=function(){Wt(window,"selectstart",En)};else{var ko=ca(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);So=function(){if(ko){var l=document.documentElement.style;pl=l[ko],l[ko]="none"}},ms=function(){ko&&(document.documentElement.style[ko]=pl,pl=void 0)}}function ml(){Pt(window,"dragstart",En)}function Ei(){Wt(window,"dragstart",En)}var gs,Bs;function ua(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Hn(),gs=l,Bs=l.style.outlineStyle,l.style.outlineStyle="none",Pt(window,"keydown",Hn))}function Hn(){gs&&(gs.style.outlineStyle=Bs,gs=void 0,Bs=void 0,Wt(window,"keydown",Hn))}function Nc(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function da(l){var d=l.getBoundingClientRect();return{x:d.width/l.offsetWidth||1,y:d.height/l.offsetHeight||1,boundingClientRect:d}}var Ct={__proto__:null,TRANSFORM:_o,TRANSITION:wo,TRANSITION_END:fl,get:_c,getStyle:Zi,create:Vt,remove:Et,empty:No,toFront:fs,toBack:ps,hasClass:jo,addClass:Mt,removeClass:Xt,setClass:Fs,getClass:ir,setOpacity:hr,testProp:ca,setTransform:Ki,setPosition:Pn,getPosition:Gi,get disableTextSelection(){return So},get enableTextSelection(){return ms},disableImageDrag:ml,enableImageDrag:Ei,preventOutline:ua,restoreOutline:Hn,getSizedParentNode:Nc,getScale:da};function Pt(l,d,y,C){if(d&&typeof d=="object")for(var W in d)zs(l,W,d[W],y);else{d=b(d);for(var se=0,me=d.length;se<me;se++)zs(l,d[se],y,C)}return this}var fi="_leaflet_events";function Wt(l,d,y,C){if(arguments.length===1)gl(l),delete l[fi];else if(d&&typeof d=="object")for(var W in d)Co(l,W,d[W],y);else if(d=b(d),arguments.length===2)gl(l,function(ke){return E(d,ke)!==-1});else for(var se=0,me=d.length;se<me;se++)Co(l,d[se],y,C);return this}function gl(l,d){for(var y in l[fi]){var C=y.split(/\d/)[0];(!d||d(C))&&Co(l,C,null,null,y)}}var ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zs(l,d,y,C){var W=d+u(y)+(C?"_"+u(C):"");if(l[fi]&&l[fi][W])return this;var se=function(ke){return y.call(C||l,ke||window.event)},me=se;!it.touchNative&&it.pointer&&d.indexOf("touch")===0?se=Yi(l,d,se):it.touch&&d==="dblclick"?se=bc(l,se):"addEventListener"in l?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?l.addEventListener(ha[d]||d,se,it.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(se=function(ke){ke=ke||window.event,Us(l,ke)&&me(ke)},l.addEventListener(ha[d],se,!1)):l.addEventListener(d,me,!1):l.attachEvent("on"+d,se),l[fi]=l[fi]||{},l[fi][W]=se}function Co(l,d,y,C,W){W=W||d+u(y)+(C?"_"+u(C):"");var se=l[fi]&&l[fi][W];if(!se)return this;!it.touchNative&&it.pointer&&d.indexOf("touch")===0?yo(l,d,se):it.touch&&d==="dblclick"?Wu(l,se):"removeEventListener"in l?l.removeEventListener(ha[d]||d,se,!1):l.detachEvent("on"+d,se),l[fi][W]=null}function xs(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function xl(l){return zs(l,"wheel",xs),this}function Po(l){return Pt(l,"mousedown touchstart dblclick contextmenu",xs),l._leaflet_disable_click=!0,this}function En(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Gr(l){return En(l),xs(l),this}function ys(l){if(l.composedPath)return l.composedPath();for(var d=[],y=l.target;y;)d.push(y),y=y.parentNode;return d}function jc(l,d){if(!d)return new H(l.clientX,l.clientY);var y=da(d),C=y.boundingClientRect;return new H((l.clientX-C.left)/y.x-d.clientLeft,(l.clientY-C.top)/y.y-d.clientTop)}var Lo=it.linux&&it.chrome?window.devicePixelRatio:it.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fa(l){return it.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Lo:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Us(l,d){var y=d.relatedTarget;if(!y)return!0;try{for(;y&&y!==l;)y=y.parentNode}catch{return!1}return y!==l}var Sc={__proto__:null,on:Pt,off:Wt,stopPropagation:xs,disableScrollPropagation:xl,disableClickPropagation:Po,preventDefault:En,stop:Gr,getPropagationPath:ys,getMousePosition:jc,getWheelDelta:fa,isExternalTarget:Us,addListener:Pt,removeListener:Wt},yl=Z.extend({run:function(l,d,y,C){this.stop(),this._el=l,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Gi(l),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(l){var d=+new Date-this._startTime,y=this._duration*1e3;d<y?this._runFrame(this._easeOut(d/y),l):(this._runFrame(1),this._complete())},_runFrame:function(l,d){var y=this._startPos.add(this._offset.multiplyBy(l));d&&y._round(),Pn(this._el,y),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),zt=Z.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,d){d=N(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ne(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wo&&it.any3d&&!it.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,fl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,d,y){if(d=d===void 0?this._zoom:this._limitZoom(d),l=this._limitCenter(ne(l),d,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=i({animate:y.animate},y.zoom),y.pan=i({animate:y.animate,duration:y.duration},y.pan));var C=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,d,y.zoom):this._tryAnimatedPan(l,y.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(l,d,y.pan&&y.pan.noMoveStart),this},setZoom:function(l,d){return this._loaded?this.setView(this.getCenter(),l,{zoom:d}):(this._zoom=l,this)},zoomIn:function(l,d){return l=l||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,d)},zoomOut:function(l,d){return l=l||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,d)},setZoomAround:function(l,d,y){var C=this.getZoomScale(d),W=this.getSize().divideBy(2),se=l instanceof H?l:this.latLngToContainerPoint(l),me=se.subtract(W).multiplyBy(1-1/C),ke=this.containerPointToLatLng(W.add(me));return this.setView(ke,d,{zoom:y})},_getBoundsCenterZoom:function(l,d){d=d||{},l=l.getBounds?l.getBounds():G(l);var y=ee(d.paddingTopLeft||d.padding||[0,0]),C=ee(d.paddingBottomRight||d.padding||[0,0]),W=this.getBoundsZoom(l,!1,y.add(C));if(W=typeof d.maxZoom=="number"?Math.min(d.maxZoom,W):W,W===1/0)return{center:l.getCenter(),zoom:W};var se=C.subtract(y).divideBy(2),me=this.project(l.getSouthWest(),W),ke=this.project(l.getNorthEast(),W),Ee=this.unproject(me.add(ke).divideBy(2).add(se),W);return{center:Ee,zoom:W}},fitBounds:function(l,d){if(l=G(l),!l.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(l,d);return this.setView(y.center,y.zoom,d)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,d){return this.setView(l,this._zoom,{pan:d})},panBy:function(l,d){if(l=ee(l).round(),d=d||{},!l.x&&!l.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Mt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,y,d.duration||.25,d.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,d,y){if(y=y||{},y.animate===!1||!it.any3d)return this.setView(l,d,y);this._stop();var C=this.project(this.getCenter()),W=this.project(l),se=this.getSize(),me=this._zoom;l=ne(l),d=d===void 0?me:d;var ke=Math.max(se.x,se.y),Ee=ke*this.getZoomScale(me,d),Ve=W.distanceTo(C)||1,at=1.42,wt=at*at;function Rt(an){var Nr=an?-1:1,Im=an?Ee:ke,Rm=Ee*Ee-ke*ke+Nr*wt*wt*Ve*Ve,Hh=2*Im*wt*Ve,Ic=Rm/Hh,Ku=Math.sqrt(Ic*Ic+1)-Ic,qh=Ku<1e-9?-18:Math.log(Ku);return qh}function wr(an){return(Math.exp(an)-Math.exp(-an))/2}function $n(an){return(Math.exp(an)+Math.exp(-an))/2}function yi(an){return wr(an)/$n(an)}var Ir=Rt(0);function wa(an){return ke*($n(Ir)/$n(Ir+at*an))}function Om(an){return ke*($n(Ir)*yi(Ir+at*an)-wr(Ir))/wt}function Zs(an){return 1-Math.pow(1-an,1.5)}var Ri=Date.now(),es=(Rt(1)-Ir)/at,Dm=y.duration?1e3*y.duration:1e3*es*.8;function Zu(){var an=(Date.now()-Ri)/Dm,Nr=Zs(an)*es;an<=1?(this._flyToFrame=I(Zu,this),this._move(this.unproject(C.add(W.subtract(C).multiplyBy(Om(Nr)/Ve)),me),this.getScaleZoom(ke/wa(Nr),me),{flyTo:!0})):this._move(l,d)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),Zu.call(this),this},flyToBounds:function(l,d){var y=this._getBoundsCenterZoom(l,d);return this.flyTo(y.center,y.zoom,d)},setMaxBounds:function(l){return l=G(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var d=this.options.minZoom;return this.options.minZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var d=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,d){this._enforcingBounds=!0;var y=this.getCenter(),C=this._limitCenter(y,this._zoom,G(l));return y.equals(C)||this.panTo(C,d),this._enforcingBounds=!1,this},panInside:function(l,d){d=d||{};var y=ee(d.paddingTopLeft||d.padding||[0,0]),C=ee(d.paddingBottomRight||d.padding||[0,0]),W=this.project(this.getCenter()),se=this.project(l),me=this.getPixelBounds(),ke=M([me.min.add(y),me.max.subtract(C)]),Ee=ke.getSize();if(!ke.contains(se)){this._enforcingBounds=!0;var Ve=se.subtract(ke.getCenter()),at=ke.extend(se).getSize().subtract(Ee);W.x+=Ve.x<0?-at.x:at.x,W.y+=Ve.y<0?-at.y:at.y,this.panTo(this.unproject(W),d),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),C=d.divideBy(2).round(),W=y.divideBy(2).round(),se=C.subtract(W);return!se.x&&!se.y?this:(l.animate&&l.pan?this.panBy(se):(l.pan&&this._rawPanBy(se),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=a(this._handleGeolocationResponse,this),y=a(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,y,l):navigator.geolocation.getCurrentPosition(d,y,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var d=l.code,y=l.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var d=l.coords.latitude,y=l.coords.longitude,C=new $(d,y),W=C.toBounds(l.coords.accuracy*2),se=this._locateOptions;if(se.setView){var me=this.getBoundsZoom(W);this.setView(C,se.maxZoom?Math.min(me,se.maxZoom):me)}var ke={latlng:C,bounds:W,timestamp:l.timestamp};for(var Ee in l.coords)typeof l.coords[Ee]=="number"&&(ke[Ee]=l.coords[Ee]);this.fire("locationfound",ke)}},addHandler:function(l,d){if(!d)return this;var y=this[l]=new d(this);return this._handlers.push(y),this.options[l]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Et(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,d){var y="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),C=Vt("div",y,d||this._mapPane);return l&&(this._panes[l]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),d=this.unproject(l.getBottomLeft()),y=this.unproject(l.getTopRight());return new B(d,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,d,y){l=G(l),y=ee(y||[0,0]);var C=this.getZoom()||0,W=this.getMinZoom(),se=this.getMaxZoom(),me=l.getNorthWest(),ke=l.getSouthEast(),Ee=this.getSize().subtract(y),Ve=M(this.project(ke,C),this.project(me,C)).getSize(),at=it.any3d?this.options.zoomSnap:1,wt=Ee.x/Ve.x,Rt=Ee.y/Ve.y,wr=d?Math.max(wt,Rt):Math.min(wt,Rt);return C=this.getScaleZoom(wr,C),at&&(C=Math.round(C/(at/100))*(at/100),C=d?Math.ceil(C/at)*at:Math.floor(C/at)*at),Math.max(W,Math.min(se,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,d){var y=this._getTopLeftPoint(l,d);return new te(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,d){var y=this.options.crs;return d=d===void 0?this._zoom:d,y.scale(l)/y.scale(d)},getScaleZoom:function(l,d){var y=this.options.crs;d=d===void 0?this._zoom:d;var C=y.zoom(l*y.scale(d));return isNaN(C)?1/0:C},project:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ne(l),d)},unproject:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(ee(l),d)},layerPointToLatLng:function(l){var d=ee(l).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(l){var d=this.project(ne(l))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(ne(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(G(l))},distance:function(l,d){return this.options.crs.distance(ne(l),ne(d))},containerPointToLayerPoint:function(l){return ee(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ee(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var d=this.containerPointToLayerPoint(ee(l));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(l)))},mouseEventToContainerPoint:function(l){return jc(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var d=this._container=_c(l);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&it.any3d,Mt(l,"leaflet-container"+(it.touch?" leaflet-touch":"")+(it.retina?" leaflet-retina":"")+(it.ielt9?" leaflet-oldie":"")+(it.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Zi(l,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pn(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Mt(l.markerPane,"leaflet-zoom-hide"),Mt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,d,y){Pn(this._mapPane,new H(0,0));var C=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var W=this._zoom!==d;this._moveStart(W,y)._move(l,d)._moveEnd(W),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(l,d){return l&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(l,d,y,C){d===void 0&&(d=this._zoom);var W=this._zoom!==d;return this._zoom=d,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),C?y&&y.pinch&&this.fire("zoom",y):((W||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Pn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[u(this._container)]=this;var d=l?Wt:Pt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),it.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,d){for(var y=[],C,W=d==="mouseout"||d==="mouseover",se=l.target||l.srcElement,me=!1;se;){if(C=this._targets[u(se)],C&&(d==="click"||d==="preclick")&&this._draggableMoved(C)){me=!0;break}if(C&&C.listens(d,!0)&&(W&&!Us(se,l)||(y.push(C),W))||se===this._container)break;se=se.parentNode}return!y.length&&!me&&!W&&this.listens(d,!0)&&(y=[this]),y},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var d=l.target||l.srcElement;if(!(!this._loaded||d._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(d))){var y=l.type;y==="mousedown"&&ua(d),this._fireDOMEvent(l,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,d,y){if(l.type==="click"){var C=i({},l);C.type="preclick",this._fireDOMEvent(C,C.type,y)}var W=this._findEventTargets(l,d);if(y){for(var se=[],me=0;me<y.length;me++)y[me].listens(d,!0)&&se.push(y[me]);W=se.concat(W)}if(W.length){d==="contextmenu"&&En(l);var ke=W[0],Ee={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Ve=ke.getLatLng&&(!ke._radius||ke._radius<=10);Ee.containerPoint=Ve?this.latLngToContainerPoint(ke.getLatLng()):this.mouseEventToContainerPoint(l),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Ve?ke.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(me=0;me<W.length;me++)if(W[me].fire(d,Ee,!0),Ee.originalEvent._stopped||W[me].options.bubblingMouseEvents===!1&&E(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,d=this._handlers.length;l<d;l++)this._handlers[l].disable()},whenReady:function(l,d){return this._loaded?l.call(d||this,{target:this}):this.on("load",l,d),this},_getMapPanePos:function(){return Gi(this._mapPane)||new H(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,d){var y=l&&d!==void 0?this._getNewPixelOrigin(l,d):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,d){var y=this.getSize()._divideBy(2);return this.project(l,d)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,d,y){var C=this._getNewPixelOrigin(y,d);return this.project(l,d)._subtract(C)},_latLngBoundsToNewLayerBounds:function(l,d,y){var C=this._getNewPixelOrigin(y,d);return M([this.project(l.getSouthWest(),d)._subtract(C),this.project(l.getNorthWest(),d)._subtract(C),this.project(l.getSouthEast(),d)._subtract(C),this.project(l.getNorthEast(),d)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,d,y){if(!y)return l;var C=this.project(l,d),W=this.getSize().divideBy(2),se=new te(C.subtract(W),C.add(W)),me=this._getBoundsOffset(se,y,d);return Math.abs(me.x)<=1&&Math.abs(me.y)<=1?l:this.unproject(C.add(me),d)},_limitOffset:function(l,d){if(!d)return l;var y=this.getPixelBounds(),C=new te(y.min.add(l),y.max.add(l));return l.add(this._getBoundsOffset(C,d))},_getBoundsOffset:function(l,d,y){var C=M(this.project(d.getNorthEast(),y),this.project(d.getSouthWest(),y)),W=C.min.subtract(l.min),se=C.max.subtract(l.max),me=this._rebound(W.x,-se.x),ke=this._rebound(W.y,-se.y);return new H(me,ke)},_rebound:function(l,d){return l+d>0?Math.round(l-d)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(d))},_limitZoom:function(l){var d=this.getMinZoom(),y=this.getMaxZoom(),C=it.any3d?this.options.zoomSnap:1;return C&&(l=Math.round(l/C)*C),Math.max(d,Math.min(y,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,d){var y=this._getCenterOffset(l)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,d),!0)},_createAnimProxy:function(){var l=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(d){var y=_o,C=this._proxy.style[y];Ki(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),C===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),d=this.getZoom();Ki(this._proxy,this.project(l,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,d,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(d),W=this._getCenterOffset(l)._divideBy(1-1/C);return y.animate!==!0&&!this.getSize().contains(W)?!1:(I(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(l,d,!0)},this),!0)},_animateZoom:function(l,d,y,C){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=d,Mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:d,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function kc(l,d){return new zt(l,d)}var qn=U.extend({options:{position:"topright"},initialize:function(l){N(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var d=this._map;return d&&d.removeControl(this),this.options.position=l,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var d=this._container=this.onAdd(l),y=this.getPosition(),C=l._controlCorners[y];return Mt(d,"leaflet-control"),y.indexOf("bottom")!==-1?C.insertBefore(d,C.firstChild):C.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),pi=function(l){return new qn(l)};zt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},d="leaflet-",y=this._controlContainer=Vt("div",d+"control-container",this._container);function C(W,se){var me=d+W+" "+d+se;l[W+se]=Vt("div",me,y)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Et(this._controlCorners[l]);Et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cc=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,d,y,C){return y<C?-1:C<y?1:0}},initialize:function(l,d,y){N(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in l)this._addLayer(l[C],C);for(C in d)this._addLayer(d[C],C,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return qn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,d){return this._addLayer(l,d),this._map?this._update():this},addOverlay:function(l,d){return this._addLayer(l,d,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(l));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",d=this._container=Vt("div",l),y=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Po(d),xl(d);var C=this._section=Vt("section",l+"-list");y&&(this._map.on("click",this.collapse,this),Pt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var W=this._layersLink=Vt("a",l+"-toggle",d);W.href="#",W.title="Layers",W.setAttribute("role","button"),Pt(W,{keydown:function(se){se.keyCode===13&&this._expandSafely()},click:function(se){En(se),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=Vt("div",l+"-base",C),this._separator=Vt("div",l+"-separator",C),this._overlaysList=Vt("div",l+"-overlays",C),d.appendChild(C)},_getLayer:function(l){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===l)return this._layers[d]},_addLayer:function(l,d,y){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:d,overlay:y}),this.options.sortLayers&&this._layers.sort(a(function(C,W){return this.options.sortFunction(C.layer,W.layer,C.name,W.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;No(this._baseLayersList),No(this._overlaysList),this._layerControlInputs=[];var l,d,y,C,W=0;for(y=0;y<this._layers.length;y++)C=this._layers[y],this._addItem(C),d=d||C.overlay,l=l||!C.overlay,W+=C.overlay?0:1;return this.options.hideSingleBase&&(l=l&&W>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=d&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var d=this._getLayer(u(l.target)),y=d.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;y&&this._map.fire(y,d)},_createRadioElement:function(l,d){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(d?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=y,C.firstChild},_addItem:function(l){var d=document.createElement("label"),y=this._map.hasLayer(l.layer),C;l.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=y):C=this._createRadioElement("leaflet-base-layers_"+u(this),y),this._layerControlInputs.push(C),C.layerId=u(l.layer),Pt(C,"click",this._onInputClick,this);var W=document.createElement("span");W.innerHTML=" "+l.name;var se=document.createElement("span");d.appendChild(se),se.appendChild(C),se.appendChild(W);var me=l.overlay?this._overlaysList:this._baseLayersList;return me.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,d,y,C=[],W=[];this._handlingClick=!0;for(var se=l.length-1;se>=0;se--)d=l[se],y=this._getLayer(d.layerId).layer,d.checked?C.push(y):d.checked||W.push(y);for(se=0;se<W.length;se++)this._map.hasLayer(W[se])&&this._map.removeLayer(W[se]);for(se=0;se<C.length;se++)this._map.hasLayer(C[se])||this._map.addLayer(C[se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,d,y,C=this._map.getZoom(),W=l.length-1;W>=0;W--)d=l[W],y=this._getLayer(d.layerId).layer,d.disabled=y.options.minZoom!==void 0&&C<y.options.minZoom||y.options.maxZoom!==void 0&&C>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Pt(l,"click",En),this.expand();var d=this;setTimeout(function(){Wt(l,"click",En),d._preventClick=!1})}}),Ws=function(l,d,y){return new Cc(l,d,y)},Xr=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var d="leaflet-control-zoom",y=Vt("div",d+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,d+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,d+"-out",y,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,d,y,C,W){var se=Vt("a",y,C);return se.innerHTML=l,se.href="#",se.title=d,se.setAttribute("role","button"),se.setAttribute("aria-label",d),Po(se),Pt(se,"click",Gr),Pt(se,"click",W,this),Pt(se,"click",this._refocusOnMap,this),se},_updateDisabled:function(){var l=this._map,d="leaflet-disabled";Xt(this._zoomInButton,d),Xt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Mt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Mt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))});var vl=function(l){return new Xr(l)},Hs=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var d="leaflet-control-scale",y=Vt("div",d),C=this.options;return this._addScales(C,d+"-line",y),l.on(C.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),y},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,d,y){l.metric&&(this._mScale=Vt("div",d,y)),l.imperial&&(this._iScale=Vt("div",d,y))},_update:function(){var l=this._map,d=l.getSize().y/2,y=l.distance(l.containerPointToLatLng([0,d]),l.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(y)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var d=this._getRoundNum(l),y=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,y,d/l)},_updateImperial:function(l){var d=l*3.2808399,y,C,W;d>5280?(y=d/5280,C=this._getRoundNum(y),this._updateScale(this._iScale,C+" mi",C/y)):(W=this._getRoundNum(d),this._updateScale(this._iScale,W+" ft",W/d))},_updateScale:function(l,d,y){l.style.width=Math.round(this.options.maxWidth*y)+"px",l.innerHTML=d},_getRoundNum:function(l){var d=Math.pow(10,(Math.floor(l)+"").length-1),y=l/d;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,d*y}}),Hu=function(l){return new Hs(l)},pa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bl=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(it.inlineSvg?pa+" ":"")+"Leaflet</a>"},initialize:function(l){N(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),Po(this._container);for(var d in l._layers)l._layers[d].getAttribution&&this.addAttribution(l._layers[d].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var d in this._attributions)this._attributions[d]&&l.push(d);var y=[];this.options.prefix&&y.push(this.options.prefix),l.length&&y.push(l.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&new bl().addTo(this)});var _l=function(l){return new bl(l)};qn.Layers=Cc,qn.Zoom=Xr,qn.Scale=Hs,qn.Attribution=bl,pi.layers=Ws,pi.zoom=vl,pi.scale=Hu,pi.attribution=_l;var Ar=U.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ar.addTo=function(l,d){return l.addHandler(d,this),this};var Pc={Events:Q},Ao=it.touch?"touchstart mousedown":"mousedown",mi=Z.extend({options:{clickTolerance:3},initialize:function(l,d,y,C){N(this,C),this._element=l,this._dragStartTarget=d||l,this._preventOutline=y},enable:function(){this._enabled||(Pt(this._dragStartTarget,Ao,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mi._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Ao,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!jo(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){mi._dragging===this&&this.finishDrag();return}if(!(mi._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(mi._dragging=this,this._preventOutline&&ua(this._element),ml(),So(),!this._moving)){this.fire("down");var d=l.touches?l.touches[0]:l,y=Nc(this._element);this._startPoint=new H(d.clientX,d.clientY),this._startPos=Gi(this._element),this._parentScale=da(y);var C=l.type==="mousedown";Pt(document,C?"mousemove":"touchmove",this._onMove,this),Pt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var d=l.touches&&l.touches.length===1?l.touches[0]:l,y=new H(d.clientX,d.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,En(l),this._moved||(this.fire("dragstart"),this._moved=!0,Mt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Pn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Xt(document.body,"leaflet-dragging"),this._lastTarget&&(Xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Ei(),ms();var d=this._moved&&this._moving;this._moving=!1,mi._dragging=!1,d&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function ma(l,d,y){var C,W=[1,4,2,8],se,me,ke,Ee,Ve,at,wt,Rt;for(se=0,at=l.length;se<at;se++)l[se]._code=Te(l[se],d);for(ke=0;ke<4;ke++){for(wt=W[ke],C=[],se=0,at=l.length,me=at-1;se<at;me=se++)Ee=l[se],Ve=l[me],Ee._code&wt?Ve._code&wt||(Rt=Ne(Ve,Ee,wt,d,y),Rt._code=Te(Rt,d),C.push(Rt)):(Ve._code&wt&&(Rt=Ne(Ve,Ee,wt,d,y),Rt._code=Te(Rt,d),C.push(Rt)),C.push(Ee));l=C}return l}function wl(l,d){var y,C,W,se,me,ke,Ee,Ve,at;if(!l||l.length===0)throw new Error("latlngs not passed");ht(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var wt=ne([0,0]),Rt=G(l),wr=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());wr<1700&&(wt=Nl(l));var $n=l.length,yi=[];for(y=0;y<$n;y++){var Ir=ne(l[y]);yi.push(d.project(ne([Ir.lat-wt.lat,Ir.lng-wt.lng])))}for(ke=Ee=Ve=0,y=0,C=$n-1;y<$n;C=y++)W=yi[y],se=yi[C],me=W.y*se.x-se.y*W.x,Ee+=(W.x+se.x)*me,Ve+=(W.y+se.y)*me,ke+=me*3;ke===0?at=yi[0]:at=[Ee/ke,Ve/ke];var wa=d.unproject(ee(at));return ne([wa.lat+wt.lat,wa.lng+wt.lng])}function Nl(l){for(var d=0,y=0,C=0,W=0;W<l.length;W++){var se=ne(l[W]);d+=se.lat,y+=se.lng,C++}return ne([d/C,y/C])}var ga={__proto__:null,clipPolygon:ma,polygonCenter:wl,centroid:Nl};function qs(l,d){if(!d||!l.length)return l.slice();var y=d*d;return l=J(l,y),l=jl(l,y),l}function xa(l,d,y){return Math.sqrt(st(l,d,y,!0))}function Vs(l,d,y){return st(l,d,y)}function jl(l,d){var y=l.length,C=typeof Uint8Array<"u"?Uint8Array:Array,W=new C(y);W[0]=W[y-1]=1,S(l,W,d,0,y-1);var se,me=[];for(se=0;se<y;se++)W[se]&&me.push(l[se]);return me}function S(l,d,y,C,W){var se=0,me,ke,Ee;for(ke=C+1;ke<=W-1;ke++)Ee=st(l[ke],l[C],l[W],!0),Ee>se&&(me=ke,se=Ee);se>y&&(d[me]=1,S(l,d,y,C,me),S(l,d,y,me,W))}function J(l,d){for(var y=[l[0]],C=1,W=0,se=l.length;C<se;C++)Ze(l[C],l[W])>d&&(y.push(l[C]),W=C);return W<se-1&&y.push(l[se-1]),y}var de;function xe(l,d,y,C,W){var se=C?de:Te(l,y),me=Te(d,y),ke,Ee,Ve;for(de=me;;){if(!(se|me))return[l,d];if(se&me)return!1;ke=se||me,Ee=Ne(l,d,ke,y,W),Ve=Te(Ee,y),ke===se?(l=Ee,se=Ve):(d=Ee,me=Ve)}}function Ne(l,d,y,C,W){var se=d.x-l.x,me=d.y-l.y,ke=C.min,Ee=C.max,Ve,at;return y&8?(Ve=l.x+se*(Ee.y-l.y)/me,at=Ee.y):y&4?(Ve=l.x+se*(ke.y-l.y)/me,at=ke.y):y&2?(Ve=Ee.x,at=l.y+me*(Ee.x-l.x)/se):y&1&&(Ve=ke.x,at=l.y+me*(ke.x-l.x)/se),new H(Ve,at,W)}function Te(l,d){var y=0;return l.x<d.min.x?y|=1:l.x>d.max.x&&(y|=2),l.y<d.min.y?y|=4:l.y>d.max.y&&(y|=8),y}function Ze(l,d){var y=d.x-l.x,C=d.y-l.y;return y*y+C*C}function st(l,d,y,C){var W=d.x,se=d.y,me=y.x-W,ke=y.y-se,Ee=me*me+ke*ke,Ve;return Ee>0&&(Ve=((l.x-W)*me+(l.y-se)*ke)/Ee,Ve>1?(W=y.x,se=y.y):Ve>0&&(W+=me*Ve,se+=ke*Ve)),me=l.x-W,ke=l.y-se,C?me*me+ke*ke:new H(W,se)}function ht(l){return!j(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Lt(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ht(l)}function Dt(l,d){var y,C,W,se,me,ke,Ee,Ve;if(!l||l.length===0)throw new Error("latlngs not passed");ht(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var at=ne([0,0]),wt=G(l),Rt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Rt<1700&&(at=Nl(l));var wr=l.length,$n=[];for(y=0;y<wr;y++){var yi=ne(l[y]);$n.push(d.project(ne([yi.lat-at.lat,yi.lng-at.lng])))}for(y=0,C=0;y<wr-1;y++)C+=$n[y].distanceTo($n[y+1])/2;if(C===0)Ve=$n[0];else for(y=0,se=0;y<wr-1;y++)if(me=$n[y],ke=$n[y+1],W=me.distanceTo(ke),se+=W,se>C){Ee=(se-C)/W,Ve=[ke.x-Ee*(ke.x-me.x),ke.y-Ee*(ke.y-me.y)];break}var Ir=d.unproject(ee(Ve));return ne([Ir.lat+at.lat,Ir.lng+at.lng])}var $t={__proto__:null,simplify:qs,pointToSegmentDistance:xa,closestPointOnSegment:Vs,clipSegment:xe,_getEdgeIntersection:Ne,_getBitCode:Te,_sqClosestPointOnSegment:st,isFlat:ht,_flat:Lt,polylineCenter:Dt},mn={project:function(l){return new H(l.lng,l.lat)},unproject:function(l){return new $(l.y,l.x)},bounds:new te([-180,-90],[180,90])},yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var d=Math.PI/180,y=this.R,C=l.lat*d,W=this.R_MINOR/y,se=Math.sqrt(1-W*W),me=se*Math.sin(C),ke=Math.tan(Math.PI/4-C/2)/Math.pow((1-me)/(1+me),se/2);return C=-y*Math.log(Math.max(ke,1e-10)),new H(l.lng*d*y,C)},unproject:function(l){for(var d=180/Math.PI,y=this.R,C=this.R_MINOR/y,W=Math.sqrt(1-C*C),se=Math.exp(-l.y/y),me=Math.PI/2-2*Math.atan(se),ke=0,Ee=.1,Ve;ke<15&&Math.abs(Ee)>1e-7;ke++)Ve=W*Math.sin(me),Ve=Math.pow((1-Ve)/(1+Ve),W/2),Ee=Math.PI/2-2*Math.atan(se*Ve)-me,me+=Ee;return new $(me*d,l.x*d/y)}},Rn={__proto__:null,LonLat:mn,Mercator:yn,SphericalMercator:Me},fr=i({},pe,{code:"EPSG:3395",projection:yn,transformation:function(){var l=.5/(Math.PI*yn.R);return We(l,.5,-l,.5)}()}),Vn=i({},pe,{code:"EPSG:4326",projection:mn,transformation:We(1/180,1,-1/180,.5)}),Mi=i({},he,{projection:mn,transformation:We(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,d){var y=d.lng-l.lng,C=d.lat-l.lat;return Math.sqrt(y*y+C*C)},infinite:!0});he.Earth=pe,he.EPSG3395=fr,he.EPSG3857=qe,he.EPSG900913=mt,he.EPSG4326=Vn,he.Simple=Mi;var _n=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[u(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[u(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var d=l.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var y=this.getEvents();d.on(y,this),this.once("remove",function(){d.off(y,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(l);return this._layers[d]?this:(this._layers[d]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var d=u(l);return this._layers[d]?(this._loaded&&l.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return u(l)in this._layers},eachLayer:function(l,d){for(var y in this._layers)l.call(d,this._layers[y]);return this},_addLayers:function(l){l=l?j(l)?l:[l]:[];for(var d=0,y=l.length;d<y;d++)this.addLayer(l[d])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[u(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var d=u(l);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,d=-1/0,y=this._getZoomSpan();for(var C in this._zoomBoundLayers){var W=this._zoomBoundLayers[C].options;l=W.minZoom===void 0?l:Math.min(l,W.minZoom),d=W.maxZoom===void 0?d:Math.max(d,W.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=l===1/0?void 0:l,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Er=_n.extend({initialize:function(l,d){N(this,d),this._layers={};var y,C;if(l)for(y=0,C=l.length;y<C;y++)this.addLayer(l[y])},addLayer:function(l){var d=this.getLayerId(l);return this._layers[d]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var d=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(l){var d=typeof l=="number"?l:this.getLayerId(l);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var d=Array.prototype.slice.call(arguments,1),y,C;for(y in this._layers)C=this._layers[y],C[l]&&C[l].apply(C,d);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,d){for(var y in this._layers)l.call(d,this._layers[y]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return u(l)}}),Lc=function(l,d){return new Er(l,d)},Jr=Er.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Er.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Er.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new B;for(var d in this._layers){var y=this._layers[d];l.extend(y.getBounds?y.getBounds():y.getLatLng())}return l}}),Sl=function(l,d){return new Jr(l,d)},Ti=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){N(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,d){var y=this._getIconUrl(l);if(!y){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(y,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(C,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(l,d){var y=this.options,C=y[d+"Size"];typeof C=="number"&&(C=[C,C]);var W=ee(C),se=ee(d==="shadow"&&y.shadowAnchor||y.iconAnchor||W&&W.divideBy(2,!0));l.className="leaflet-marker-"+d+" "+(y.className||""),se&&(l.style.marginLeft=-se.x+"px",l.style.marginTop=-se.y+"px"),W&&(l.style.width=W.x+"px",l.style.height=W.y+"px")},_createImg:function(l,d){return d=d||document.createElement("img"),d.src=l,d},_getIconUrl:function(l){return it.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function kl(l){return new Ti(l)}var vs=Ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof vs.imagePath!="string"&&(vs.imagePath=this._detectIconPath()),(this.options.imagePath||vs.imagePath)+Ti.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var d=function(y,C,W){var se=C.exec(y);return se&&se[W]};return l=d(l,/^url\((['"])?(.+)\1\)$/,2),l&&d(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Vt("div","leaflet-default-icon-path",document.body),d=Zi(l,"background-image")||Zi(l,"backgroundImage");if(document.body.removeChild(l),d=this._stripUrl(d),d)return d;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),Eo=Ar.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new mi(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Mt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var d=this._marker,y=d._map,C=this._marker.options.autoPanSpeed,W=this._marker.options.autoPanPadding,se=Gi(d._icon),me=y.getPixelBounds(),ke=y.getPixelOrigin(),Ee=M(me.min._subtract(ke).add(W),me.max._subtract(ke).subtract(W));if(!Ee.contains(se)){var Ve=ee((Math.max(Ee.max.x,se.x)-Ee.max.x)/(me.max.x-Ee.max.x)-(Math.min(Ee.min.x,se.x)-Ee.min.x)/(me.min.x-Ee.min.x),(Math.max(Ee.max.y,se.y)-Ee.max.y)/(me.max.y-Ee.max.y)-(Math.min(Ee.min.y,se.y)-Ee.min.y)/(me.min.y-Ee.min.y)).multiplyBy(C);y.panBy(Ve,{animate:!1}),this._draggable._newPos._add(Ve),this._draggable._startPos._add(Ve),Pn(d._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=I(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,l)))},_onDrag:function(l){var d=this._marker,y=d._shadow,C=Gi(d._icon),W=d._map.layerPointToLatLng(C);y&&Pn(y,C),d._latlng=W,l.latlng=W,l.oldLatLng=this._oldLatLng,d.fire("move",l).fire("drag",l)},_onDragEnd:function(l){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),sr=_n.extend({options:{icon:new vs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,d){N(this,d),this._latlng=ne(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var d=this._latlng;return this._latlng=ne(l),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=l.icon.createIcon(this._icon),C=!1;y!==this._icon&&(this._icon&&this._removeIcon(),C=!0,l.title&&(y.title=l.title),y.tagName==="IMG"&&(y.alt=l.alt||"")),Mt(y,d),l.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(y,"focus",this._panOnFocus,this);var W=l.icon.createShadow(this._shadow),se=!1;W!==this._shadow&&(this._removeShadow(),se=!0),W&&(Mt(W,d),W.alt=""),this._shadow=W,l.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),W&&se&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),Et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Et(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Pn(this._icon,l),this._shadow&&Pn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Eo)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Eo(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&hr(this._icon,l),this._shadow&&hr(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var d=this.options.icon.options,y=d.iconSize?ee(d.iconSize):ee(0,0),C=d.iconAnchor?ee(d.iconAnchor):ee(0,0);l.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:y.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ya(l,d){return new sr(l,d)}var Qr=_n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return N(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bs=Qr.extend({options:{fill:!0,radius:10},initialize:function(l,d){N(this,d),this._latlng=ne(l),this._radius=this.options.radius},setLatLng:function(l){var d=this._latlng;return this._latlng=ne(l),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var d=l&&l.radius||this._radius;return Qr.prototype.setStyle.call(this,l),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,d=this._radiusY||l,y=this._clickTolerance(),C=[l+y,d+y];this._pxBounds=new te(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cl(l,d){return new bs(l,d)}var pr=bs.extend({initialize:function(l,d,y){if(typeof d=="number"&&(d=i({},y,{radius:d})),N(this,d),this._latlng=ne(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Qr.prototype.setStyle,_project:function(){var l=this._latlng.lng,d=this._latlng.lat,y=this._map,C=y.options.crs;if(C.distance===pe.distance){var W=Math.PI/180,se=this._mRadius/pe.R/W,me=y.project([d+se,l]),ke=y.project([d-se,l]),Ee=me.add(ke).divideBy(2),Ve=y.unproject(Ee).lat,at=Math.acos((Math.cos(se*W)-Math.sin(d*W)*Math.sin(Ve*W))/(Math.cos(d*W)*Math.cos(Ve*W)))/W;(isNaN(at)||at===0)&&(at=se/Math.cos(Math.PI/180*d)),this._point=Ee.subtract(y.getPixelOrigin()),this._radius=isNaN(at)?0:Ee.x-y.project([Ve,l-at]).x,this._radiusY=Ee.y-me.y}else{var wt=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(wt).x}this._updateBounds()}});function qu(l,d,y){return new pr(l,d,y)}var ei=Qr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,d){N(this,d),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var d=1/0,y=null,C=st,W,se,me=0,ke=this._parts.length;me<ke;me++)for(var Ee=this._parts[me],Ve=1,at=Ee.length;Ve<at;Ve++){W=Ee[Ve-1],se=Ee[Ve];var wt=C(l,W,se,!0);wt<d&&(d=wt,y=C(l,W,se))}return y&&(y.distance=Math.sqrt(d)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,d){return d=d||this._defaultShape(),l=ne(l),d.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new B,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var d=[],y=ht(l),C=0,W=l.length;C<W;C++)y?(d[C]=ne(l[C]),this._bounds.extend(d[C])):d[C]=this._convertLatLngs(l[C]);return d},_project:function(){var l=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),d=new H(l,l);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(l,d,y){var C=l[0]instanceof $,W=l.length,se,me;if(C){for(me=[],se=0;se<W;se++)me[se]=this._map.latLngToLayerPoint(l[se]),y.extend(me[se]);d.push(me)}else for(se=0;se<W;se++)this._projectLatlngs(l[se],d,y)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,y,C,W,se,me,ke,Ee;for(y=0,W=0,se=this._rings.length;y<se;y++)for(Ee=this._rings[y],C=0,me=Ee.length;C<me-1;C++)ke=xe(Ee[C],Ee[C+1],l,C,!0),ke&&(d[W]=d[W]||[],d[W].push(ke[0]),(ke[1]!==Ee[C+1]||C===me-2)&&(d[W].push(ke[1]),W++))}},_simplifyPoints:function(){for(var l=this._parts,d=this.options.smoothFactor,y=0,C=l.length;y<C;y++)l[y]=qs(l[y],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,d){var y,C,W,se,me,ke,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(y=0,se=this._parts.length;y<se;y++)for(ke=this._parts[y],C=0,me=ke.length,W=me-1;C<me;W=C++)if(!(!d&&C===0)&&xa(l,ke[W],ke[C])<=Ee)return!0;return!1}});function Ac(l,d){return new ei(l,d)}ei._flat=Lt;var mr=ei.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var d=ei.prototype._convertLatLngs.call(this,l),y=d.length;return y>=2&&d[0]instanceof $&&d[0].equals(d[y-1])&&d.pop(),d},_setLatLngs:function(l){ei.prototype._setLatLngs.call(this,l),ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,d=this.options.weight,y=new H(d,d);if(l=new te(l.min.subtract(y),l.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,W=this._rings.length,se;C<W;C++)se=ma(this._rings[C],l,!0),se.length&&this._parts.push(se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var d=!1,y,C,W,se,me,ke,Ee,Ve;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(se=0,Ee=this._parts.length;se<Ee;se++)for(y=this._parts[se],me=0,Ve=y.length,ke=Ve-1;me<Ve;ke=me++)C=y[me],W=y[ke],C.y>l.y!=W.y>l.y&&l.x<(W.x-C.x)*(l.y-C.y)/(W.y-C.y)+C.x&&(d=!d);return d||ei.prototype._containsPoint.call(this,l,!0)}});function Pl(l,d){return new mr(l,d)}var Oi=Jr.extend({initialize:function(l,d){N(this,d),this._layers={},l&&this.addData(l)},addData:function(l){var d=j(l)?l:l.features,y,C,W;if(d){for(y=0,C=d.length;y<C;y++)W=d[y],(W.geometries||W.geometry||W.features||W.coordinates)&&this.addData(W);return this}var se=this.options;if(se.filter&&!se.filter(l))return this;var me=va(l,se);return me?(me.feature=ws(l),me.defaultOptions=me.options,this.resetStyle(me),se.onEachFeature&&se.onEachFeature(l,me),this.addLayer(me)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(d){this._setLayerStyle(d,l)},this)},_setLayerStyle:function(l,d){l.setStyle&&(typeof d=="function"&&(d=d(l.feature)),l.setStyle(d))}});function va(l,d){var y=l.type==="Feature"?l.geometry:l,C=y?y.coordinates:null,W=[],se=d&&d.pointToLayer,me=d&&d.coordsToLatLng||Mr,ke,Ee,Ve,at;if(!C&&!y)return null;switch(y.type){case"Point":return ke=me(C),_s(se,l,ke,d);case"MultiPoint":for(Ve=0,at=C.length;Ve<at;Ve++)ke=me(C[Ve]),W.push(_s(se,l,ke,d));return new Jr(W);case"LineString":case"MultiLineString":return Ee=Tr(C,y.type==="LineString"?0:1,me),new ei(Ee,d);case"Polygon":case"MultiPolygon":return Ee=Tr(C,y.type==="Polygon"?1:2,me),new mr(Ee,d);case"GeometryCollection":for(Ve=0,at=y.geometries.length;Ve<at;Ve++){var wt=va({geometry:y.geometries[Ve],type:"Feature",properties:l.properties},d);wt&&W.push(wt)}return new Jr(W);case"FeatureCollection":for(Ve=0,at=y.features.length;Ve<at;Ve++){var Rt=va(y.features[Ve],d);Rt&&W.push(Rt)}return new Jr(W);default:throw new Error("Invalid GeoJSON object.")}}function _s(l,d,y,C){return l?l(d,y):new sr(y,C&&C.markersInheritOptions&&C)}function Mr(l){return new $(l[1],l[0],l[2])}function Tr(l,d,y){for(var C=[],W=0,se=l.length,me;W<se;W++)me=d?Tr(l[W],d-1,y):(y||Mr)(l[W]),C.push(me);return C}function Xi(l,d){return l=ne(l),l.alt!==void 0?[x(l.lng,d),x(l.lat,d),x(l.alt,d)]:[x(l.lng,d),x(l.lat,d)]}function ti(l,d,y,C){for(var W=[],se=0,me=l.length;se<me;se++)W.push(d?ti(l[se],ht(l[se])?0:d-1,y,C):Xi(l[se],C));return!d&&y&&W.length>0&&W.push(W[0].slice()),W}function Or(l,d){return l.feature?i({},l.feature,{geometry:d}):ws(d)}function ws(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var ni={toGeoJSON:function(l){return Or(this,{type:"Point",coordinates:Xi(this.getLatLng(),l)})}};sr.include(ni),pr.include(ni),bs.include(ni),ei.include({toGeoJSON:function(l){var d=!ht(this._latlngs),y=ti(this._latlngs,d?1:0,!1,l);return Or(this,{type:(d?"Multi":"")+"LineString",coordinates:y})}}),mr.include({toGeoJSON:function(l){var d=!ht(this._latlngs),y=d&&!ht(this._latlngs[0]),C=ti(this._latlngs,y?2:d?1:0,!0,l);return d||(C=[C]),Or(this,{type:(y?"Multi":"")+"Polygon",coordinates:C})}}),Er.include({toMultiPoint:function(l){var d=[];return this.eachLayer(function(y){d.push(y.toGeoJSON(l).geometry.coordinates)}),Or(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(l){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(l);var y=d==="GeometryCollection",C=[];return this.eachLayer(function(W){if(W.toGeoJSON){var se=W.toGeoJSON(l);if(y)C.push(se.geometry);else{var me=ws(se);me.type==="FeatureCollection"?C.push.apply(C,me.features):C.push(me)}}}),y?Or(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Mo(l,d){return new Oi(l,d)}var Ll=Mo,Di=_n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,d,y){this._url=l,this._bounds=G(d),N(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&fs(this._image),this},bringToBack:function(){return this._map&&ps(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=G(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",d=this._image=l?this._url:Vt("img");if(Mt(d,"leaflet-image-layer"),this._zoomAnimated&&Mt(d,"leaflet-zoom-animated"),this.options.className&&Mt(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onload=a(this.fire,this,"load"),d.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(l){var d=this._map.getZoomScale(l.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ki(this._image,y,d)},_reset:function(){var l=this._image,d=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=d.getSize();Pn(l,d.min),l.style.width=y.x+"px",l.style.height=y.y+"px"},_updateOpacity:function(){hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Ii=function(l,d,y){return new Di(l,d,y)},Ji=Di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",d=this._image=l?this._url:Vt("video");if(Mt(d,"leaflet-image-layer"),this._zoomAnimated&&Mt(d,"leaflet-zoom-animated"),this.options.className&&Mt(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onloadeddata=a(this.fire,this,"load"),l){for(var y=d.getElementsByTagName("source"),C=[],W=0;W<y.length;W++)C.push(y[W].src);this._url=y.length>0?C:[d.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var se=0;se<this._url.length;se++){var me=Vt("source");me.src=this._url[se],d.appendChild(me)}}});function To(l,d,y){return new Ji(l,d,y)}var Oo=Di.extend({_initImage:function(){var l=this._image=this._url;Mt(l,"leaflet-image-layer"),this._zoomAnimated&&Mt(l,"leaflet-zoom-animated"),this.options.className&&Mt(l,this.options.className),l.onselectstart=m,l.onmousemove=m}});function Do(l,d,y){return new Oo(l,d,y)}var or=_n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,d){l&&(l instanceof $||j(l))?(this._latlng=ne(l),N(this,d)):(N(this,l),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&hr(this._container,1),this.bringToFront(),this.options.interactive&&(Mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(hr(this._container,0),this._removeTimeout=setTimeout(a(Et,void 0,this._container),200)):Et(this._container),this.options.interactive&&(Xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=ne(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fs(this._container),this},bringToBack:function(){return this._map&&ps(this._container),this},_prepareOpen:function(l){var d=this._source;if(!d._map)return!1;if(d instanceof Jr){d=null;var y=this._source._layers;for(var C in y)if(y[C]._map){d=y[C];break}if(!d)return!1;this._source=d}if(!l)if(d.getCenter)l=d.getCenter();else if(d.getLatLng)l=d.getLatLng();else if(d.getBounds)l=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")l.innerHTML=d;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),d=ee(this.options.offset),y=this._getAnchor();this._zoomAnimated?Pn(this._container,l.add(y)):d=d.add(l).add(y);var C=this._containerBottom=-d.y,W=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=C+"px",this._container.style.left=W+"px"}},_getAnchor:function(){return[0,0]}});zt.include({_initOverlay:function(l,d,y,C){var W=d;return W instanceof l||(W=new l(C).setContent(d)),y&&W.setLatLng(y),W}}),_n.include({_initOverlay:function(l,d,y,C){var W=y;return W instanceof l?(N(W,C),W._source=this):(W=d&&!C?d:new l(C,this),W.setContent(y)),W}});var $s=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,or.prototype.openOn.call(this,l)},onAdd:function(l){or.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qr||this._source.on("preclick",xs))},onRemove:function(l){or.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qr||this._source.off("preclick",xs))},getEvents:function(){var l=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",d=this._container=Vt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=Vt("div",l+"-content-wrapper",d);if(this._contentNode=Vt("div",l+"-content",y),Po(d),xl(this._contentNode),Pt(d,"contextmenu",xs),this._tipContainer=Vt("div",l+"-tip-container",d),this._tip=Vt("div",l+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Vt("a",l+"-close-button",d);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(C,"click",function(W){En(W),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,d=l.style;d.width="",d.whiteSpace="nowrap";var y=l.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),d.width=y+1+"px",d.whiteSpace="",d.height="";var C=l.offsetHeight,W=this.options.maxHeight,se="leaflet-popup-scrolled";W&&C>W?(d.height=W+"px",Mt(l,se)):Xt(l,se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),y=this._getAnchor();Pn(this._container,d.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,d=parseInt(Zi(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+d,C=this._containerWidth,W=new H(this._containerLeft,-y-this._containerBottom);W._add(Gi(this._container));var se=l.layerPointToContainerPoint(W),me=ee(this.options.autoPanPadding),ke=ee(this.options.autoPanPaddingTopLeft||me),Ee=ee(this.options.autoPanPaddingBottomRight||me),Ve=l.getSize(),at=0,wt=0;se.x+C+Ee.x>Ve.x&&(at=se.x+C-Ve.x+Ee.x),se.x-at-ke.x<0&&(at=se.x-ke.x),se.y+y+Ee.y>Ve.y&&(wt=se.y+y-Ve.y+Ee.y),se.y-wt-ke.y<0&&(wt=se.y-ke.y),(at||wt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([at,wt]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gi=function(l,d){return new $s(l,d)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(l,d,y){return this._initOverlay($s,l,d,y).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),_n.include({bindPopup:function(l,d){return this._popup=this._initOverlay($s,this._popup,l,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Jr||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){Gr(l);var d=l.layer||l.target;if(this._popup._source===d&&!(d instanceof Qr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=d,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var xi=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){or.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){or.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=or.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",d=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Vt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var d,y,C=this._map,W=this._container,se=C.latLngToContainerPoint(C.getCenter()),me=C.layerPointToContainerPoint(l),ke=this.options.direction,Ee=W.offsetWidth,Ve=W.offsetHeight,at=ee(this.options.offset),wt=this._getAnchor();ke==="top"?(d=Ee/2,y=Ve):ke==="bottom"?(d=Ee/2,y=0):ke==="center"?(d=Ee/2,y=Ve/2):ke==="right"?(d=0,y=Ve/2):ke==="left"?(d=Ee,y=Ve/2):me.x<se.x?(ke="right",d=0,y=Ve/2):(ke="left",d=Ee+(at.x+wt.x)*2,y=Ve/2),l=l.subtract(ee(d,y,!0)).add(at).add(wt),Xt(W,"leaflet-tooltip-right"),Xt(W,"leaflet-tooltip-left"),Xt(W,"leaflet-tooltip-top"),Xt(W,"leaflet-tooltip-bottom"),Mt(W,"leaflet-tooltip-"+ke),Pn(W,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&hr(this._container,l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(d)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fn=function(l,d){return new xi(l,d)};zt.include({openTooltip:function(l,d,y){return this._initOverlay(xi,l,d,y).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),_n.include({bindTooltip:function(l,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xi,this._tooltip,l,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var d=l?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[d](y),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Jr||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&(Pt(d,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Pt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var d=l.latlng,y,C;this._tooltip.options.sticky&&l.originalEvent&&(y=this._map.mouseEventToContainerPoint(l.originalEvent),C=this._map.containerPointToLayerPoint(y),d=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(d)}});var on=Ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var d=l&&l.tagName==="DIV"?l:document.createElement("div"),y=this.options;if(y.html instanceof Element?(No(d),d.appendChild(y.html)):d.innerHTML=y.html!==!1?y.html:"",y.bgPos){var C=ee(y.bgPos);d.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Mn(l){return new on(l)}Ti.Default=vs;var wn=_n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:it.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){N(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Et(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ps(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof H?l:new H(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var d=this.getPane().children,y=-l(-1/0,1/0),C=0,W=d.length,se;C<W;C++)se=d[C].style.zIndex,d[C]!==this._container&&se&&(y=l(y,+se));isFinite(y)&&(this.options.zIndex=y+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it.ielt9){hr(this._container,this.options.opacity);var l=+new Date,d=!1,y=!1;for(var C in this._tiles){var W=this._tiles[C];if(!(!W.current||!W.loaded)){var se=Math.min(1,(l-W.loaded)/200);hr(W.el,se),se<1?d=!0:(W.active?y=!0:this._onOpaqueTile(W),W.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),d&&(R(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,d=this.options.maxZoom;if(l!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===l?(this._levels[y].el.style.zIndex=d-Math.abs(l-y),this._onUpdateLevel(y)):(Et(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var C=this._levels[l],W=this._map;return C||(C=this._levels[l]={},C.el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=d,C.origin=W.project(W.unproject(W.getPixelOrigin()),l).round(),C.zoom=l,this._setZoomTransform(C,W.getCenter(),W.getZoom()),m(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var l,d,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)d=this._tiles[l],d.retain=d.current;for(l in this._tiles)if(d=this._tiles[l],d.current&&!d.active){var C=d.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var d in this._tiles)this._tiles[d].coords.z===l&&this._removeTile(d)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Et(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,d,y,C){var W=Math.floor(l/2),se=Math.floor(d/2),me=y-1,ke=new H(+W,+se);ke.z=+me;var Ee=this._tileCoordsToKey(ke),Ve=this._tiles[Ee];return Ve&&Ve.active?(Ve.retain=!0,!0):(Ve&&Ve.loaded&&(Ve.retain=!0),me>C?this._retainParent(W,se,me,C):!1)},_retainChildren:function(l,d,y,C){for(var W=2*l;W<2*l+2;W++)for(var se=2*d;se<2*d+2;se++){var me=new H(W,se);me.z=y+1;var ke=this._tileCoordsToKey(me),Ee=this._tiles[ke];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);y+1<C&&this._retainChildren(W,se,y+1,C)}},_resetView:function(l){var d=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var d=this.options;return d.minNativeZoom!==void 0&&l<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<l?d.maxNativeZoom:l},_setView:function(l,d,y,C){var W=Math.round(d);this.options.maxZoom!==void 0&&W>this.options.maxZoom||this.options.minZoom!==void 0&&W<this.options.minZoom?W=void 0:W=this._clampZoom(W);var se=this.options.updateWhenZooming&&W!==this._tileZoom;(!C||se)&&(this._tileZoom=W,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),W!==void 0&&this._update(l),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(l,d)},_setZoomTransforms:function(l,d){for(var y in this._levels)this._setZoomTransform(this._levels[y],l,d)},_setZoomTransform:function(l,d,y){var C=this._map.getZoomScale(y,l.zoom),W=l.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(d,y)).round();it.any3d?Ki(l.el,W,C):Pn(l.el,W)},_resetGrid:function(){var l=this._map,d=l.options.crs,y=this._tileSize=this.getTileSize(),C=this._tileZoom,W=this._map.getPixelWorldBounds(this._tileZoom);W&&(this._globalTileRange=this._pxBoundsToTileRange(W)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,d.wrapLng[0]],C).x/y.x),Math.ceil(l.project([0,d.wrapLng[1]],C).x/y.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([d.wrapLat[0],0],C).y/y.x),Math.ceil(l.project([d.wrapLat[1],0],C).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var d=this._map,y=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),C=d.getZoomScale(y,this._tileZoom),W=d.project(l,this._tileZoom).floor(),se=d.getSize().divideBy(C*2);return new te(W.subtract(se),W.add(se))},_update:function(l){var d=this._map;if(d){var y=this._clampZoom(d.getZoom());if(l===void 0&&(l=d.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(l),W=this._pxBoundsToTileRange(C),se=W.getCenter(),me=[],ke=this.options.keepBuffer,Ee=new te(W.getBottomLeft().subtract([ke,-ke]),W.getTopRight().add([ke,-ke]));if(!(isFinite(W.min.x)&&isFinite(W.min.y)&&isFinite(W.max.x)&&isFinite(W.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ve in this._tiles){var at=this._tiles[Ve].coords;(at.z!==this._tileZoom||!Ee.contains(new H(at.x,at.y)))&&(this._tiles[Ve].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(l,y);return}for(var wt=W.min.y;wt<=W.max.y;wt++)for(var Rt=W.min.x;Rt<=W.max.x;Rt++){var wr=new H(Rt,wt);if(wr.z=this._tileZoom,!!this._isValidTile(wr)){var $n=this._tiles[this._tileCoordsToKey(wr)];$n?$n.current=!0:me.push(wr)}}if(me.sort(function(Ir,wa){return Ir.distanceTo(se)-wa.distanceTo(se)}),me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yi=document.createDocumentFragment();for(Rt=0;Rt<me.length;Rt++)this._addTile(me[Rt],yi);this._level.el.appendChild(yi)}}}},_isValidTile:function(l){var d=this._map.options.crs;if(!d.infinite){var y=this._globalTileRange;if(!d.wrapLng&&(l.x<y.min.x||l.x>y.max.x)||!d.wrapLat&&(l.y<y.min.y||l.y>y.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(l);return G(this.options.bounds).overlaps(C)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var d=this._map,y=this.getTileSize(),C=l.scaleBy(y),W=C.add(y),se=d.unproject(C,l.z),me=d.unproject(W,l.z);return[se,me]},_tileCoordsToBounds:function(l){var d=this._tileCoordsToNwSe(l),y=new B(d[0],d[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var d=l.split(":"),y=new H(+d[0],+d[1]);return y.z=+d[2],y},_removeTile:function(l){var d=this._tiles[l];d&&(Et(d.el),delete this._tiles[l],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Mt(l,"leaflet-tile");var d=this.getTileSize();l.style.width=d.x+"px",l.style.height=d.y+"px",l.onselectstart=m,l.onmousemove=m,it.ielt9&&this.options.opacity<1&&hr(l,this.options.opacity)},_addTile:function(l,d){var y=this._getTilePos(l),C=this._tileCoordsToKey(l),W=this.createTile(this._wrapCoords(l),a(this._tileReady,this,l));this._initTile(W),this.createTile.length<2&&I(a(this._tileReady,this,l,null,W)),Pn(W,y),this._tiles[C]={el:W,coords:l,current:!0},d.appendChild(W),this.fire("tileloadstart",{tile:W,coords:l})},_tileReady:function(l,d,y){d&&this.fire("tileerror",{error:d,tile:y,coords:l});var C=this._tileCoordsToKey(l);y=this._tiles[C],y&&(y.loaded=+new Date,this._map._fadeAnimated?(hr(y.el,0),R(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),d||(Mt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var d=new H(this._wrapX?f(l.x,this._wrapX):l.x,this._wrapY?f(l.y,this._wrapY):l.y);return d.z=l.z,d},_pxBoundsToTileRange:function(l){var d=this.getTileSize();return new te(l.min.unscaleBy(d).floor(),l.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Ns(l){return new wn(l)}var ri=wn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,d){this._url=l,d=N(this,d),d.detectRetina&&it.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,d){return this._url===l&&d===void 0&&(d=!0),this._url=l,d||this.redraw(),this},createTile:function(l,d){var y=document.createElement("img");return Pt(y,"load",a(this._tileOnLoad,this,d,y)),Pt(y,"error",a(this._tileOnError,this,d,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(l),y},getTileUrl:function(l){var d={r:it.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-l.y;this.options.tms&&(d.y=y),d["-y"]=y}return w(this._url,i(d,this.options))},_tileOnLoad:function(l,d){it.ielt9?setTimeout(a(l,this,null,d),0):l(null,d)},_tileOnError:function(l,d,y){var C=this.options.errorTileUrl;C&&d.getAttribute("src")!==C&&(d.src=C),l(y,d)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,d=this.options.maxZoom,y=this.options.zoomReverse,C=this.options.zoomOffset;return y&&(l=d-l),l+C},_getSubdomain:function(l){var d=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var l,d;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(d=this._tiles[l].el,d.onload=m,d.onerror=m,!d.complete)){d.src=T;var y=this._tiles[l].coords;Et(d),delete this._tiles[l],this.fire("tileabort",{tile:d,coords:y})}},_removeTile:function(l){var d=this._tiles[l];if(d)return d.el.setAttribute("src",T),wn.prototype._removeTile.call(this,l)},_tileReady:function(l,d,y){if(!(!this._map||y&&y.getAttribute("src")===T))return wn.prototype._tileReady.call(this,l,d,y)}});function Io(l,d){return new ri(l,d)}var Al=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,d){this._url=l;var y=i({},this.defaultWmsParams);for(var C in d)C in this.options||(y[C]=d[C]);d=N(this,d);var W=d.detectRetina&&it.retina?2:1,se=this.getTileSize();y.width=se.x*W,y.height=se.y*W,this.wmsParams=y},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,ri.prototype.onAdd.call(this,l)},getTileUrl:function(l){var d=this._tileCoordsToNwSe(l),y=this._crs,C=M(y.project(d[0]),y.project(d[1])),W=C.min,se=C.max,me=(this._wmsVersion>=1.3&&this._crs===Vn?[W.y,W.x,se.y,se.x]:[W.x,W.y,se.x,se.y]).join(","),ke=ri.prototype.getTileUrl.call(this,l);return ke+k(this.wmsParams,ke,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+me},setParams:function(l,d){return i(this.wmsParams,l),d||this.redraw(),this}});function zh(l,d){return new Al(l,d)}ri.WMS=Al,Io.wms=zh;var Qi=_n.extend({options:{padding:.1},initialize:function(l){N(this,l),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,d){var y=this._map.getZoomScale(d,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),W=this._map.project(this._center,d),se=C.multiplyBy(-y).add(W).subtract(this._map._getNewPixelOrigin(l,d));it.any3d?Ki(this._container,se,y):Pn(this._container,se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,d=this._map.getSize(),y=this._map.containerPointToLayerPoint(d.multiplyBy(-l)).round();this._bounds=new te(y,y.add(d.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vu=Qi.extend({options:{tolerance:0},getEvents:function(){var l=Qi.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Pt(l,"mousemove",this._onMouseMove,this),Pt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,Et(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var d in this._layers)l=this._layers[d],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var l=this._bounds,d=this._container,y=l.getSize(),C=it.retina?2:1;Pn(d,l.min),d.width=C*y.x,d.height=C*y.y,d.style.width=y.x+"px",d.style.height=y.y+"px",it.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[u(l)]=l;var d=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var d=l._order,y=d.next,C=d.prev;y?y.prev=C:this._drawLast=C,C?C.next=y:this._drawFirst=y,delete l._order,delete this._layers[u(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var d=l.options.dashArray.split(/[, ]+/),y=[],C,W;for(W=0;W<d.length;W++){if(C=Number(d[W]),isNaN(C))return;y.push(C)}l.options._dashArray=y}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var d=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(l._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(l._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var d=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,d=this._redrawBounds;if(this._ctx.save(),d){var y=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)l=C.layer,(!d||l._pxBounds&&l._pxBounds.intersects(d))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,d){if(this._drawing){var y,C,W,se,me=l._parts,ke=me.length,Ee=this._ctx;if(ke){for(Ee.beginPath(),y=0;y<ke;y++){for(C=0,W=me[y].length;C<W;C++)se=me[y][C],Ee[C?"lineTo":"moveTo"](se.x,se.y);d&&Ee.closePath()}this._fillStroke(Ee,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var d=l._point,y=this._ctx,C=Math.max(Math.round(l._radius),1),W=(Math.max(Math.round(l._radiusY),1)||C)/C;W!==1&&(y.save(),y.scale(1,W)),y.beginPath(),y.arc(d.x,d.y/W,C,0,Math.PI*2,!1),W!==1&&y.restore(),this._fillStroke(y,l)}},_fillStroke:function(l,d){var y=d.options;y.fill&&(l.globalAlpha=y.fillOpacity,l.fillStyle=y.fillColor||y.color,l.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(l.setLineDash&&l.setLineDash(d.options&&d.options._dashArray||[]),l.globalAlpha=y.opacity,l.lineWidth=y.weight,l.strokeStyle=y.color,l.lineCap=y.lineCap,l.lineJoin=y.lineJoin,l.stroke())},_onClick:function(l){for(var d=this._map.mouseEventToLayerPoint(l),y,C,W=this._drawFirst;W;W=W.next)y=W.layer,y.options.interactive&&y._containsPoint(d)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(y))&&(C=y);this._fireEvent(C?[C]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,d)}},_handleMouseOut:function(l){var d=this._hoveredLayer;d&&(Xt(this._container,"leaflet-interactive"),this._fireEvent([d],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,d){if(!this._mouseHoverThrottled){for(var y,C,W=this._drawFirst;W;W=W.next)y=W.layer,y.options.interactive&&y._containsPoint(d)&&(C=y);C!==this._hoveredLayer&&(this._handleMouseOut(l),C&&(Mt(this._container,"leaflet-interactive"),this._fireEvent([C],l,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,d,y){this._map._fireDOMEvent(d,y||d.type,l)},_bringToFront:function(l){var d=l._order;if(d){var y=d.next,C=d.prev;if(y)y.prev=C;else return;C?C.next=y:y&&(this._drawFirst=y),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(l)}},_bringToBack:function(l){var d=l._order;if(d){var y=d.next,C=d.prev;if(C)C.next=y;else return;y?y.prev=C:C&&(this._drawLast=C),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(l)}}});function $u(l){return it.canvas?new Vu(l):null}var ba=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Uh={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qi.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var d=l._container=ba("shape");Mt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",l._path=ba("path"),d.appendChild(l._path),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){var d=l._container;this._container.appendChild(d),l.options.interactive&&l.addInteractiveTarget(d)},_removePath:function(l){var d=l._container;Et(d),l.removeInteractiveTarget(d),delete this._layers[u(l)]},_updateStyle:function(l){var d=l._stroke,y=l._fill,C=l.options,W=l._container;W.stroked=!!C.stroke,W.filled=!!C.fill,C.stroke?(d||(d=l._stroke=ba("stroke")),W.appendChild(d),d.weight=C.weight+"px",d.color=C.color,d.opacity=C.opacity,C.dashArray?d.dashStyle=j(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=C.lineCap.replace("butt","flat"),d.joinstyle=C.lineJoin):d&&(W.removeChild(d),l._stroke=null),C.fill?(y||(y=l._fill=ba("fill")),W.appendChild(y),y.color=C.fillColor||C.color,y.opacity=C.fillOpacity):y&&(W.removeChild(y),l._fill=null)},_updateCircle:function(l){var d=l._point.round(),y=Math.round(l._radius),C=Math.round(l._radiusY||y);this._setPath(l,l._empty()?"M0 0":"AL "+d.x+","+d.y+" "+y+","+C+" 0,"+65535*360)},_setPath:function(l,d){l._path.v=d},_bringToFront:function(l){fs(l._container)},_bringToBack:function(l){ps(l._container)}},_a=it.vml?ba:fe,Ys=Qi.extend({_initContainer:function(){this._container=_a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Et(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qi.prototype._update.call(this);var l=this._bounds,d=l.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,y.setAttribute("width",d.x),y.setAttribute("height",d.y)),Pn(y,l.min),y.setAttribute("viewBox",[l.min.x,l.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(l){var d=l._path=_a("path");l.options.className&&Mt(d,l.options.className),l.options.interactive&&Mt(d,"leaflet-interactive"),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Et(l._path),l.removeInteractiveTarget(l._path),delete this._layers[u(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var d=l._path,y=l.options;d&&(y.stroke?(d.setAttribute("stroke",y.color),d.setAttribute("stroke-opacity",y.opacity),d.setAttribute("stroke-width",y.weight),d.setAttribute("stroke-linecap",y.lineCap),d.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?d.setAttribute("stroke-dasharray",y.dashArray):d.removeAttribute("stroke-dasharray"),y.dashOffset?d.setAttribute("stroke-dashoffset",y.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),y.fill?(d.setAttribute("fill",y.fillColor||y.color),d.setAttribute("fill-opacity",y.fillOpacity),d.setAttribute("fill-rule",y.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(l,d){this._setPath(l,ue(l._parts,d))},_updateCircle:function(l){var d=l._point,y=Math.max(Math.round(l._radius),1),C=Math.max(Math.round(l._radiusY),1)||y,W="a"+y+","+C+" 0 1,0 ",se=l._empty()?"M0 0":"M"+(d.x-y)+","+d.y+W+y*2+",0 "+W+-y*2+",0 ";this._setPath(l,se)},_setPath:function(l,d){l._path.setAttribute("d",d)},_bringToFront:function(l){fs(l._path)},_bringToBack:function(l){ps(l._path)}});it.vml&&Ys.include(Uh);function Dr(l){return it.svg||it.vml?new Ys(l):null}zt.include({getRenderer:function(l){var d=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var d=this._paneRenderers[l];return d===void 0&&(d=this._createRenderer({pane:l}),this._paneRenderers[l]=d),d},_createRenderer:function(l){return this.options.preferCanvas&&$u(l)||Dr(l)}});var ii=mr.extend({initialize:function(l,d){mr.prototype.initialize.call(this,this._boundsToLatLngs(l),d)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=G(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Ec(l,d){return new ii(l,d)}Ys.create=_a,Ys.pointsToPath=ue,Oi.geometryToLayer=va,Oi.coordsToLatLng=Mr,Oi.coordsToLatLngs=Tr,Oi.latLngToCoords=Xi,Oi.latLngsToCoords=ti,Oi.getFeature=Or,Oi.asFeature=ws,zt.mergeOptions({boxZoom:!0});var El=Ar.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),So(),ml(),this._startPoint=this._map.mouseEventToContainerPoint(l),Pt(document,{contextmenu:Gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),Mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var d=new te(this._point,this._startPoint),y=d.getSize();Pn(this._box,d.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Et(this._box),Xt(this._container,"leaflet-crosshair")),ms(),Ei(),Wt(document,{contextmenu:Gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var d=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zt.addInitHook("addHandler","boxZoom",El),zt.mergeOptions({doubleClickZoom:!0});var Yu=Ar.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var d=this._map,y=d.getZoom(),C=d.options.zoomDelta,W=l.originalEvent.shiftKey?y-C:y+C;d.options.doubleClickZoom==="center"?d.setZoom(W):d.setZoomAround(l.containerPoint,W)}});zt.addInitHook("addHandler","doubleClickZoom",Yu),zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ml=Ar.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new mi(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xt(this._map._container,"leaflet-grab"),Xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=G(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var d=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(d),this._prunePositions(d)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,d){return l-(l-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;l.x<d.min.x&&(l.x=this._viscousLimit(l.x,d.min.x)),l.y<d.min.y&&(l.y=this._viscousLimit(l.y,d.min.y)),l.x>d.max.x&&(l.x=this._viscousLimit(l.x,d.max.x)),l.y>d.max.y&&(l.y=this._viscousLimit(l.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,d=Math.round(l/2),y=this._initialWorldOffset,C=this._draggable._newPos.x,W=(C-d+y)%l+d-y,se=(C+d+y)%l-d-y,me=Math.abs(W+y)<Math.abs(se+y)?W:se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=me},_onDragEnd:function(l){var d=this._map,y=d.options,C=!y.inertia||l.noInertia||this._times.length<2;if(d.fire("dragend",l),C)d.fire("moveend");else{this._prunePositions(+new Date);var W=this._lastPos.subtract(this._positions[0]),se=(this._lastTime-this._times[0])/1e3,me=y.easeLinearity,ke=W.multiplyBy(me/se),Ee=ke.distanceTo([0,0]),Ve=Math.min(y.inertiaMaxSpeed,Ee),at=ke.multiplyBy(Ve/Ee),wt=Ve/(y.inertiaDeceleration*me),Rt=at.multiplyBy(-wt/2).round();!Rt.x&&!Rt.y?d.fire("moveend"):(Rt=d._limitOffset(Rt,d.options.maxBounds),I(function(){d.panBy(Rt,{duration:wt,easeLinearity:me,noMoveStart:!0,animate:!0})}))}}});zt.addInitHook("addHandler","dragging",Ml),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tl=Ar.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Pt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,d=document.documentElement,y=l.scrollTop||d.scrollTop,C=l.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(C,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var d=this._panKeys={},y=this.keyCodes,C,W;for(C=0,W=y.left.length;C<W;C++)d[y.left[C]]=[-1*l,0];for(C=0,W=y.right.length;C<W;C++)d[y.right[C]]=[l,0];for(C=0,W=y.down.length;C<W;C++)d[y.down[C]]=[0,l];for(C=0,W=y.up.length;C<W;C++)d[y.up[C]]=[0,-1*l]},_setZoomDelta:function(l){var d=this._zoomKeys={},y=this.keyCodes,C,W;for(C=0,W=y.zoomIn.length;C<W;C++)d[y.zoomIn[C]]=l;for(C=0,W=y.zoomOut.length;C<W;C++)d[y.zoomOut[C]]=-l},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var d=l.keyCode,y=this._map,C;if(d in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(C=this._panKeys[d],l.shiftKey&&(C=ee(C).multiplyBy(3)),y.options.maxBounds&&(C=y._limitOffset(ee(C),y.options.maxBounds)),y.options.worldCopyJump){var W=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(C)));y.panTo(W)}else y.panBy(C)}else if(d in this._zoomKeys)y.setZoom(y.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;Gr(l)}}});zt.addInitHook("addHandler","keyboard",Tl),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mc=Ar.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var d=fa(l),y=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var C=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),C),Gr(l)},_performZoom:function(){var l=this._map,d=l.getZoom(),y=this._map.options.zoomSnap||0;l._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),W=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,se=y?Math.ceil(W/y)*y:W,me=l._limitZoom(d+(this._delta>0?se:-se))-d;this._delta=0,this._startTime=null,me&&(l.options.scrollWheelZoom==="center"?l.setZoom(d+me):l.setZoomAround(this._lastMousePos,d+me))}});zt.addInitHook("addHandler","scrollWheelZoom",Mc);var Wh=600;zt.mergeOptions({tapHold:it.touchNative&&it.safari&&it.mobile,tapTolerance:15});var Tc=Ar.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var d=l.touches[0];this._startPos=this._newPos=new H(d.clientX,d.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",En),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),Wh),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Wt(document,"touchend",En),Wt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(l){var d=l.touches[0];this._newPos=new H(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,d){var y=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});y._simulated=!0,d.target.dispatchEvent(y)}});zt.addInitHook("addHandler","tapHold",Tc),zt.mergeOptions({touchZoom:it.touch,bounceAtZoomLimits:!0});var Oc=Ar.extend({addHooks:function(){Mt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var d=this._map;if(!(!l.touches||l.touches.length!==2||d._animatingZoom||this._zooming)){var y=d.mouseEventToContainerPoint(l.touches[0]),C=d.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(y.add(C)._divideBy(2))),this._startDist=y.distanceTo(C),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),En(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var d=this._map,y=d.mouseEventToContainerPoint(l.touches[0]),C=d.mouseEventToContainerPoint(l.touches[1]),W=y.distanceTo(C)/this._startDist;if(this._zoom=d.getScaleZoom(W,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&W<1||this._zoom>d.getMaxZoom()&&W>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,W===1)return}else{var se=y._add(C)._divideBy(2)._subtract(this._centerPoint);if(W===1&&se.x===0&&se.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(se),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var me=a(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(me,this,!0),En(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zt.addInitHook("addHandler","touchZoom",Oc),zt.BoxZoom=El,zt.DoubleClickZoom=Yu,zt.Drag=Ml,zt.Keyboard=Tl,zt.ScrollWheelZoom=Mc,zt.TapHold=Tc,zt.TouchZoom=Oc,n.Bounds=te,n.Browser=it,n.CRS=he,n.Canvas=Vu,n.Circle=pr,n.CircleMarker=bs,n.Class=U,n.Control=qn,n.DivIcon=on,n.DivOverlay=or,n.DomEvent=Sc,n.DomUtil=Ct,n.Draggable=mi,n.Evented=Z,n.FeatureGroup=Jr,n.GeoJSON=Oi,n.GridLayer=wn,n.Handler=Ar,n.Icon=Ti,n.ImageOverlay=Di,n.LatLng=$,n.LatLngBounds=B,n.Layer=_n,n.LayerGroup=Er,n.LineUtil=$t,n.Map=zt,n.Marker=sr,n.Mixin=Pc,n.Path=Qr,n.Point=H,n.PolyUtil=ga,n.Polygon=mr,n.Polyline=ei,n.Popup=$s,n.PosAnimation=yl,n.Projection=Rn,n.Rectangle=ii,n.Renderer=Qi,n.SVG=Ys,n.SVGOverlay=Oo,n.TileLayer=ri,n.Tooltip=xi,n.Transformation=De,n.Util=K,n.VideoOverlay=Ji,n.bind=a,n.bounds=M,n.canvas=$u,n.circle=qu,n.circleMarker=Cl,n.control=pi,n.divIcon=Mn,n.extend=i,n.featureGroup=Sl,n.geoJSON=Mo,n.geoJson=Ll,n.gridLayer=Ns,n.icon=kl,n.imageOverlay=Ii,n.latLng=ne,n.latLngBounds=G,n.layerGroup=Lc,n.map=kc,n.marker=ya,n.point=ee,n.polygon=Pl,n.polyline=Ac,n.popup=gi,n.rectangle=Ec,n.setOptions=N,n.stamp=u,n.svg=Dr,n.svgOverlay=Do,n.tileLayer=Io,n.tooltip=fn,n.transformation=We,n.version=r,n.videoOverlay=To;var Dc=window.L;n.noConflict=function(){return window.L=Dc,this},window.L=n})})(T1,T1.exports);var sx=T1.exports;function o3(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function a3(t,e){return e==null?function(r,i){const s=O.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=O.useRef();s.current||(s.current=t(r,i));const a=O.useRef(r),{instance:c}=s.current;return O.useEffect(function(){a.current!==r&&(e(c,r,a.current),a.current=r)},[c,r,i]),s}}function V9(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function l3(t){return function(n){const r=i3(),i=t(s3(n,r),r);return F9(r.map,n.attribution),q9(i.current,n.eventHandlers),V9(i.current,r),i}}function $9(t,e){const n=a3(t,e),r=l3(n);return W9(r)}function Y9(t,e){const n=a3(t,e),r=l3(n);return H9(r)}function Z9(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function K9(){return i3().map}function G9(t){const e=K9();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function O1(){return O1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function X9({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:a,style:c,whenReady:u,zoom:h,...f},m){const[x]=O.useState({className:i,id:s,style:c}),[g,b]=O.useState(null);O.useImperativeHandle(m,()=>(g==null?void 0:g.map)??null,[g]);const N=O.useCallback(v=>{if(v!==null&&g===null){const w=new sx.Map(v,f);n!=null&&h!=null?w.setView(n,h):t!=null&&w.fitBounds(t,e),u!=null&&w.whenReady(u),b(z9(w))}},[]);O.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const k=g?ki.createElement(r3,{value:g},r):a??null;return ki.createElement("div",O1({},x,{ref:N}),k)}const J9=O.forwardRef(X9),Q9=$9(function({position:e,...n},r){const i=new sx.Marker(e,n);return o3(i,U9(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),eE=Y9(function({url:e,...n},r){const i=new sx.TileLayer(e,s3(n,r));return o3(i,r)},function(e,n,r){Z9(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});function tE({setLatitude:t,setLongitude:e,latitude:n,longitude:r}){const i=G9({click(s){const{lat:a,lng:c}=s.latlng;t(a),e(c),i.setView([a,c],13)}});return O.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{const{latitude:a,longitude:c}=s.coords;t(a),e(c),i.setView([a,c],13)},()=>{console.error("Geolocation permission denied or unavailable.")})},[i,t,e]),n&&r?o.jsx(Q9,{position:[n,r]}):null}function nE(){const[t,e]=O.useState(!1),[n,r]=O.useState(""),[i,s]=O.useState(""),[a,c]=O.useState(""),[u,h]=O.useState(""),[f,m]=O.useState(null),[x,g]=O.useState(null),[b,N]=O.useState(""),k=()=>e(!0),v=()=>e(!1),w=j=>{j.preventDefault(),console.log("Form Data:",{fullName:n,phoneNumber:i,fullAddress:a,postalCode:u,latitude:f,longitude:x}),v()};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"p-8 ml-72 mt-10",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Addresses"}),o.jsx("button",{className:"px-4 py-2 bg-[#00b251] text-white rounded-lg shadow-md hover:bg-[#009e44] transition-colors duration-300",onClick:k,children:"+ Add New Address"}),o.jsx(ra,{isOpen:t,onClose:v,allowCloseOutside:!1,children:o.jsxs("form",{className:`p-6 bg-white rounded-lg shadow-md w-full mx-auto 
            sm:max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl`,onSubmit:w,children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#00b251]",children:"New Address"}),o.jsx("input",{type:"text",name:"full_name",value:n,placeholder:"Full Name",onChange:j=>r(j.target.value),className:"block w-full p-2 border border-gray-300 rounded-lg mb-4"}),o.jsx("input",{type:"text",name:"phone_number",value:i,placeholder:"Phone Number",onChange:j=>s(j.target.value),className:"block w-full p-2 border border-gray-300 rounded-lg mb-4"}),o.jsx("input",{type:"text",name:"full_address",value:a,placeholder:"Full Address",onChange:j=>c(j.target.value),className:"block w-full p-2 border border-gray-300 rounded-lg mb-4"}),o.jsx("input",{type:"text",name:"postal_code",value:u,placeholder:"Postal Code",onChange:j=>h(j.target.value),className:"block w-full p-2 border border-gray-300 rounded-lg mb-4"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-600 mb-2",children:"Label As:"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>N("Home"),className:`px-4 py-2 border rounded-lg ${b==="Home"?"bg-[#00b251] text-white":"bg-white text-gray-700 border-gray-300"} transition-colors duration-300`,children:"Home"}),o.jsx("button",{type:"button",onClick:()=>N("Work"),className:`px-4 py-2 border rounded-lg ${b==="Work"?"bg-[#00b251] text-white":"bg-white text-gray-700 border-gray-300"} transition-colors duration-300`,children:"Work"})]})]}),o.jsxs(J9,{center:[16.411355740408894,-239.40484642982486],zoom:13,style:{height:"300px",width:"100%"},className:"mb-4",children:[o.jsx(eE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),o.jsx(tE,{setLatitude:m,setLongitude:g,latitude:f,longitude:x})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-300",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#00b251] text-white rounded-lg shadow-md hover:bg-[#009e44] transition-colors duration-300",children:"Submit"})]})]})})]})})}const e5="AgriTayoAPIKey2024";function rE(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[i,s]=O.useState(!0),[a,c]=O.useState(null),[u,h]=O.useState(!1);async function f(){try{const b=await fetch("/api/session",{headers:{"x-api-key":e5}});if(b.ok){const N=await b.json();console.log("User session data:",N),r(N.user_id)}else console.error("Failed to fetch user session:",b.statusText)}catch(b){console.error("Error fetching user session:",b.message)}finally{s(!1)}}const m=async()=>{try{const b=await fetch("/api/users",{headers:{"x-api-key":e5}});if(!b.ok)throw new Error("Network response was not ok");const N=await b.json();console.log("Fetched users:",N),e(N)}catch(b){console.error("Error fetching users:",b)}};O.useEffect(()=>{m(),f()},[]),O.useEffect(()=>{if(n&&t.length>0){const b=t.find(N=>N.user_id===n);console.log("Filtered user:",b),c(b)}},[n,t]);const x=()=>h(!0),g=()=>h(!1);return o.jsx(o.Fragment,{children:i?o.jsx("div",{className:"loading-container",children:o.jsx("div",{children:"Loading..."})}):o.jsxs("div",{className:"delete-account-container",children:[o.jsx("h1",{children:"Delete Account"}),o.jsx("button",{onClick:x,children:"Delete Account"}),o.jsx(ra,{isOpen:u,onClose:g,children:o.jsxs("div",{className:"modal-content",children:[o.jsx("h2",{children:"Delete Account"}),o.jsx("p",{children:"Do you really want to delete your account?"}),o.jsx("button",{type:"button",onClick:g,children:"Cancel"}),o.jsx("button",{children:"Yes"})]})})]})})}const Ul=({to:t,text:e,icon:n,onClick:r})=>o.jsxs("div",{onClick:()=>r(t),className:"flex items-center cursor-pointer group hover:text-green-600 transition duration-100 ease-in-out px-5 py-2",children:[o.jsx("span",{className:"mr-2 text-xl group-hover:text-green-600",children:n}),o.jsx("span",{className:"font-semibold text-gray-800 group-hover:text-green-600",children:e})]}),iE=()=>{const t=Cn(),e=n=>{t(n)};return o.jsx("div",{className:"bg-white shadow fixed top-2 left-12 w-full z-10 mt-14 ml-[250px] border-b border-gray-200 md:w-[calc(100%-250px)]",children:o.jsx("div",{className:"flex items-center justify-between p-1 max-w-screen-lg mx-auto",children:o.jsxs("div",{className:"flex space-x-7 md:space-x-8",children:[o.jsx(Ul,{to:"/all",text:"All",icon:o.jsx(gk,{}),onClick:e}),o.jsx(Ul,{to:"/toPay",text:"To Pay",icon:o.jsx(yk,{}),onClick:e}),o.jsx(Ul,{to:"/toShip",text:"To Ship",icon:o.jsx(Sk,{}),onClick:e}),o.jsx(Ul,{to:"/toReceive",text:"To Receive",icon:o.jsx(lk,{}),onClick:e}),o.jsx(Ul,{to:"/completed",text:"Completed",icon:o.jsx(hk,{}),onClick:e}),o.jsx(Ul,{to:"/cancelled",text:"Cancelled",icon:o.jsx(jk,{}),onClick:e}),o.jsx(Ul,{to:"/returnOrRefund",text:"Return Refund",icon:o.jsx(kk,{}),onClick:e})]})})})},sE="/AgriTayo_Logo.png",t5="/farm-bg.png",oE="/veg-asset.png",aE=[{title:"Support Local Farmers",description:"Every purchase helps hardworking farmers directly, empowering local communities."},{title:"Communicate and Interact",description:"We promote communication and interaction between farmers and buyers."},{title:"Simple and Fresh",description:"Order fresh agricultural produce through our simple and easy-to-use app."}],lE=[{title:"Rie Zhenzy Zumel",description:"Project Lead"},{title:"Rafael Martin Aquino",description:"Developer"},{title:"Michael Joshua Aquino",description:"Developer"},{title:"Karl Nikolai Vladimir Agustin Parallag III",description:"Developer"},{title:"Alex Raphael Abalos",description:"Developer"}],cE=[{title:"What is AgriTayo?",description:"AgriTayo is an e-commerce application for both farmers and consumers. The purpose of the app is to allow farmers to post their products, while also allowing consumers to directly buy products from the farmers. AgriTayo is both a web-based and a mobile application designed to digitize trading of agricultural products. It is the objective of this application is to connect farmers with buyers directly through direct transactions."},{title:"Why Choose AgriTayo?",description:"At AgriTayo, we are committed to supporting local farmers and making buying easier. Every product you buy helps reduce food miles and supports fair trade farming practices."}];function n5(){const t=O.useRef(null),e=O.useRef(null),n=O.useRef(null);O.useRef(null);const r=[t,n,e],[i,s]=O.useState(0),[a,c]=O.useState(!1),u=x=>{const g=window.scrollY,b=x-g,N=800;let k=null;const v=w=>{k||(k=w);const j=w-k,E=Math.min(j/N,1),T=h(E);window.scrollTo(0,g+b*T),E<1&&requestAnimationFrame(v)};requestAnimationFrame(v)},h=x=>x<.5?2*x*x:-1+(4-2*x)*x,f=()=>{const x=r[i].current;if(x){const g=x.getBoundingClientRect().top+window.scrollY;u(g),s(b=>(b+1)%r.length)}},m=()=>{u(0)};return O.useEffect(()=>{const x=()=>{const g=window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-10;c(g)};return window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}},[]),o.jsxs("div",{className:"bg-gradient-to-b from-[#E6F5E1] to-[#ffffff] flex flex-col",children:[o.jsx("div",{className:"h-screen flex flex-col items-center justify-center relative",style:{backgroundImage:`url(${t5})`,backgroundSize:"cover",backgroundPosition:"center"},children:o.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg p-6 mx-auto text-center items-center justify-center",children:[o.jsx("img",{src:sE,alt:"AgriTayo Logo",className:"h-auto w-full max-w-[300px] md:max-w-[450px] drop-shadow-lg mx-auto mb-6"}),o.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",style:{color:"#00B251",textShadow:"2px 2px 4px black"},children:"AGRITAYO"}),o.jsx("p",{className:"text-lg md:text-xl text-white max-w-[600px] mx-auto mb-6 ",style:{textShadow:"2px 2px 4px black"},children:"Connecting local farmers with buyers across La Trinidad. Fresh produce, farm-to-table, with just a few clicks."})]})}),o.jsx("section",{ref:t,className:"py-36 text-center bg-cover bg-center",style:{backgroundImage:`url(${oE})`,backgroundSize:"cover",backgroundPosition:"center"},children:o.jsx("div",{className:"bg-white bg-opacity-90 p-6 rounded-lg transition-transform duration-300 transform hover:scale-105 inline-block mx-auto",children:aE.map(({title:x,description:g},b)=>o.jsxs("div",{className:"p-6 transition-transform duration-300 transform hover:scale-105",children:[o.jsx("h3",{className:"text-xl md:text-3xl font-bold text-[#008F41]",children:x}),o.jsx("p",{className:"text-gray-800",children:g})]},b))})}),o.jsxs("section",{ref:n,className:"py-28",style:{backgroundImage:`url(${t5})`,backgroundSize:"cover",backgroundPosition:"center"},children:[cE.map(({title:x,description:g},b)=>o.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-start md:items-center justify-between gap-8 mb-20",children:[o.jsx("h1",{className:"text-8xl md:text-6xl font-bold text-[#00B251] flex-1",style:{textShadow:"2px 2px 4px black"},children:x}),o.jsx("p",{className:"text-xl md:text-1xl text-white max-w-[800px] mx-auto flex-1",style:{textShadow:"2px 2px 4px black"},children:g})]},b)),o.jsx("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center justify-center gap-8",children:o.jsx("h1",{className:"text-3xl md:text-3xl text-[#00B251] font-bold text-center",style:{textShadow:"2px 2px 4px black"},children:"Join us in creating a healthier, more sustainable produce trading system."})}),o.jsx("div",{className:"h-8"})]}),o.jsxs("section",{ref:e,className:"py-16 bg-[#F5F9F5] text-center",children:[o.jsx("h2",{className:"text-8xl md:text-6xl font-bold text-[#00B251] mb-4",children:"Meet The Team"}),o.jsxs("p",{className:"text-lg text-gray-700 max-w-[900px] mx-auto mb-6",children:[o.jsx("span",{className:"font-semibold text-[#00B251]",children:"AgriTayo"})," was developed by 4th year ",o.jsx("span",{className:"font-semibold text-[#b91c1c]",children:"University of Baguio"})," students as their Capstone Project and Research."]}),o.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-5 gap-8 mb-12",children:lE.map(({title:x,description:g},b)=>o.jsxs("div",{className:"p-6 transition-transform duration-300 transform hover:scale-105 flex flex-col justify-center items-center",children:[o.jsx("h3",{className:"text-xl md:text-xl font-bold text-[#008F41] text-center",children:x}),o.jsx("p",{className:"text-gray-800 text-center",children:g})]},b))})]}),o.jsx("footer",{className:"mt-0 w-full bg-[#E6F5E1] py-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Developed by students of the ",o.jsx("span",{className:"font-semibold text-[#b91c1c]",children:"University of Baguio"}),"  ",new Date().getFullYear()," AgriTayo. All rights reserved."]})}),!a&&o.jsxs("button",{onClick:f,className:"fixed bottom-16 right-16 bg-[#00B251] text-white p-4 rounded-full hover:bg-[#008F41] transition duration-300 transform hover:scale-105 shadow-lg flex items-center",children:[o.jsx("span",{className:"mr-2",children:"More"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 animate-bounce",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 14.586l4.293-4.293 1.414 1.414L10 17.414l-5.707-5.707 1.414-1.414L10 14.586z",clipRule:"evenodd"})})]}),a&&o.jsxs("button",{onClick:m,className:"fixed bottom-16 right-16 bg-[#008F41] text-white p-4 rounded-full hover:bg-[#00B251] transition duration-300 transform hover:scale-105 shadow-lg flex items-center",children:[o.jsx("span",{className:"mr-2",children:"Back to Top"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 animate-bounce",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 5.414l-4.293 4.293-1.414-1.414L10 1.414l5.707 5.707-1.414 1.414L10 5.414z",clipRule:"evenodd"})})]})]})}function uE(t){return St({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function dE(t){return St({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}const Ea="AgriTayoAPIKey2024";let Ma;const r0=({src:t,alt:e,className:n})=>{const[r,i]=O.useState(!1),s=a=>(a==null?void 0:a.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2))||"??";return r||!t?o.jsx("div",{className:`${n} bg-green-100 flex items-center justify-center`,children:o.jsx("span",{className:"text-green-700 font-semibold text-lg",children:s(e)})}):o.jsx("img",{src:t,alt:e,className:n,onError:()=>i(!0)})};function hE(){const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState([]),[u,h]=O.useState([]),[f,m]=O.useState([]),[x,g]=O.useState([]),[b,N]=O.useState(new Set),[k,v]=O.useState(null),[w,j]=O.useState(null),[E,T]=O.useState(null),[F,D]=O.useState(null),[P,Y]=O.useState(""),[V,I]=O.useState(null),[R,K]=O.useState(null),[U,le]=O.useState(""),[Q,Z]=O.useState(null),H=Cn(),q=O.useRef(null),[ee,te]=O.useState([]),[M,B]=O.useState(""),[G,$]=O.useState(!1),{receiverId:ne,receiverType:he}=Oh(),pe=Number(ne),_e="User",[Me,De]=O.useState(he);O.useEffect(()=>(Ma=co(),Ma.on("activeUsers",Ce=>{console.log("Active users:",Ce),te(Ce)}),Ma.on("chat message",Ce=>{const Re=Ce.sender_id===R&&Ce.receiver_id===pe&&Ce.receiver_type===he&&Ce.sender_type===_e||Ce.receiver_id===R&&Ce.sender_id===pe&&Ce.receiver_type===_e&&Ce.sender_type===he,Je=!Ce.is_read&&Ce.receiver_id===R;console.log("unr:",Je),Je!==0&&(console.log("Executing mark as read for socket message"),mt()),Re&&(console.log("isMessageForThisChat :",Re),e(tt=>[...tt,Ce]),We(),qe())}),()=>{Ma.off("chat message"),Ma.off("activeUsers"),Ma.disconnect()}),[R,ne]),O.useEffect(()=>{(async()=>{try{const Re=await fetch("/api/session",{headers:{"x-api-key":Ea}});if(Re.ok){const Je=await Re.json();Je.user_id?K(Je.user_id):H("/login")}else console.error("Failed to fetch user session:",Re.statusText)}catch(Re){console.error("Error fetching user session:",Re),le("Failed to fetch user session. Please try again.")}})()},[H,R]),O.useEffect(()=>{(async()=>{try{const Re=await fetch("/api/users",{headers:{"x-api-key":Ea}});if(!Re.ok)throw new Error("Network response was not ok");const Je=await Re.json(),tt=Je.find(Nt=>Nt.user_id===R),dt=Je.find(Nt=>Nt.user_id===pe);v(tt),j(dt),he==="User"&&D(dt)}catch(Re){console.error("Error fetching users:",Re)}})()},[R,pe]),O.useEffect(()=>{(async()=>{try{const Re=await fetch("/api/shops",{headers:{"x-api-key":Ea}});if(!Re.ok)throw new Error("Network response was not ok");const tt=(await Re.json()).find(dt=>dt.shop_id===pe);T(tt),he==="Shop"&&D(tt)}catch(Re){console.error("Error fetching shops:",Re)}})()},[pe]);const We=async()=>{console.log("fetchUsersWithChats called:",R);try{const Ce=await fetch(`/api/chatList/${R}/User/User`,{headers:{"x-api-key":Ea}});if(!Ce.ok)throw new Error("Failed to fetch chats");const Re=await Ce.json();console.log("chatsData before sorting:",Re),s(Re);const Je=Re.filter(tt=>tt.latest_chat_time!==null).sort((tt,dt)=>new Date(dt.latest_chat_time)-new Date(tt.latest_chat_time));r(Je),console.log("Sorted users:",Je)}catch(Ce){console.error("Error fetching users with chats:",Ce)}};O.useEffect(()=>{R&&We()},[R]);const qe=async()=>{try{const Ce=await fetch(`/api/chatShopList/${R}/User/Shop`,{headers:{"x-api-key":Ea}});if(!Ce.ok)throw new Error("Failed to fetch chats");const Re=await Ce.json();console.log("chatsData before sorting:",Re),h(Re);const Je=Re.filter(tt=>tt.latest_chat_time!==null).sort((tt,dt)=>new Date(dt.latest_chat_time)-new Date(tt.latest_chat_time));console.log("sortedShops :",Je),c(Je),console.log("Sorted shops:",Je)}catch(Ce){console.error("Error fetching users with chats:",Ce)}};O.useEffect(()=>{R&&qe()},[R]),O.useEffect(()=>{(async()=>{if(R&&ne){console.log("u:",R,ne);try{const Re=await fetch(`/api/chatsId/${R}/${ne}/${he}/${_e}`,{headers:{"x-api-key":Ea}});if(Re.ok){const tt=(await Re.json()).sort((Nt,Ut)=>Nt.chat_id-Ut.chat_id);e(tt),tt.filter(Nt=>!Nt.is_read&&Nt.receiver_id===R).length!==0&&(console.log("Executing mark as read"),mt())}else console.error("Failed to fetch messages:",Re.statusText)}catch(Re){console.error("Error fetching messages:",Re)}}})()},[R,ne]),O.useEffect(()=>{q.current&&q.current.scrollIntoView({behavior:"smooth"})},[t]);const mt=async()=>{const Ce=ne,Re="/api/chats/read",Je="PUT",tt=JSON.stringify({sender_id:Ce,user_id:R});try{if(!(await fetch(Re,{method:Je,headers:{"Content-Type":"application/json","x-api-key":Ea},body:tt})).ok)throw new Error("Network response was not ok")}catch(dt){console.error("Error marking messages as read:",dt)}},fe=async Ce=>{if(Ce.preventDefault(),P.trim()||V){const Re=new FormData;Re.append("sender_id",R),Re.append("receiver_id",ne),Re.append("chat_message",P),Re.append("receiver_type",he),Re.append("sender_type","User"),Re.append("sent_at",new Date),V&&Re.append("image",V);try{const Je=await fetch("/api/chats",{method:"POST",headers:{"x-api-key":Ea},body:Re});Je.ok?(Y(""),I(null)):console.error("Failed to send message:",Je.statusText)}catch(Je){console.error("Error sending message:",Je)}}},ue=Ce=>{const Re=Ce.target.files[0];Re&&I(Re)},ct=Ce=>{Z(Ce)},Ke=()=>{Z(null)},He=()=>{I(null)};O.useEffect(()=>{const Re=setInterval(()=>{ee.length===0&&(Ma.emit("requestActiveUsers"),Ma.on("activeUsers",Je=>{te(Je)}))},5e3);return()=>clearInterval(Re)},[ee]);const Ge=Ce=>ee.includes(String(Ce))?"Online":"Offline",Ye=Ce=>{De(Ce),B("")};return O.useEffect(()=>{const Ce=M.toLowerCase();if(M.trim()==="")Me==="User"?m(n):Me==="Shop"&&g(a);else if(Me==="User"){const Re=i.filter(Je=>Je.firstname&&Je.firstname.toLowerCase().includes(Ce));m(Re)}else if(Me==="Shop"){const Re=u.filter(Je=>Je.shop_name&&Je.shop_name.toLowerCase().includes(Ce));g(Re)}},[M,n,i,a,Me]),o.jsxs("div",{className:"flex flex-col md:flex-row h-full min-h-3.5 bg-gray-100",children:[o.jsxs("div",{className:`w-full md:w-1/3 lg:w-1/4 bg-white p-4 shadow-md mt-4 transition-transform duration-300 ease-in-out fixed md:relative ${G?"top-0":"top-[-100vh]"} md:top-auto z-10`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-600",children:"Inbox"}),o.jsx("button",{className:"md:hidden text-green-600 focus:outline-none",onClick:()=>$(!G),children:G?o.jsx(x9,{size:24}):o.jsx(dE,{size:24})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex space-x-4 mb-4",children:[o.jsx("button",{onClick:()=>Ye("User"),className:`flex-1 py-2 rounded-md text-center font-medium transition-colors ${Me==="User"?"bg-[#00B251] text-white":"bg-gray-200 text-gray-700"}`,children:"Users Chats"}),o.jsx("button",{onClick:()=>Ye("Shop"),className:`flex-1 py-2 rounded-md text-center font-medium transition-colors ${Me==="Shop"?"bg-[#00B251] text-white":"bg-gray-200 text-gray-700"}`,children:"Shops Chats"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-full px-4 py-2 pl-10 text-sm text-gray-600",placeholder:`${Me==="User"?"Search users or past chats...":"Search shops or past chats..."}`,value:M,onChange:Ce=>B(Ce.target.value)}),o.jsx(uE,{className:"absolute left-3 top-2.5 text-gray-500",size:18})]})]}),o.jsx("ul",{className:"divide-y divide-gray-300 overflow-y-auto max-h-[calc(100vh-250px)]",children:(Me==="User"?f:x).map(Ce=>o.jsxs("li",{className:"flex items-center p-3 hover:bg-green-200 cursor-pointer text-green-600",onClick:()=>{$(!1),H(`/admin/chat/${Ce.user_id||Ce.shop_id}/${Me==="User"?"User":"Shop"}`)},children:[o.jsx(r0,{src:Ce.user_image_url||Ce.shop_image_url,alt:Ce.firstname||Ce.shop_name||"User",className:"w-10 h-10 rounded-full mr-4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:Ce.firstname||Ce.shop_name})," ",o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-gray-500",children:b.has(Ce.user_id)?"New message":""}),o.jsx("p",{className:"text-sm text-gray-500",children:Ge(Ce.user_id||Ce.shop_id)})]})]})]},Ce.user_id||Ce.shop_id))})]}),o.jsxs("div",{className:"w-full md:w-2/3 lg:w-3/4 bg-gray-100 flex flex-col justify-between mt-4",children:[F&&o.jsxs("div",{className:"flex items-center bg-white p-4 shadow-sm",children:[o.jsx(r0,{src:F.user_image_url||F.shop_image_url,alt:F.firstname||F.shop_name||"User",className:"w-12 h-12 rounded-full mr-4"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-green-600",children:F.firstname||F.shop_name}),o.jsx("p",{className:"text-sm text-gray-500",children:Ge(F.user_id)})]})]}),o.jsxs("div",{className:"flex-1 p-4 overflow-y-scroll",children:[t.length>0?t.map((Ce,Re)=>{const Je=Ce.sender_id===R;return o.jsxs("div",{className:`flex mb-4 ${Je?"justify-end":"justify-start"}`,children:[!Je&&o.jsx(r0,{src:(F==null?void 0:F.user_image_url)||(F==null?void 0:F.shop_image_url),alt:(F==null?void 0:F.firstname)||(F==null?void 0:F.shop_name)||"User",className:"w-8 h-8 rounded-full mr-2"}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("div",{className:`rounded-lg p-4 max-w-xs ${Je?"bg-green-600 text-white":"bg-gray-200 text-gray-800"} break-words relative`,children:[o.jsx("p",{children:Ce.chat_message}),Ce.chat_image_url&&o.jsx("img",{src:Ce.chat_image_url,alt:"Sent",className:"mt-2 max-w-60 cursor-pointer",onClick:()=>ct(Ce.chat_image_url)})]}),o.jsx("p",{className:"text-xs mt-1 text-gray-500",children:new Date(Ce.sent_at).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]})]},Re)}):o.jsx("p",{className:"text-center text-gray-500",children:"No messages yet"}),o.jsx("div",{ref:q})]}),o.jsxs("form",{onSubmit:fe,className:"flex items-center bg-white p-4",children:[V&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(V),alt:"Preview",className:"w-16 h-16 object-cover rounded-md mr-4"}),o.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-green-600 text-white rounded-full p-1",onClick:He,children:o.jsx(e3,{size:18})})]}),o.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-full px-4 py-2 mr-4",placeholder:"Type a message...",value:P,onChange:Ce=>Y(Ce.target.value)}),o.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:"image/*",onChange:ue}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer text-green-600 hover:text-green-600 mr-4",children:o.jsx(m9,{size:24})}),o.jsx("button",{type:"submit",className:"bg-green-600 text-white rounded-full p-2 hover:bg-green-700",children:o.jsx(vk,{})})]}),Q&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",onClick:Ke,children:o.jsx("img",{src:Q,alt:"Full View",className:"max-w-full max-h-full"})})]})]})}const i0="AgriTayoAPIKey2024";let ep;function fE(){const[t,e]=O.useState([]),[n,r]=O.useState(null),[i,s]=O.useState(new Set),[a,c]=O.useState(""),u=Cn();O.useEffect(()=>((async()=>{try{const x=await fetch("/api/session",{headers:{"x-api-key":i0}});if(x.ok){const g=await x.json();if(g.user_id){r(g.user_id),h(g.user_id);const b=await fetch("/api/chats",{headers:{"x-api-key":i0}});if(b.ok){const N=await b.json(),k=Array.from(new Set(N.map(E=>E.sender_id===g.user_id?E.receiver_id:E.sender_id))),v=await fetch("/api/users",{headers:{"x-api-key":i0}});if(v.ok){const E=await v.json(),T=k.map(F=>E.find(D=>D.user_id===F));e(T)}const w=N.filter(E=>E.receiver_id===g.user_id&&!E.is_read),j=new Set(w.map(E=>E.sender_id));s(j)}else console.error("Failed to fetch chats:",b.statusText)}else u("/login")}else console.error("Failed to fetch user session:",x.statusText)}catch(x){console.error("Error fetching data:",x),c("Failed to fetch data. Please try again.")}})(),()=>{ep&&ep.disconnect()}),[u]);const h=m=>{ep=co(),ep.on("chat message",x=>{x.receiver_id===m&&!x.is_read&&s(g=>new Set(g).add(x.sender_id))})},f=m=>{u(`/chat/${m}`)};return o.jsx("div",{className:"container mx-auto p-4",children:o.jsxs("div",{className:"bg-white shadow rounded-md p-4",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Chats"}),a&&o.jsx("p",{className:"text-red-500",children:a}),o.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(m=>o.jsxs("li",{className:`flex items-center p-4 cursor-pointer 
                                ${i.has(m.user_id)?"bg-blue-100":"hover:bg-gray-100"}
                            `,onClick:()=>f(m.user_id),children:[o.jsx("img",{className:"w-10 h-10 rounded-full mr-4",src:m.user_image_url||"default-avatar.png",alt:`${m.user_name}'s avatar`}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium",children:m.firstname}),i.has(m.user_id)&&o.jsx("p",{className:"text-sm text-blue-500",children:"New message"})]})]},m.user_id))})]})})}const pE="AgriTayoAPIKey2024";let Zc;function mE(){const[t,e]=O.useState(null),[n,r]=O.useState(null),[i,s]=O.useState(!0),[a,c]=O.useState(0);return O.useEffect(()=>(Zc=co({transports:["websocket"]}),Zc.on("connect",()=>{console.log("WebSocket connected:",Zc.id)}),Zc.on("disconnect",()=>{console.log("WebSocket disconnected")}),()=>{Zc.disconnect()}),[]),O.useEffect(()=>{async function u(){try{const h=await fetch("/api/session",{headers:{"x-api-key":pE}});if(h.ok){const f=await h.json();r(f.user_id),e(f.user_type_id),f.user_id&&(console.log(`Emitting login for user ID: ${f.user_id}`),Zc.emit("login",f.user_id))}else console.error("Failed to fetch user session:",h.statusText)}catch(h){console.error("Error fetching user session:",h.message)}finally{s(!1)}}u()},[]),i?o.jsx("div",{children:"Loading..."}):o.jsx(sS,{children:o.jsx(gE,{userType:t,userId:n,refreshProfile:a,setRefreshProfile:c})})}function s0({allowedUserType:t,userType:e,element:n}){return e===null?o.jsx(Kc,{to:"/login"}):e===t?o.jsx(Kj,{}):e===1?o.jsx(Kc,{to:"/admin/dashboard"}):e===2?o.jsx(Kc,{to:"/seller/dashboard"}):e===3?o.jsx(Kc,{to:"/buyer/dashboard"}):o.jsx(Kc,{to:"/login"})}function gE({userType:t,userId:e,refreshProfile:n,setRefreshProfile:r}){const i=br(),s=i.pathname==="/login"||i.pathname==="/register"||i.pathname==="/logout",a=["/all","/cancelled","/completed","/returnOrRefund","/toPay","/toRecieve","/toShip"];return o.jsxs("div",{className:"flex",children:[!s&&o.jsx(M9,{userType:t,userId:e,refreshProfile:n}),!s&&o.jsx(j9,{userType:t}),a.includes(i.pathname)&&o.jsx(iE,{}),o.jsx("div",{className:"main-content flex-1 pt-10 ml-0 md:ml-20",children:o.jsxs(Xj,{children:[o.jsx(xt,{exact:!0,path:"/",element:o.jsx(n5,{})}),o.jsx(xt,{exact:!0,path:"/download",element:o.jsx(Gb,{})}),o.jsx(xt,{exact:!0,path:"/reports",element:o.jsx(Lv,{})}),!t&&o.jsxs(o.Fragment,{children:[o.jsx(xt,{path:"/login",element:o.jsx(Ck,{})}),o.jsx(xt,{path:"/register",element:o.jsx($k,{})}),o.jsx(xt,{path:"/otp",element:o.jsx(Yk,{})}),o.jsx(xt,{path:"/otpPhones",element:o.jsx(Zk,{})}),o.jsx(xt,{path:"/forgotPassword",element:o.jsx(Gk,{})}),o.jsx(xt,{path:"/forgotPasswordOTP",element:o.jsx(Jk,{})}),o.jsx(xt,{path:"/newPassword",element:o.jsx(e8,{})})]}),o.jsx(xt,{path:"/logout",element:o.jsx(Lk,{})}),o.jsxs(xt,{path:"/admin/*",element:o.jsx(s0,{element:o.jsx(_7,{}),allowedUserType:1,userType:t}),children:[o.jsx(xt,{path:"analytics",element:o.jsx(w7,{})}),o.jsx(xt,{path:"reports",element:o.jsx(Lv,{})}),o.jsx(xt,{path:"dashboard",element:o.jsx(Yb,{})}),o.jsx(xt,{path:"user_type",element:o.jsx(r8,{})}),o.jsx(xt,{path:"addresses",element:o.jsx(a7,{})}),o.jsx(xt,{path:"users",element:o.jsx(o7,{})}),o.jsx(xt,{path:"shops",element:o.jsx(l7,{})}),o.jsx(xt,{path:"crop_category",element:o.jsx(c7,{})}),o.jsx(xt,{path:"crop_sub_category",element:o.jsx(YA,{})}),o.jsx(xt,{path:"crop_variety",element:o.jsx(ZA,{})}),o.jsx(xt,{path:"metric_system",element:o.jsx(u7,{})}),o.jsx(xt,{path:"crops",element:o.jsx(d7,{})}),o.jsx(xt,{path:"order_status",element:o.jsx(h7,{})}),o.jsx(xt,{path:"orders",element:o.jsx(f7,{})}),o.jsx(xt,{path:"order_products",element:o.jsx(p7,{})}),o.jsx(xt,{path:"carts",element:o.jsx(m7,{})}),o.jsx(xt,{path:"cart_products",element:o.jsx(g7,{})}),o.jsx(xt,{path:"reviews",element:o.jsx(x7,{})}),o.jsx(xt,{path:"order_tracking",element:o.jsx(y7,{})}),o.jsx(xt,{path:"payments",element:o.jsx(v7,{})}),o.jsx(xt,{path:"notifications",element:o.jsx(b7,{})}),o.jsx(xt,{path:"crop-category",element:o.jsx(Yb,{})}),o.jsx(xt,{path:"crop-subcategory/:cropCategoryId",element:o.jsx(QA,{})}),o.jsx(xt,{path:"product-list/:cropSubCategoryId",element:o.jsx(n9,{})}),o.jsx(xt,{path:"product-details/:productListId",element:o.jsx(r9,{})}),o.jsx(xt,{path:"profile",element:o.jsx(T9,{onProfileUpdate:()=>r(c=>c+1)})}),o.jsx(xt,{path:"editPhoneNumber",element:o.jsx(O9,{})}),o.jsx(xt,{path:"editAlternativeNumber",element:o.jsx(D9,{})}),o.jsx(xt,{path:"changePasswordOTP",element:o.jsx(R9,{})}),o.jsx(xt,{path:"address",element:o.jsx(nE,{})}),o.jsx(xt,{path:"changePassword",element:o.jsx(n8,{})}),o.jsx(xt,{path:"download",element:o.jsx(Gb,{})}),o.jsx(xt,{path:"delete_account",element:o.jsx(rE,{})}),o.jsx(xt,{path:"MarketAnalytics",element:o.jsx(N7,{})}),o.jsx(xt,{path:"VarietyAnalytics/:varietyId",element:o.jsx(KA,{})}),o.jsx(xt,{path:"salesAnalytics",element:o.jsx(zA,{})}),o.jsx(xt,{path:"newUsersAnalytics",element:o.jsx(WA,{})}),o.jsx(xt,{path:"OrdersAnalytics",element:o.jsx(qA,{})}),o.jsx(xt,{path:"individualCropPriceChangesAnalytics",element:o.jsx(VA,{})}),o.jsx(xt,{path:"profitAnalytics",element:o.jsx($A,{})}),o.jsx(xt,{path:"chatlist",element:o.jsx(fE,{})}),o.jsx(xt,{path:"chat/:receiverId/:receiverType",element:o.jsx(hE,{})}),o.jsx(xt,{path:"about",element:o.jsx(n5,{})})]}),o.jsxs(xt,{path:"/seller/*",element:o.jsx(s0,{element:o.jsx(Vb,{}),allowedUserType:2,userType:t}),children:[o.jsx(xt,{path:"sample",element:o.jsx(Gy,{})}),o.jsx(xt,{path:"dashboard",element:o.jsx(Vb,{})})]}),o.jsxs(xt,{path:"/buyer/*",element:o.jsx(s0,{element:o.jsx($b,{}),allowedUserType:3,userType:t}),children:[o.jsx(xt,{path:"sample",element:o.jsx(Gy,{})}),o.jsx(xt,{path:"dashboard",element:o.jsx($b,{})})]}),o.jsx(xt,{path:"*",element:o.jsx(Kc,{to:t===null?"/login":"/admin/dashboard"})})]})})]})}o0.createRoot(document.getElementById("root")).render(o.jsx(ki.StrictMode,{children:o.jsx(mE,{})}));export{dn as _,np as c,T3 as g};
